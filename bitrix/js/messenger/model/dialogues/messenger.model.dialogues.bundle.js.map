{"version":3,"file":"messenger.model.dialogues.bundle.js","sources":["messenger.model.dialogues.js"],"sourcesContent":["\n/**\n * Bitrix Messenger\n * Message model (Vuex module)\n *\n * @package bitrix\n * @subpackage im\n * @copyright 2001-2019 Bitrix\n */\n\nclass ModelDialogues\n{\n\tstatic getInstance()\n\t{\n\t\treturn new ModelDialogues();\n\t}\n\n\tstatic getName()\n\t{\n\t\treturn 'messengerDialogues';\n\t}\n\n\tgetStore(params = {})\n\t{\n\t\treturn {\n\t\t\tnamespaced : true,\n\n\t\t\tstate:\n\t\t\t{\n\t\t\t\thost: params.host || location.protocol+'//'+location.host,\n\t\t\t\tcollection: {},\n\t\t\t},\n\n\t\t\tactions:\n\t\t\t{\n\t\t\t\tset(store, payload)\n\t\t\t\t{\n\t\t\t\t\tif (payload instanceof Array)\n\t\t\t\t\t{\n\t\t\t\t\t\tpayload = payload.map(dialog => {\n\t\t\t\t\t\t\treturn Object.assign(\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\tModelDialogues.getDialogBlank(),\n\t\t\t\t\t\t\t\tModelDialogues.validate(Object.assign({}, dialog), {host: store.state.host}),\n\t\t\t\t\t\t\t\t{init: true}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlet result = [];\n\t\t\t\t\t\tresult.push(Object.assign(\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\tModelDialogues.getDialogBlank(),\n\t\t\t\t\t\t\tModelDialogues.validate(Object.assign({}, payload), {host: store.state.host}),\n\t\t\t\t\t\t\t{init: true}\n\t\t\t\t\t\t));\n\t\t\t\t\t\tpayload = result;\n\t\t\t\t\t}\n\n\t\t\t\t\tstore.commit('set', payload);\n\t\t\t\t},\n\n\t\t\t\tupdate(store, payload)\n\t\t\t\t{\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof store.state.collection[payload.dialogId] === 'undefined'\n\t\t\t\t\t\t|| store.state.collection[payload.dialogId].init === false\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tstore.commit('update', {\n\t\t\t\t\t\tdialogId : payload.dialogId,\n\t\t\t\t\t\tfields : ModelDialogues.validate(Object.assign({}, payload.fields), {host: store.state.host})\n\t\t\t\t\t});\n\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\n\t\t\t\tdelete(store, payload)\n\t\t\t\t{\n\t\t\t\t\tstore.commit('delete', payload.dialogId);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\n\t\t\t\tupdateWriting(store, payload)\n\t\t\t\t{\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof store.state.collection[payload.dialogId] === 'undefined'\n\t\t\t\t\t\t|| store.state.collection[payload.dialogId].init === false\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet index = store.state.collection[payload.dialogId].writingList.findIndex(el => el.userId == payload.userId);\n\t\t\t\t\tif (payload.action)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (index >= 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet writingList = [].concat(store.state.collection[payload.dialogId].writingList);\n\t\t\t\t\t\t\twritingList.unshift({\n\t\t\t\t\t\t\t\tuserId: payload.userId,\n\t\t\t\t\t\t\t\tuserName: payload.userName,\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tstore.commit('update', {\n\t\t\t\t\t\t\t\tactionName: 'updateWriting/1',\n\t\t\t\t\t\t\t\tdialogId : payload.dialogId,\n\t\t\t\t\t\t\t\tfields : {writingList}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (index >= 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet writingList = store.state.collection[payload.dialogId].writingList.filter(el => el.userId != payload.userId);\n\t\t\t\t\t\t\tstore.commit('update', {\n\t\t\t\t\t\t\t\tactionName: 'updateWriting/2',\n\t\t\t\t\t\t\t\tdialogId : payload.dialogId,\n\t\t\t\t\t\t\t\tfields : {writingList}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\tincreaseCounter(store, payload)\n\t\t\t\t{\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof store.state.collection[payload.dialogId] === 'undefined'\n\t\t\t\t\t\t|| store.state.collection[payload.dialogId].init === false\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet counter = store.state.collection[payload.dialogId].counter;\n\t\t\t\t\tlet increasedCounter = counter + payload.count;\n\n\t\t\t\t\tlet fields = {\n\t\t\t\t\t\tcounter: increasedCounter\n\t\t\t\t\t};\n\n\t\t\t\t\tif (typeof payload.unreadLastId !== 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tfields.unreadLastId = payload.unreadLastId;\n\t\t\t\t\t}\n\n\t\t\t\t\tstore.commit('update', {\n\t\t\t\t\t\tactionName: 'increaseCounter',\n\t\t\t\t\t\tdialogId : payload.dialogId,\n\t\t\t\t\t\tfields\n\t\t\t\t\t});\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\tdecreaseCounter(store, payload)\n\t\t\t\t{\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof store.state.collection[payload.dialogId] === 'undefined'\n\t\t\t\t\t\t|| store.state.collection[payload.dialogId].init === false\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet counter = store.state.collection[payload.dialogId].counter;\n\t\t\t\t\tlet decreasedCounter = counter - payload.count;\n\t\t\t\t\tif (decreasedCounter < 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tdecreasedCounter = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet unreadId = payload.unreadId > store.state.collection[payload.dialogId].unreadId? payload.unreadId: store.state.collection[payload.dialogId].unreadId;\n\n\t\t\t\t\tstore.commit('update', {\n\t\t\t\t\t\tactionName: 'decreaseCounter',\n\t\t\t\t\t\tdialogId : payload.dialogId,\n\t\t\t\t\t\tfields : {\n\t\t\t\t\t\t\tcounter: decreasedCounter,\n\t\t\t\t\t\t\tunreadId: unreadId\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tmutations :\n\t\t\t{\n\t\t\t\tinitCollection(state, payload)\n\t\t\t\t{\n\t\t\t\t\tif (typeof state.collection[payload.dialogId] === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.Vue.set(state.collection, payload.dialogId, ModelDialogues.getDialogBlank());\n\n\t\t\t\t\t\tif (payload.fields)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate.collection[payload.dialogId] = Object.assign(\n\t\t\t\t\t\t\t\tstate.collection[payload.dialogId],\n\t\t\t\t\t\t\t\tModelDialogues.validate(Object.assign({}, payload.fields), {host: state.host})\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tset(state, payload)\n\t\t\t\t{\n\t\t\t\t\tfor (let element of payload)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (typeof state.collection[element.dialogId] === 'undefined')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tBX.Vue.set(state.collection, element.dialogId, element);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.collection[element.dialogId] = element;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tupdate(state, payload)\n\t\t\t\t{\n\t\t\t\t\tif (typeof state.collection[payload.dialogId] === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.Vue.set(state.collection, payload.dialogId, ModelDialogues.getDialogBlank());\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.collection[payload.dialogId] = Object.assign(\n\t\t\t\t\t\tstate.collection[payload.dialogId],\n\t\t\t\t\t\tpayload.fields\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tdelete(state, payload)\n\t\t\t\t{\n\t\t\t\t\tdelete state.collection[payload.dialogId]\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tstatic getDialogBlank()\n\t{\n\t\treturn {\n\t\t\tdialogId: 0,\n\t\t\tchatId: 0,\n\t\t\tcounter: 0,\n\t\t\tunreadId: 0,\n\t\t\tunreadLastId: 0,\n\t\t\treadedList: [],\n\t\t\twritingList: [],\n\t\t\tinit: false,\n\n\t\t\tname: \"\",\n\t\t\towner: 0,\n\t\t\textranet: false,\n\t\t\tavatar: \"\",\n\t\t\tcolor: \"#17A3EA\",\n\t\t\ttype: \"chat\",\n\t\t\tentityType: \"\",\n\t\t\tentityId: \"\",\n\t\t\tentityData1: \"\",\n\t\t\tentityData2: \"\",\n\t\t\tentityData3: \"\",\n\t\t\tdateCreate: new Date(),\n\t\t};\n\t}\n\n\tstatic validate(fields, options = {})\n\t{\n\t\tconst result = {};\n\n\t\toptions.host = options.host || location.protocol+'//'+location.host;\n\n\t\tif (typeof fields.dialog_id !== 'undefined')\n\t\t{\n\t\t\tfields.dialogId = fields.dialog_id;\n\t\t}\n\t\tif (typeof fields.dialogId === \"number\" || typeof fields.dialogId === \"string\")\n\t\t{\n\t\t\tresult.dialogId = fields.dialogId.toString();\n\t\t}\n\n\t\tif (typeof fields.chat_id !== 'undefined')\n\t\t{\n\t\t\tfields.chatId = fields.chat_id;\n\t\t}\n\t\telse if (typeof fields.id !== 'undefined')\n\t\t{\n\t\t\tfields.chatId = fields.id;\n\t\t}\n\t\tif (typeof fields.chatId === \"number\" || typeof fields.chatId === \"string\")\n\t\t{\n\t\t\tresult.chatId = parseInt(fields.chatId);\n\t\t}\n\n\t\tif (typeof fields.counter === \"number\" || typeof fields.counter === \"string\")\n\t\t{\n\t\t\tresult.counter = parseInt(fields.counter);\n\t\t}\n\n\t\tif (typeof fields.unread_id !== 'undefined')\n\t\t{\n\t\t\tfields.unreadId = fields.unread_id;\n\t\t}\n\t\tif (typeof fields.unreadId === \"number\" || typeof fields.unreadId === \"string\")\n\t\t{\n\t\t\tresult.unreadId = parseInt(fields.unreadId);\n\t\t}\n\n\t\tif (typeof fields.unread_last_id !== 'undefined')\n\t\t{\n\t\t\tfields.unreadLastId = fields.unread_last_id;\n\t\t}\n\t\tif (typeof fields.unreadLastId === \"number\" || typeof fields.unreadLastId === \"string\")\n\t\t{\n\t\t\tresult.unreadLastId = parseInt(fields.unreadLastId);\n\t\t}\n\n\t\tif (typeof fields.readed_list !== 'undefined')\n\t\t{\n\t\t\tfields.readedList = fields.readed_list;\n\t\t}\n\t\tif (typeof fields.readedList !== 'undefined')\n\t\t{\n\t\t\tresult.readedList = [];\n\n\t\t\tif (fields.readedList instanceof Array)\n\t\t\t{\n\t\t\t\tfields.readedList.forEach(element =>\n\t\t\t\t{\n\t\t\t\t\tlet record = {};\n\t\t\t\t\tif (typeof element.user_id !== 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\telement.userId = element.user_id;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof element.user_name !== 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\telement.userName = element.user_name;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof element.message_id !== 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\telement.messageId = element.message_id;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!element.userId || !element.userName || !element.messageId)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\trecord.userId = parseInt(element.userId);\n\t\t\t\t\trecord.userName = element.userName.toString();\n\t\t\t\t\trecord.messageId = parseInt(element.messageId);\n\n\t\t\t\t\tif (fields.date instanceof Date)\n\t\t\t\t\t{\n\t\t\t\t\t\trecord.date = fields.date;\n\t\t\t\t\t}\n\t\t\t\t\telse if (typeof fields.date === \"string\")\n\t\t\t\t\t{\n\t\t\t\t\t\trecord.date = new Date(fields.date);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\trecord.date = new Date();\n\t\t\t\t\t}\n\n\t\t\t\t\tresult.readedList.push(record);\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (typeof fields.writing_list !== 'undefined')\n\t\t{\n\t\t\tfields.writingList = fields.writing_list;\n\t\t}\n\t\tif (typeof fields.writingList !== 'undefined')\n\t\t{\n\t\t\tresult.writingList = [];\n\n\t\t\tif (fields.writingList instanceof Array)\n\t\t\t{\n\t\t\t\tfields.writingList.forEach(element =>\n\t\t\t\t{\n\t\t\t\t\tlet record = {};\n\n\t\t\t\t\tif (!element.userId)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\trecord.userId = parseInt(element.userId);\n\t\t\t\t\trecord.userName = element.userName;\n\n\t\t\t\t\tresult.writingList.push(record);\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (typeof fields.mute_list !== 'undefined')\n\t\t{\n\t\t\tfields.muteList = fields.mute_list;\n\t\t}\n\t\tif (typeof fields.muteList !== 'undefined')\n\t\t{\n\t\t\tresult.muteList = [];\n\n\t\t\tif (fields.muteList instanceof Array)\n\t\t\t{\n\t\t\t\tfields.muteList.forEach(userId =>\n\t\t\t\t{\n\t\t\t\t\tuserId = parseInt(userId);\n\t\t\t\t\tif (userId > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.muteList.push(userId);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (typeof fields.title !== 'undefined')\n\t\t{\n\t\t\tfields.name = fields.title;\n\t\t}\n\t\tif (typeof fields.name === \"string\" || typeof fields.name === \"number\")\n\t\t{\n\t\t\tresult.name = fields.name.toString();\n\t\t}\n\n\t\tif (typeof fields.owner !== 'undefined')\n\t\t{\n\t\t\tfields.ownerId = fields.owner;\n\t\t}\n\t\tif (typeof fields.ownerId === \"number\" || typeof fields.ownerId === \"string\")\n\t\t{\n\t\t\tresult.ownerId = parseInt(fields.ownerId);\n\t\t}\n\n\t\tif (typeof fields.extranet === \"boolean\")\n\t\t{\n\t\t\tresult.extranet = fields.extranet;\n\t\t}\n\n\t\tif (typeof fields.avatar === 'string')\n\t\t{\n\t\t\tif (!fields.avatar || fields.avatar.startsWith('http'))\n\t\t\t{\n\t\t\t\tresult.avatar = fields.avatar;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult.avatar = options.host+fields.avatar;\n\t\t\t}\n\t\t}\n\n\t\tif (typeof fields.color === \"string\")\n\t\t{\n\t\t\tresult.color = fields.color.toString();\n\t\t}\n\n\t\tif (typeof fields.type === \"string\")\n\t\t{\n\t\t\tresult.type = fields.type.toString();\n\t\t}\n\n\t\tif (typeof fields.entity_type !== 'undefined')\n\t\t{\n\t\t\tfields.entityType = fields.entity_type;\n\t\t}\n\t\tif (typeof fields.entityType === \"string\")\n\t\t{\n\t\t\tresult.entityType = fields.entityType.toString();\n\t\t}\n\t\tif (typeof fields.entity_id !== 'undefined')\n\t\t{\n\t\t\tfields.entityId = fields.entity_id;\n\t\t}\n\t\tif (typeof fields.entityId === \"string\" || typeof fields.entityId === \"number\")\n\t\t{\n\t\t\tresult.entityId = fields.entityId.toString();\n\t\t}\n\n\t\tif (typeof fields.entity_data_1 !== 'undefined')\n\t\t{\n\t\t\tfields.entityData1 = fields.entity_data_1;\n\t\t}\n\t\tif (typeof fields.entityData1 === \"string\")\n\t\t{\n\t\t\tresult.entityData1 = fields.entityData1.toString();\n\t\t}\n\n\t\tif (typeof fields.entity_data_2 !== 'undefined')\n\t\t{\n\t\t\tfields.entityData2 = fields.entity_data_2;\n\t\t}\n\t\tif (typeof fields.entityData2 === \"string\")\n\t\t{\n\t\t\tresult.entityData2 = fields.entityData2.toString();\n\t\t}\n\n\t\tif (typeof fields.entity_data_3 !== 'undefined')\n\t\t{\n\t\t\tfields.entityData3 = fields.entity_data_3;\n\t\t}\n\t\tif (typeof fields.entityData3 === \"string\")\n\t\t{\n\t\t\tresult.entityData3 = fields.entityData3.toString();\n\t\t}\n\n\t\tif (typeof fields.date_create !== 'undefined')\n\t\t{\n\t\t\tfields.dateCreate = fields.date_create;\n\t\t}\n\t\tif (fields.dateCreate instanceof Date)\n\t\t{\n\t\t\tresult.dateCreate = fields.dateCreate;\n\t\t}\n\t\telse if (typeof fields.dateCreate === \"string\")\n\t\t{\n\t\t\tresult.dateCreate = new Date(fields.dateCreate);\n\t\t}\n\n\t\treturn result;\n\t}\n}\n\nif (!window.BX)\n{\n\twindow.BX = {};\n}\nif (typeof window.BX.Messenger == 'undefined')\n{\n\twindow.BX.Messenger = {};\n}\nif (typeof window.BX.Messenger.Model == 'undefined')\n{\n\twindow.BX.Messenger.Model = {};\n}\nif (typeof window.BX.Messenger.Model.Dialogues == 'undefined')\n{\n\tBX.Messenger.Model.Dialogues = ModelDialogues;\n}"],"names":["ModelDialogues","params","namespaced","state","host","location","protocol","collection","actions","set","store","payload","Array","map","dialog","Object","assign","getDialogBlank","validate","init","result","push","commit","update","dialogId","fields","delete","updateWriting","index","writingList","findIndex","el","userId","action","concat","unshift","userName","actionName","filter","increaseCounter","counter","increasedCounter","count","unreadLastId","decreaseCounter","decreasedCounter","unreadId","mutations","initCollection","BX","Vue","element","chatId","readedList","name","owner","extranet","avatar","color","type","entityType","entityId","entityData1","entityData2","entityData3","dateCreate","Date","options","dialog_id","toString","chat_id","id","parseInt","unread_id","unread_last_id","readed_list","forEach","record","user_id","user_name","message_id","messageId","date","writing_list","mute_list","muteList","title","ownerId","startsWith","entity_type","entity_id","entity_data_1","entity_data_2","entity_data_3","date_create","window","Messenger","Model","Dialogues"],"mappings":"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"}