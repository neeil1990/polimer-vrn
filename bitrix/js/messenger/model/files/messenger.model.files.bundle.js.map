{"version":3,"file":"messenger.model.files.bundle.js","sources":["messenger.model.files.js"],"sourcesContent":["/**\n * Bitrix Messenger\n * File model (Vuex module)\n *\n * @package bitrix\n * @subpackage im\n * @copyright 2001-2019 Bitrix\n */\n\nconst InsertType = Object.freeze({\n\tafter: 'after',\n\tbefore: 'before',\n});\n\nclass ModelFiles\n{\n\tstatic getInstance()\n\t{\n\t\treturn new ModelFiles();\n\t}\n\n\tstatic getName()\n\t{\n\t\treturn 'messengerFiles';\n\t}\n\n\tgetStore(params = {})\n\t{\n\t\treturn {\n\t\t\tnamespaced : true,\n\n\t\t\tstate:\n\t\t\t{\n\t\t\t\thost: params.host || location.protocol+'//'+location.host,\n\t\t\t\tcreated: 0,\n\t\t\t\tcollection: {},\n\t\t\t\tindex: {},\n\t\t\t},\n\n\t\t\tactions:\n\t\t\t{\n\t\t\t\tset(store, payload)\n\t\t\t\t{\n\t\t\t\t\tif (payload instanceof Array)\n\t\t\t\t\t{\n\t\t\t\t\t\tpayload = payload.map(file => {\n\t\t\t\t\t\t\tlet result = ModelFiles.validate(Object.assign({}, file), {host: store.state.host});\n\t\t\t\t\t\t\tresult.templateId = result.id;\n\t\t\t\t\t\t\treturn Object.assign({}, ModelFiles.getFileBlank(), result);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlet result = ModelFiles.validate(Object.assign({}, payload), {host: store.state.host});\n\t\t\t\t\t\tresult.templateId = result.id;\n\t\t\t\t\t\tpayload = [];\n\t\t\t\t\t\tpayload.push(\n\t\t\t\t\t\t\tObject.assign({}, ModelFiles.getFileBlank(), result)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tstore.commit('set', {\n\t\t\t\t\t\tinsertType : InsertType.after,\n\t\t\t\t\t\tdata : payload\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tsetBefore(store, payload)\n\t\t\t\t{\n\t\t\t\t\tif (payload instanceof Array)\n\t\t\t\t\t{\n\t\t\t\t\t\tpayload = payload.map(message => {\n\t\t\t\t\t\t\tlet result = ModelFiles.validate(Object.assign({}, message), {host: store.state.host});\n\t\t\t\t\t\t\tresult.templateId = result.id;\n\t\t\t\t\t\t\treturn Object.assign({}, ModelFiles.getFileBlank(), result);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlet result = ModelFiles.validate(Object.assign({}, payload), {host: store.state.host});\n\t\t\t\t\t\tresult.templateId = result.id;\n\t\t\t\t\t\tpayload = [];\n\t\t\t\t\t\tpayload.push(\n\t\t\t\t\t\t\tObject.assign({}, ModelFiles.getFileBlank(), result)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tstore.commit('set', {\n\t\t\t\t\t\tactionName: 'setBefore',\n\t\t\t\t\t\tinsertType : InsertType.before,\n\t\t\t\t\t\tdata : payload\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tupdate(store, payload)\n\t\t\t\t{\n\t\t\t\t\tlet result = ModelFiles.validate(Object.assign({}, payload.fields), {host: store.state.host});\n\n\t\t\t\t\tif (typeof store.state.collection[payload.chatId] === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.Vue.set(store.state.collection, payload.chatId, []);\n\t\t\t\t\t\tBX.Vue.set(store.state.index, payload.chatId, {});\n\t\t\t\t\t}\n\n\t\t\t\t\tlet index = store.state.collection[payload.chatId].findIndex(el => el.id == payload.id);\n\t\t\t\t\tif (index < 0)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tstore.commit('update', {\n\t\t\t\t\t\tid : payload.id,\n\t\t\t\t\t\tchatId : payload.chatId,\n\t\t\t\t\t\tindex : index,\n\t\t\t\t\t\tfields : result\n\t\t\t\t\t});\n\n\t\t\t\t\tif (payload.fields.blink)\n\t\t\t\t\t{\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tstore.commit('update', {\n\t\t\t\t\t\t\t\tid : payload.id ,\n\t\t\t\t\t\t\t\tchatId : payload.chatId,\n\t\t\t\t\t\t\t\tfields : {blink: false}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tdelete(store, payload)\n\t\t\t\t{\n\t\t\t\t\tstore.commit('delete', {\n\t\t\t\t\t\tid : payload.id,\n\t\t\t\t\t\tchatId : payload.chatId\n\t\t\t\t\t});\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tmutations:\n\t\t\t{\n\t\t\t\tinitCollection(state, payload)\n\t\t\t\t{\n\t\t\t\t\tif (typeof state.collection[payload.chatId] === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.Vue.set(state.collection, payload.chatId, []);\n\t\t\t\t\t\tBX.Vue.set(state.index, payload.chatId, {});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tset(state, payload)\n\t\t\t\t{\n\t\t\t\t\tif (payload.insertType == InsertType.after)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (let element of payload.data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (typeof state.collection[element.chatId] === 'undefined')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.Vue.set(state.collection, element.chatId, []);\n\t\t\t\t\t\t\t\tBX.Vue.set(state.index, element.chatId, {});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet index = state.collection[element.chatId].findIndex(el => el.id === element.id);\n\t\t\t\t\t\t\tif (index > -1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstate.collection[element.chatId][index] = element;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstate.collection[element.chatId].push(element);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstate.index[element.chatId][element.id] = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (let element of payload.data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (typeof state.collection[element.chatId] === 'undefined')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tBX.Vue.set(state.collection, element.chatId, []);\n\t\t\t\t\t\t\t\tBX.Vue.set(state.index, element.chatId, {});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet index = state.collection[element.chatId].findIndex(el => el.id === element.id);\n\t\t\t\t\t\t\tif (index > -1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstate.collection[element.chatId][index] = element;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstate.collection[element.chatId].unshift(element);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstate.index[element.chatId][element.id] = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tupdate(state, payload)\n\t\t\t\t{\n\t\t\t\t\tif (typeof state.collection[payload.chatId] === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.Vue.set(state.collection, payload.chatId, []);\n\t\t\t\t\t\tBX.Vue.set(state.index, payload.chatId, {});\n\t\t\t\t\t}\n\n\t\t\t\t\tlet index = -1;\n\t\t\t\t\tif (typeof payload.index !== 'undefined' && state.collection[payload.chatId][payload.index])\n\t\t\t\t\t{\n\t\t\t\t\t\tindex = payload.index;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tindex = state.collection[payload.chatId].findIndex(el => el.id == payload.id);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index >= 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = Object.assign(\n\t\t\t\t\t\t\tstate.collection[payload.chatId][index],\n\t\t\t\t\t\t\tpayload.fields\n\t\t\t\t\t\t);\n\t\t\t\t\t\tstate.collection[payload.chatId][index] = element;\n\t\t\t\t\t\tstate.index[payload.chatId][element.id] = element;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdelete(state, payload)\n\t\t\t\t{\n\t\t\t\t\tif (typeof state.collection[payload.chatId] === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tBX.Vue.set(state.collection, payload.chatId, []);\n\t\t\t\t\t\tBX.Vue.set(state.index, payload.chatId, {});\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.collection[payload.chatId] = state.collection[payload.chatId].filter(element => element.id != payload.id);\n\t\t\t\t\tdelete state.index[payload.chatId][payload.id];\n\t\t\t\t},\n\t\t\t}\n\t\t};\n\t}\n\n\tstatic convertToArray(object)\n\t{\n\t\tlet result = [];\n\t\tfor (let i in object)\n\t\t{\n\t\t\tif (object.hasOwnProperty(i))\n\t\t\t{\n\t\t\t\tresult.push(object[i]);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tstatic getFileBlank()\n\t{\n\t\treturn {\n\t\t\tid: 0,\n\t\t\ttemplateId: 0,\n\t\t\tchatId: 0,\n\t\t\tdate: new Date(),\n\t\t\ttype: 'file',\n\t\t\tname: \"\",\n\t\t\textension: \"\",\n\t\t\ticon: \"empty\",\n\t\t\tsize: 0,\n\t\t\timage: false,\n\t\t\tstatus: 'done',\n\t\t\tprogress: 100,\n\t\t\tauthorId: 0,\n\t\t\tauthorName: \"\",\n\t\t\turlPreview: \"\",\n\t\t\turlShow: \"\",\n\t\t\turlDownload: \"\",\n\t\t};\n\t}\n\n\tstatic validate(fields, options = {})\n\t{\n\t\tconst result = {};\n\n\t\toptions.host = options.host || location.protocol+'//'+location.host;\n\n\t\tif (typeof fields.id === \"number\" || typeof fields.id === \"string\")\n\t\t{\n\t\t\tresult.id = parseInt(fields.id);\n\t\t}\n\n\t\tif (typeof fields.chatId === \"number\" || typeof fields.chatId === \"string\")\n\t\t{\n\t\t\tresult.chatId = parseInt(fields.chatId);\n\t\t}\n\n\t\tif (fields.date instanceof Date)\n\t\t{\n\t\t\tresult.date = fields.date;\n\t\t}\n\t\telse if (typeof fields.date === \"string\")\n\t\t{\n\t\t\tresult.date = new Date(fields.date);\n\t\t}\n\n\t\tif (typeof fields.type === \"string\")\n\t\t{\n\t\t\tresult.type = fields.type;\n\t\t}\n\n\t\tif (typeof fields.extension === \"string\")\n\t\t{\n\t\t\tresult.extension = fields.extension.toString();\n\n\t\t\tif (result.type === 'image')\n\t\t\t{\n\t\t\t\tresult.icon = 'img';\n\t\t\t}\n\t\t\telse if (result.type === 'video')\n\t\t\t{\n\t\t\t\tresult.icon = 'mov';\n\t\t\t}\n\t\t\telse if (result.extension === 'docx' || result.extension === 'doc')\n\t\t\t{\n\t\t\t\tresult.icon = 'doc';\n\t\t\t}\n\t\t\telse if (result.extension === 'xlsx' || result.extension === 'xls')\n\t\t\t{\n\t\t\t\tresult.icon = 'xls';\n\t\t\t}\n\t\t\telse if (result.extension === 'pptx' || result.extension === 'ppt')\n\t\t\t{\n\t\t\t\tresult.icon = 'ppt';\n\t\t\t}\n\t\t\telse if (result.extension === 'rar')\n\t\t\t{\n\t\t\t\tresult.icon = 'rar';\n\t\t\t}\n\t\t\telse if (result.extension === 'zip')\n\t\t\t{\n\t\t\t\tresult.icon = 'zip';\n\t\t\t}\n\t\t\telse if (result.extension === 'pdf')\n\t\t\t{\n\t\t\t\tresult.icon = 'pdf';\n\t\t\t}\n\t\t\telse if (result.extension === 'txt')\n\t\t\t{\n\t\t\t\tresult.icon = 'txt';\n\t\t\t}\n\t\t\telse if (result.extension === 'php')\n\t\t\t{\n\t\t\t\tresult.icon = 'php';\n\t\t\t}\n\t\t\telse if (result.extension === 'conf' || result.extension === 'ini' || result.extension === 'plist')\n\t\t\t{\n\t\t\t\tresult.icon = 'set';\n\t\t\t}\n\t\t}\n\n\t\tif (typeof fields.name === \"string\" || typeof fields.name === \"number\")\n\t\t{\n\t\t\tresult.name = fields.name.toString();\n\t\t}\n\n\n\t\tif (typeof fields.size === \"number\" || typeof fields.size === \"string\")\n\t\t{\n\t\t\tresult.size = parseInt(fields.size);\n\t\t}\n\n\t\tif (typeof fields.image === 'boolean')\n\t\t{\n\t\t\tresult.image = false;\n\t\t}\n\t\telse if (typeof fields.image === 'object' && fields.image)\n\t\t{\n\t\t\tresult.image = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t};\n\n\t\t\tif (typeof fields.image.width === \"number\")\n\t\t\t{\n\t\t\t\tresult.image.width = fields.image.width;\n\t\t\t}\n\t\t\tif (typeof fields.image.height === \"number\")\n\t\t\t{\n\t\t\t\tresult.image.height = fields.image.height;\n\t\t\t}\n\t\t}\n\n\t\tif (typeof fields.status === \"string\")\n\t\t{\n\t\t\tresult.status = fields.status;\n\t\t}\n\n\t\tif (typeof fields.progress === \"number\" || typeof fields.progress === \"string\")\n\t\t{\n\t\t\tresult.progress = parseInt(fields.progress);\n\t\t}\n\n\t\tif (typeof fields.authorId === \"number\" || typeof fields.authorId === \"string\")\n\t\t{\n\t\t\tresult.authorId = parseInt(fields.authorId);\n\t\t}\n\n\t\tif (typeof fields.authorName === \"string\" || typeof fields.authorName === \"number\")\n\t\t{\n\t\t\tresult.authorName = fields.authorName.toString();\n\t\t}\n\n\t\tif (typeof fields.urlPreview === 'string')\n\t\t{\n\t\t\tif (!fields.urlPreview || fields.urlPreview.startsWith('http'))\n\t\t\t{\n\t\t\t\tresult.urlPreview = fields.urlPreview;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult.urlPreview = options.host+fields.urlPreview;\n\t\t\t}\n\t\t}\n\n\t\tif (typeof fields.urlDownload === 'string')\n\t\t{\n\t\t\tif (!fields.urlDownload || fields.urlDownload.startsWith('http'))\n\t\t\t{\n\t\t\t\tresult.urlDownload = fields.urlDownload;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult.urlDownload = options.host+fields.urlDownload;\n\t\t\t}\n\t\t}\n\n\t\tif (typeof fields.urlShow === 'string')\n\t\t{\n\t\t\tif (!fields.urlShow || fields.urlShow.startsWith('http'))\n\t\t\t{\n\t\t\t\tresult.urlShow = fields.urlShow;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresult.urlShow = options.host+fields.urlShow;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n}\n\nif (!window.BX)\n{\n\twindow.BX = {};\n}\nif (typeof window.BX.Messenger == 'undefined')\n{\n\twindow.BX.Messenger = {};\n}\nif (typeof window.BX.Messenger.Model == 'undefined')\n{\n\twindow.BX.Messenger.Model = {};\n}\nif (typeof window.BX.Messenger.Model.Files == 'undefined')\n{\n\tBX.Messenger.Model.Files = ModelFiles;\n}"],"names":["InsertType","Object","freeze","after","before","ModelFiles","params","namespaced","state","host","location","protocol","created","collection","index","actions","set","store","payload","Array","map","file","result","validate","assign","templateId","id","getFileBlank","push","commit","insertType","data","setBefore","message","actionName","update","fields","chatId","BX","Vue","findIndex","el","blink","setTimeout","delete","mutations","initCollection","element","unshift","filter","object","i","hasOwnProperty","date","Date","type","name","extension","icon","size","image","status","progress","authorId","authorName","urlPreview","urlShow","urlDownload","options","parseInt","toString","width","height","startsWith","window","Messenger","Model","Files"],"mappings":"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"}