(()=>{var t={181:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(81),i=n.n(r),o=n(879),s=n.n(o)()(i());s.push([t.id,'.suggestions-nowrap {\n  white-space: nowrap;\n}\n/**\n * \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 INPUT\n */\n.suggestions-input {\n  -ms-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n}\n.suggestions-input::-ms-clear {\n  display: none;\n}\n.suggestions-wrapper {\n  position: relative;\n  margin: 0;\n  padding: 0;\n  vertical-align: top;\n  -webkit-text-size-adjust: 100%;\n}\n/**\n * \u0412\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0439 \u0431\u043b\u043e\u043a \u0441 \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u043c\u0438 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430\u043c\u0438\n */\n.suggestions-suggestions {\n  background: #fff;\n  border: 1px solid #999;\n  -ms-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  cursor: default;\n  left: 0;\n  min-width: 100%;\n  position: absolute;\n  z-index: 9999;\n  -webkit-text-size-adjust: 100%;\n}\n.suggestions-suggestions strong {\n  font-weight: normal;\n  color: #3399ff;\n}\n.suggestions-suggestions.suggestions-mobile {\n  border-style: none;\n}\n.suggestions-suggestions.suggestions-mobile .suggestions-suggestion {\n  border-bottom: 1px solid #ddd;\n}\n/**\n * \u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438\n */\n.suggestions-suggestion {\n  padding: 4px 4px;\n  overflow: hidden;\n}\n.suggestions-suggestion:hover {\n  background: #f7f7f7;\n}\n/**\n * \u0412\u044b\u0431\u0440\u0430\u043d\u043d\u0430\u044f (\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f) \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430\n */\n.suggestions-selected {\n  background: #f0f0f0;\n}\n.suggestions-selected:hover {\n  background: #f0f0f0;\n}\n/**\n * \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0431\u043b\u043e\u043a \u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u0439 \u0447\u0430\u0441\u0442\u0438 \u0432\u044b\u043f\u0430\u0434\u0430\u0448\u043a\u0438 \u0441 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430\u043c\u0438\n */\n.suggestions-hint {\n  padding: 4px 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  color: #777;\n  font-size: 85%;\n  line-height: 20px;\n}\n/**\n * \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0432 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u0434\u0435\u0442 \u0432\u0442\u043e\u0440\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439\n */\n.suggestions-subtext {\n  color: #777;\n}\n/**\n * \u0420\u0430\u0437\u043c\u0435\u0449\u0430\u0435\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0432 \u043e\u0434\u043d\u0443 \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438\n */\n.suggestions-subtext_inline {\n  display: inline-block;\n  min-width: 6em;\n  vertical-align: bottom;\n  margin: 0 0.5em 0 0;\n}\n/**\n * \u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\n */\n.suggestions-subtext-delimiter {\n  display: inline-block;\n  width: 2px;\n}\n/**\n * \u0412\u044b\u0434\u0435\u043b\u044f\u0435\u0442 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0443\n */\n.suggestions-subtext_label {\n  margin: 0 0 0 0.25em;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  border-radius: 3px;\n  padding: 0 3px;\n  background: #f5f5f5;\n  font-size: 85%;\n}\n.suggestions-value[data-suggestion-status="LIQUIDATED"] {\n  position: relative;\n}\n.suggestions-value[data-suggestion-status="LIQUIDATED"]:after {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  border-top: 1px solid rgba(0, 0, 0, 0.4);\n  content: "";\n}\n/**\n * \u041f\u0440\u043e\u043c\u043e-\u0431\u043b\u043e\u043a\n */\n.suggestions-promo {\n  font-size: 85%;\n  display: none;\n  color: #777;\n  padding: 4px;\n  text-align: center;\n}\n.suggestions-promo a {\n  color: #777;\n  display: block;\n  filter: grayscale(100%);\n  line-height: 20px;\n  text-decoration: none;\n}\n.suggestions-promo a:hover {\n  filter: grayscale(0);\n}\n.suggestions-promo svg {\n  height: 20px;\n  vertical-align: bottom;\n}\n@media screen and (min-width: 600px) {\n  .suggestions-promo {\n    position: absolute;\n    top: 0;\n    right: 0;\n    text-align: left;\n  }\n}\n',""]);const a=s},879:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(s[u]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);r&&s[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},755:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,u=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},l=o.push,c=o.indexOf,f={},d=f.toString,p=f.hasOwnProperty,h=p.toString,g=h.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},m=function(t){return null!=t&&t===t.window},_=r.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var r,i,o=(n=n||_).createElement("script");if(o.text=t,e)for(r in b)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[d.call(t)]||"object":typeof t}var S="3.6.4",C=function(t,e){return new C.fn.init(t,e)};function E(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!y(t)&&!m(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:S,constructor:C,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&(l&&r&&(C.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[e],o=i&&!Array.isArray(n)?[]:i||C.isPlainObject(n)?n:{},i=!1,s[e]=C.extend(l,o,r)):void 0!==r&&(s[e]=r));return s},C.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=s(t))||"function"==typeof(n=p.call(e,"constructor")&&e.constructor)&&h.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){x(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(E(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(E(Object(t))?C.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,s=[];if(E(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&s.push(i);return u(s)},guid:1,support:v}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){f["[object "+e+"]"]=e.toLowerCase()}));var T=function(t){var e,n,r,i,o,s,a,u,l,c,f,d,p,h,g,v,y,m,_,b="sizzle"+1*new Date,x=t.document,w=0,S=0,C=ut(),E=ut(),T=ut(),D=ut(),k=function(t,e){return t===e&&(f=!0),0},A={}.hasOwnProperty,O=[],P=O.pop,j=O.push,B=O.push,L=O.slice,I=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",M="(?:\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+N+"*("+M+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+N+"*\\]",q=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",$=new RegExp(N+"+","g"),z=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),V=new RegExp("^"+N+"*,"+N+"*"),U=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),H=new RegExp(N+"|>"),W=new RegExp(q),G=new RegExp("^"+M+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},st=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{B.apply(O=L.call(x.childNodes),x.childNodes),O[x.childNodes.length].nodeType}catch(t){B={apply:O.length?function(t,e){j.apply(t,L.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function at(t,e,r,i){var o,a,l,c,f,h,y,m=e&&e.ownerDocument,x=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return r;if(!i&&(d(e),e=e||p,g)){if(11!==x&&(f=K.exec(t)))if(o=f[1]){if(9===x){if(!(l=e.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&_(e,l)&&l.id===o)return r.push(l),r}else{if(f[2])return B.apply(r,e.getElementsByTagName(t)),r;if((o=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return B.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!D[t+" "]&&(!v||!v.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(y=t,m=e,1===x&&(H.test(t)||U.test(t))){for((m=tt.test(t)&&yt(e.parentNode)||e)===e&&n.scope||((c=e.getAttribute("id"))?c=c.replace(rt,it):e.setAttribute("id",c=b)),a=(h=s(t)).length;a--;)h[a]=(c?"#"+c:":scope")+" "+_t(h[a]);y=h.join(",")}try{return B.apply(r,m.querySelectorAll(y)),r}catch(e){D(t,!0)}finally{c===b&&e.removeAttribute("id")}}}return u(t.replace(z,"$1"),e,r,i)}function ut(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function lt(t){return t[b]=!0,t}function ct(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ft(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function dt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function vt(t){return lt((function(e){return e=+e,lt((function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||"HTML")},d=at.setDocument=function(t){var e,i,s=t?t.ownerDocument||t:x;return s!=p&&9===s.nodeType&&s.documentElement?(h=(p=s).documentElement,g=!o(p),x!=p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ot,!1):i.attachEvent&&i.attachEvent("onunload",ot)),n.scope=ct((function(t){return h.appendChild(t).appendChild(p.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.cssHas=ct((function(){try{return p.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}})),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ct((function(t){return h.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},y=[],v=[],(n.qsa=J.test(p.querySelectorAll))&&(ct((function(t){var e;h.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+N+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+N+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+b+"-]").length||v.push("~="),(e=p.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\["+N+"*name"+N+"*="+N+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+N+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=J.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=m.call(t,"*"),m.call(t,"[s!='']:x"),y.push("!=",q)})),n.cssHas||v.push(":has"),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),e=J.test(h.compareDocumentPosition),_=e||J.test(h.contains)?function(t,e){var n=9===t.nodeType&&t.documentElement||t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},k=e?function(t,e){if(t===e)return f=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t==p||t.ownerDocument==x&&_(x,t)?-1:e==p||e.ownerDocument==x&&_(x,e)?1:c?I(c,t)-I(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t==p?-1:e==p?1:i?-1:o?1:c?I(c,t)-I(c,e):0;if(i===o)return dt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?dt(s[r],a[r]):s[r]==x?-1:a[r]==x?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(d(t),n.matchesSelector&&g&&!D[e+" "]&&(!y||!y.test(e))&&(!v||!v.test(e)))try{var r=m.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){D(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&d(t),_(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&d(t);var i=r.attrHandle[e.toLowerCase()],o=i&&A.call(r.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(rt,it)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(k),f){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return c=null,t},i=at.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},r=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+N+")"+t+"("+N+"|$)"))&&C(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=at.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,f,d,p,h,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,y=a&&e.nodeName.toLowerCase(),m=!u&&!a,_=!1;if(v){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=g="only"===t&&!h&&"nextSibling"}return!0}if(h=[s?v.firstChild:v.lastChild],s&&m){for(_=(p=(l=(c=(f=(d=v)[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]||[])[0]===w&&l[1])&&l[2],d=p&&v.childNodes[p];d=++p&&d&&d[g]||(_=p=0)||h.pop();)if(1===d.nodeType&&++_&&d===e){c[t]=[w,p,_];break}}else if(m&&(_=p=(l=(c=(f=(d=e)[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]||[])[0]===w&&l[1]),!1===_)for(;(d=++p&&d&&d[g]||(_=p=0)||h.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++_||(m&&((c=(f=d[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]=[w,_]),d!==e)););return(_-=i)===r||_%r==0&&_/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=I(t,o[s])]=!(n[r]=o[s])})):function(t){return i(t,0,n)}):i}},pseudos:{not:lt((function(t){var e=[],n=[],r=a(t.replace(z,"$1"));return r[b]?lt((function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}})),lang:lt((function(t){return G.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt((function(){return[0]})),last:vt((function(t,e){return[e-1]})),eq:vt((function(t,e,n){return[n<0?n+e:n]})),even:vt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:vt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:vt((function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:vt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ht(e);function mt(){}function _t(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function bt(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=S++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i);return!1}:function(e,n,u){var l,c,f,d=[w,a];if(u){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(c=(f=e[b]||(e[b]={}))[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===w&&l[1]===a)return d[2]=l[2];if(c[o]=d,d[2]=t(e,n,u))return!0}return!1}}function xt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function wt(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),l&&e.push(a)));return s}function St(t,e,n,r,i,o){return r&&!r[b]&&(r=St(r)),i&&!i[b]&&(i=St(i,o)),lt((function(o,s,a,u){var l,c,f,d=[],p=[],h=s.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)at(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:wt(g,d,t,a,u),y=n?i||(o?t:h||r)?[]:s:v;if(n&&n(v,y,a,u),r)for(l=wt(y,p),r(l,[],a,u),c=l.length;c--;)(f=l[c])&&(y[p[c]]=!(v[p[c]]=f));if(o){if(i||t){if(i){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(v[c]=f);i(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&(l=i?I(o,f):d[c])>-1&&(o[l]=!(s[l]=f))}}else y=wt(y===s?y.splice(h,y.length):y),i?i(null,s,y,u):B.apply(s,y)}))}function Ct(t){for(var e,n,i,o=t.length,s=r.relative[t[0].type],a=s||r.relative[" "],u=s?1:0,c=bt((function(t){return t===e}),a,!0),f=bt((function(t){return I(e,t)>-1}),a,!0),d=[function(t,n,r){var i=!s&&(r||n!==l)||((e=n).nodeType?c(t,n,r):f(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])d=[bt(xt(d),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[b]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return St(u>1&&xt(d),u>1&&_t(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(z,"$1"),n,u<i&&Ct(t.slice(u,i)),i<o&&Ct(t=t.slice(i)),i<o&&_t(t))}d.push(n)}return xt(d)}return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,s=at.tokenize=function(t,e){var n,i,o,s,a,u,l,c=E[t+" "];if(c)return e?0:c.slice(0);for(a=t,u=[],l=r.preFilter;a;){for(s in n&&!(i=V.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(z," ")}),a=a.slice(n.length)),r.filter)!(i=X[s].exec(a))||l[s]&&!(i=l[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):E(t,u).slice(0)},a=at.compile=function(t,e){var n,i=[],o=[],a=T[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=Ct(e[n]))[b]?i.push(a):o.push(a);a=T(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,s,a,u,c){var f,h,v,y=0,m="0",_=o&&[],b=[],x=l,S=o||i&&r.find.TAG("*",c),C=w+=null==x?1:Math.random()||.1,E=S.length;for(c&&(l=s==p||s||c);m!==E&&null!=(f=S[m]);m++){if(i&&f){for(h=0,s||f.ownerDocument==p||(d(f),a=!g);v=t[h++];)if(v(f,s||p,a)){u.push(f);break}c&&(w=C)}n&&((f=!v&&f)&&y--,o&&_.push(f))}if(y+=m,n&&m!==y){for(h=0;v=e[h++];)v(_,b,s,a);if(o){if(y>0)for(;m--;)_[m]||b[m]||(b[m]=P.call(u));b=wt(b)}B.apply(u,b),c&&!o&&b.length>0&&y+e.length>1&&at.uniqueSort(u)}return c&&(w=C,l=x),_};return n?lt(o):o}(o,i)),a.selector=t}return a},u=at.select=function(t,e,n,i){var o,u,l,c,f,d="function"==typeof t&&t,p=!i&&s(t=d.selector||t);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&g&&r.relative[u[1].type]){if(!(e=(r.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=X.needsContext.test(t)?0:u.length;o--&&(l=u[o],!r.relative[c=l.type]);)if((f=r.find[c])&&(i=f(l.matches[0].replace(et,nt),tt.test(u[0].type)&&yt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&_t(u)))return B.apply(n,i),n;break}}return(d||a(t,p))(i,e,!g,n,!e||tt.test(t)&&yt(e.parentNode)||e),n},n.sortStable=b.split("").sort(k).join("")===b,n.detectDuplicates=!!f,d(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ft("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ft("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ft(R,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),at}(r);C.find=T,C.expr=T.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=T.uniqueSort,C.text=T.getText,C.isXMLDoc=T.isXML,C.contains=T.contains,C.escapeSelector=T.escape;var D=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&C(t).is(n))break;r.push(t)}return r},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=C.expr.match.needsContext;function O(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(t,e,n){return y(e)?C.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?C.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?C.grep(t,(function(t){return c.call(e,t)>-1!==n})):C.filter(e,t,n)}C.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?C.find.matchesSelector(r,t)?[r]:[]:C.find.matches(t,C.grep(e,(function(t){return 1===t.nodeType})))},C.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(C(t).filter((function(){for(e=0;e<r;e++)if(C.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)C.find(t,i[e],n);return r>1?C.uniqueSort(n):n},filter:function(t){return this.pushStack(j(this,t||[],!1))},not:function(t){return this.pushStack(j(this,t||[],!0))},is:function(t){return!!j(this,"string"==typeof t&&A.test(t)?C(t):t||[],!1).length}});var B,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||B,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:L.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:_,!0)),P.test(r[1])&&C.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=_.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,B=C(_);var I=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&C(t);if(!A.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?c.call(C(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return D(t,"parentNode")},parentsUntil:function(t,e,n){return D(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return D(t,"nextSibling")},prevAll:function(t){return D(t,"previousSibling")},nextUntil:function(t,e,n){return D(t,"nextSibling",n)},prevUntil:function(t,e,n){return D(t,"previousSibling",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(O(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},(function(t,e){C.fn[t]=function(n,r){var i=C.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=C.filter(r,i)),this.length>1&&(R[t]||C.uniqueSort(i),I.test(t)&&i.reverse()),this.pushStack(i)}}));var M=/[^\x20\t\r\n\f]+/g;function F(t){return t}function q(t){throw t}function $(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}C.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return C.each(t.match(M)||[],(function(t,n){e[n]=!0})),e}(t):C.extend({},t);var e,n,r,i,o=[],s=[],a=-1,u=function(){for(i=i||t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){C.each(n,(function(n,r){y(r)?t.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==w(r)&&e(r)}))}(arguments),n&&!e&&u()),this},remove:function(){return C.each(arguments,(function(t,e){for(var n;(n=C.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?C.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},C.extend({Deferred:function(t){var e=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return C.Deferred((function(n){C.each(e,(function(e,r){var i=y(t[r[4]])&&t[r[4]];o[r[1]]((function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,i){var o=0;function s(t,e,n,i){return function(){var a=this,u=arguments,l=function(){var r,l;if(!(t<o)){if((r=n.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,y(l)?i?l.call(r,s(o,e,F,i),s(o,e,q,i)):(o++,l.call(r,s(o,e,F,i),s(o,e,q,i),s(o,e,F,e.notifyWith))):(n!==F&&(a=void 0,u=[r]),(i||e.resolveWith)(a,u))}},c=i?l:function(){try{l()}catch(r){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(r,c.stackTrace),t+1>=o&&(n!==q&&(a=void 0,u=[r]),e.rejectWith(a,u))}};t?c():(C.Deferred.getStackHook&&(c.stackTrace=C.Deferred.getStackHook()),r.setTimeout(c))}}return C.Deferred((function(r){e[0][3].add(s(0,r,y(i)?i:F,r.notifyWith)),e[1][3].add(s(0,r,y(t)?t:F)),e[2][3].add(s(0,r,y(n)?n:q))})).promise()},promise:function(t){return null!=t?C.extend(t,i):i}},o={};return C.each(e,(function(t,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add((function(){n=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith})),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=a.call(arguments),o=C.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?a.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&($(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)$(i[n],s(n),o.reject);return o.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&z.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){r.setTimeout((function(){throw t}))};var V=C.Deferred();function U(){_.removeEventListener("DOMContentLoaded",U),r.removeEventListener("load",U),C.ready()}C.fn.ready=function(t){return V.then(t).catch((function(t){C.readyException(t)})),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||V.resolveWith(_,[C]))}}),C.ready.then=V.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?r.setTimeout(C.ready):(_.addEventListener("DOMContentLoaded",U),r.addEventListener("load",U));var H=function(t,e,n,r,i,o,s){var a=0,u=t.length,l=null==n;if("object"===w(n))for(a in i=!0,n)H(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,y(r)||(s=!0),l&&(s?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(C(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:l?e.call(t):u?e(t[0],n):o},W=/^-ms-/,G=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function Y(t){return t.replace(W,"ms-").replace(G,X)}var Q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=C.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[Y(e)]=n;else for(r in e)i[Y(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in r?[e]:e.match(M)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||C.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var J=new Z,K=new Z,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}K.set(t,e,n)}else n=void 0;return n}C.extend({hasData:function(t){return K.hasData(t)||J.hasData(t)},data:function(t,e,n){return K.access(t,e,n)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),C.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=Y(r.slice(5)),nt(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){K.set(this,t)})):H(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=K.get(o,t))||void 0!==(n=nt(o,t))?n:void 0;this.each((function(){K.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){K.remove(this,t)}))}}),C.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=J.get(t,e),n&&(!r||Array.isArray(n)?r=J.access(t,e,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=C.queue(t,e),r=n.length,i=n.shift(),o=C._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,(function(){C.dequeue(t,e)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:C.Callbacks("once memory").add((function(){J.remove(t,[e+"queue",n])}))})}}),C.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?C.queue(this[0],t):void 0===e?this:this.each((function(){var n=C.queue(this,t,e);C._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&C.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){C.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=C.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=J.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=_.documentElement,at=function(t){return C.contains(t.ownerDocument,t)},ut={composed:!0};st.getRootNode&&(at=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(ut)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===C.css(t,"display")};function ct(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return C.css(t,e,"")},u=a(),l=n&&n[3]||(C.cssNumber[e]?"":"px"),c=t.nodeType&&(C.cssNumber[e]||"px"!==l&&+u)&&it.exec(C.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)C.style(t,e,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;c*=2,C.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ft={};function dt(t){var e,n=t.ownerDocument,r=t.nodeName,i=ft[r];return i||(e=n.body.appendChild(n.createElement(r)),i=C.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),ft[r]=i,i)}function pt(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&lt(r)&&(i[o]=dt(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}C.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){lt(this)?C(this).show():C(this).hide()}))}});var ht,gt,vt=/^(?:checkbox|radio)$/i,yt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,mt=/^$|^module$|\/(?:java|ecma)script/i;ht=_.createDocumentFragment().appendChild(_.createElement("div")),(gt=_.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),ht.appendChild(gt),v.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML="<option></option>",v.option=!!ht.lastChild;var _t={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&O(t,e)?C.merge([t],n):n}function xt(t,e){for(var n=0,r=t.length;n<r;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td,v.option||(_t.optgroup=_t.option=[1,"<select multiple='multiple'>","</select>"]);var wt=/<|&#?\w+;/;function St(t,e,n,r,i){for(var o,s,a,u,l,c,f=e.createDocumentFragment(),d=[],p=0,h=t.length;p<h;p++)if((o=t[p])||0===o)if("object"===w(o))C.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){for(s=s||f.appendChild(e.createElement("div")),a=(yt.exec(o)||["",""])[1].toLowerCase(),u=_t[a]||_t._default,s.innerHTML=u[1]+C.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;C.merge(d,s.childNodes),(s=f.firstChild).textContent=""}else d.push(e.createTextNode(o));for(f.textContent="",p=0;o=d[p++];)if(r&&C.inArray(o,r)>-1)i&&i.push(o);else if(l=at(o),s=bt(f.appendChild(o),"script"),l&&xt(s),n)for(c=0;o=s[c++];)mt.test(o.type||"")&&n.push(o);return f}var Ct=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function Tt(){return!1}function Dt(t,e){return t===function(){try{return _.activeElement}catch(t){}}()==("focus"===e)}function kt(t,e,n,r,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)kt(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Tt;else if(!i)return t;return 1===o&&(s=i,i=function(t){return C().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=C.guid++)),t.each((function(){C.event.add(this,e,i,r,n)}))}function At(t,e,n){n?(J.set(t,e,!1),C.event.add(t,e,{namespace:!1,handler:function(t){var r,i,o=J.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(C.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=a.call(arguments),J.set(this,e,o),r=n(this,e),this[e](),o!==(i=J.get(this,e))||r?J.set(this,e,!1):i={},o!==i)return t.stopImmediatePropagation(),t.preventDefault(),i&&i.value}else o.length&&(J.set(this,e,{value:C.event.trigger(C.extend(o[0],C.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&C.event.add(t,e,Et)}C.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,l,c,f,d,p,h,g,v=J.get(t);if(Q(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&C.find.matchesSelector(st,i),n.guid||(n.guid=C.guid++),(u=v.events)||(u=v.events=Object.create(null)),(s=v.handle)||(s=v.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(M)||[""]).length;l--;)p=g=(a=Ct.exec(e[l])||[])[1],h=(a[2]||"").split(".").sort(),p&&(f=C.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=C.event.special[p]||{},c=C.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=u[p])||((d=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,s)||t.addEventListener&&t.addEventListener(p,s)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),C.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,l,c,f,d,p,h,g,v=J.hasData(t)&&J.get(t);if(v&&(u=v.events)){for(l=(e=(e||"").match(M)||[""]).length;l--;)if(p=g=(a=Ct.exec(e[l])||[])[1],h=(a[2]||"").split(".").sort(),p){for(f=C.event.special[p]||{},d=u[p=(r?f.delegateType:f.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(t,c));s&&!d.length&&(f.teardown&&!1!==f.teardown.call(t,h,v.handle)||C.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)C.event.remove(t,p+e[l],n,r,!0);C.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=new Array(arguments.length),u=C.event.fix(t),l=(J.get(this,"events")||Object.create(null))[u.type]||[],c=C.event.special[u.type]||{};for(a[0]=u,e=1;e<arguments.length;e++)a[e]=arguments[e];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(s=C.event.handlers.call(this,u,l),e=0;(i=s[e++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((C.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(t,e){var n,r,i,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?C(i,this).index(l)>-1:C.find(i,this,null,[l]).length),s[i]&&o.push(r);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return vt.test(e.type)&&e.click&&O(e,"input")&&At(e,"click",Et),!1},trigger:function(t){var e=this||t;return vt.test(e.type)&&e.click&&O(e,"input")&&At(e,"click"),!0},_default:function(t){var e=t.target;return vt.test(e.type)&&e.click&&O(e,"input")&&J.get(e,"click")||O(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:Tt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Tt,isPropagationStopped:Tt,isImmediatePropagationStopped:Tt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(t,e){C.event.special[t]={setup:function(){return At(this,t,Dt),!1},trigger:function(){return At(this,t),!0},_default:function(e){return J.get(e.target,t)},delegateType:e}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||C.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}})),C.fn.extend({on:function(t,e,n,r){return kt(this,t,e,n,r)},one:function(t,e,n,r){return kt(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,C(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Tt),this.each((function(){C.event.remove(this,t,n,e)}))}});var Ot=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,jt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Bt(t,e){return O(t,"table")&&O(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function It(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var n,r,i,o,s,a;if(1===e.nodeType){if(J.hasData(t)&&(a=J.get(t).events))for(i in J.remove(e,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)C.event.add(e,i,a[i][n]);K.hasData(t)&&(o=K.access(t),s=C.extend({},o),K.set(e,s))}}function Nt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&vt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Mt(t,e,n,r){e=u(e);var i,o,s,a,l,c,f=0,d=t.length,p=d-1,h=e[0],g=y(h);if(g||d>1&&"string"==typeof h&&!v.checkClone&&Pt.test(h))return t.each((function(i){var o=t.eq(i);g&&(e[0]=h.call(this,i,o.html())),Mt(o,e,n,r)}));if(d&&(o=(i=St(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=C.map(bt(i,"script"),Lt)).length;f<d;f++)l=i,f!==p&&(l=C.clone(l,!0,!0),a&&C.merge(s,bt(l,"script"))),n.call(t[f],l,f);if(a)for(c=s[s.length-1].ownerDocument,C.map(s,It),f=0;f<a;f++)l=s[f],mt.test(l.type||"")&&!J.access(l,"globalEval")&&C.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):x(l.textContent.replace(jt,""),l,c))}return t}function Ft(t,e,n){for(var r,i=e?C.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||C.cleanData(bt(r)),r.parentNode&&(n&&at(r)&&xt(bt(r,"script")),r.parentNode.removeChild(r));return t}C.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=at(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(s=bt(a),r=0,i=(o=bt(t)).length;r<i;r++)Nt(o[r],s[r]);if(e)if(n)for(o=o||bt(t),s=s||bt(a),r=0,i=o.length;r<i;r++)Rt(o[r],s[r]);else Rt(t,a);return(s=bt(a,"script")).length>0&&xt(s,!u&&bt(t,"script")),a},cleanData:function(t){for(var e,n,r,i=C.event.special,o=0;void 0!==(n=t[o]);o++)if(Q(n)){if(e=n[J.expando]){if(e.events)for(r in e.events)i[r]?C.event.remove(n,r):C.removeEvent(n,r,e.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Ft(this,t,!0)},remove:function(t){return Ft(this,t)},text:function(t){return H(this,(function(t){return void 0===t?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Mt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bt(this,t).appendChild(t)}))},prepend:function(){return Mt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Bt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Mt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Mt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return C.clone(this,t,e)}))},html:function(t){return H(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ot.test(t)&&!_t[(yt.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Mt(this,arguments,(function(e){var n=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(bt(this)),n&&n.replaceChild(e,this))}),t)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){C.fn[t]=function(t){for(var n,r=[],i=C(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),C(i[s])[e](n),l.apply(r,n.get());return this.pushStack(r)}}));var qt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),$t=/^--/,zt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},Vt=function(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r},Ut=new RegExp(ot.join("|"),"i"),Ht="[\\x20\\t\\r\\n\\f]",Wt=new RegExp("^"+Ht+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ht+"+$","g");function Gt(t,e,n){var r,i,o,s,a=$t.test(e),u=t.style;return(n=n||zt(t))&&(s=n.getPropertyValue(e)||n[e],a&&s&&(s=s.replace(Wt,"$1")||void 0),""!==s||at(t)||(s=C.style(t,e)),!v.pixelBoxStyles()&&qt.test(s)&&Ut.test(e)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=s,s=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==s?s+"":s}function Xt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(l).appendChild(c);var t=r.getComputedStyle(c);n="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),i=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),st.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var n,i,o,s,a,u,l=_.createElement("div"),c=_.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,C.extend(v,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,n,i;return null==a&&(t=_.createElement("table"),e=_.createElement("tr"),n=_.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",st.appendChild(t).appendChild(e).appendChild(n),i=r.getComputedStyle(e),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,st.removeChild(t)),a}}))}();var Yt=["Webkit","Moz","ms"],Qt=_.createElement("div").style,Zt={};function Jt(t){var e=C.cssProps[t]||Zt[t];return e||(t in Qt?t:Zt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Yt.length;n--;)if((t=Yt[n]+e)in Qt)return t}(t)||t)}var Kt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function re(t,e,n,r,i,o){var s="width"===e?1:0,a=0,u=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=C.css(t,n+ot[s],!0,i)),r?("content"===n&&(u-=C.css(t,"padding"+ot[s],!0,i)),"margin"!==n&&(u-=C.css(t,"border"+ot[s]+"Width",!0,i))):(u+=C.css(t,"padding"+ot[s],!0,i),"padding"!==n?u+=C.css(t,"border"+ot[s]+"Width",!0,i):a+=C.css(t,"border"+ot[s]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function ie(t,e,n){var r=zt(t),i=(!v.boxSizingReliable()||n)&&"border-box"===C.css(t,"boxSizing",!1,r),o=i,s=Gt(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if(qt.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&O(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===C.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===C.css(t,"boxSizing",!1,r),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+re(t,e,n||(i?"border":"content"),o,r,s)+"px"}function oe(t,e,n,r,i){return new oe.prototype.init(t,e,n,r,i)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Gt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=Y(e),u=$t.test(e),l=t.style;if(u||(e=Jt(a)),s=C.cssHooks[e]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:l[e];"string"===(o=typeof n)&&(i=it.exec(n))&&i[1]&&(n=ct(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(C.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,r){var i,o,s,a=Y(e);return $t.test(e)||(e=Jt(a)),(s=C.cssHooks[e]||C.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=Gt(t,e,r)),"normal"===i&&e in ee&&(i=ee[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),C.each(["height","width"],(function(t,e){C.cssHooks[e]={get:function(t,n,r){if(n)return!Kt.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ie(t,e,r):Vt(t,te,(function(){return ie(t,e,r)}))},set:function(t,n,r){var i,o=zt(t),s=!v.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===C.css(t,"boxSizing",!1,o),u=r?re(t,e,r,a,o):0;return a&&s&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-re(t,e,"border",!1,o)-.5)),u&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=C.css(t,e)),ne(0,n,u)}}})),C.cssHooks.marginLeft=Xt(v.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Gt(t,"marginLeft"))||t.getBoundingClientRect().left-Vt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(t,e){C.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(C.cssHooks[t+e].set=ne)})),C.fn.extend({css:function(t,e){return H(this,(function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=zt(t),i=e.length;s<i;s++)o[e[s]]=C.css(t,e[s],!1,r);return o}return void 0!==n?C.style(t,e,n):C.css(t,e)}),t,e,arguments.length>1)}}),C.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,n=oe.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[Jt(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=oe.prototype.init,C.fx.step={};var se,ae,ue=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function ce(){ae&&(!1===_.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ce):r.setTimeout(ce,C.fx.interval),C.fx.tick())}function fe(){return r.setTimeout((function(){se=void 0})),se=Date.now()}function de(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function pe(t,e,n){for(var r,i=(he.tweeners[e]||[]).concat(he.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function he(t,e,n){var r,i,o=0,s=he.prefilters.length,a=C.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var e=se||fe(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(r);return a.notifyWith(t,[l,r,n]),r<1&&s?n:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:e,originalOptions:n,startTime:se||fe(),duration:n.duration,tweens:[],createTween:function(e,n){var r=C.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=Y(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=C.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(c,l.opts.specialEasing);o<s;o++)if(r=he.prefilters[o].call(l,t,c,l.opts))return y(r.stop)&&(C._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return C.map(c,pe,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),C.fx.timer(C.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}C.Animation=C.extend(he,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(M);for(var n,r=0,i=t.length;r<i;r++)n=t[r],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,u,l,c,f="width"in e||"height"in e,d=this,p={},h=t.style,g=t.nodeType&&lt(t),v=J.get(t,"fxshow");for(r in n.queue||(null==(s=C._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,C.queue(t,"fx").length||s.empty.fire()}))}))),e)if(i=e[r],ue.test(i)){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}p[r]=v&&v[r]||C.style(t,r)}if((u=!C.isEmptyObject(e))||!C.isEmptyObject(p))for(r in f&&1===t.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=J.get(t,"display")),"none"===(c=C.css(t,"display"))&&(l?c=l:(pt([t],!0),l=t.style.display||l,c=C.css(t,"display"),pt([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===C.css(t,"float")&&(u||(d.done((function(){h.display=l})),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),u=!1,p)u||(v?"hidden"in v&&(g=v.hidden):v=J.access(t,"fxshow",{display:l}),o&&(v.hidden=!g),g&&pt([t],!0),d.done((function(){for(r in g||pt([t]),J.remove(t,"fxshow"),p)C.style(t,r,p[r])}))),u=pe(g?v[r]:0,r,d),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),C.speed=function(t,e,n){var r=t&&"object"==typeof t?C.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in C.fx.speeds?r.duration=C.fx.speeds[r.duration]:r.duration=C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(t,e,n,r){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=C.isEmptyObject(t),o=C.speed(e,n,r),s=function(){var e=he(this,C.extend({},t),o);(i||J.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=C.timers,s=J.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&le.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||C.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=J.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=C.timers,s=r?r.length:0;for(n.finish=!0,C.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(t,e){var n=C.fn[e];C.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(de(e,!0),t,r,i)}})),C.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){C.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(se=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),se=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ae||(ae=!0,ce())},C.fx.stop=function(){ae=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(t,e){return t=C.fx&&C.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var i=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(i)}}))},function(){var t=_.createElement("input"),e=_.createElement("select").appendChild(_.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=_.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var ge,ve=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return H(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){C.removeAttr(this,t)}))}}),C.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?C.prop(t,e,n):(1===o&&C.isXMLDoc(t)||(i=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void C.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=C.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&O(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(M);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ve[e]||C.find.attr;ve[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=ve[s],ve[s]=i,i=null!=n(t,e,r)?s:null,ve[s]=o),i}}));var ye=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function _e(t){return(t.match(M)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(M)||[]}C.fn.extend({prop:function(t,e){return H(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[C.propFix[t]||t]}))}}),C.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(t)||(e=C.propFix[e]||e,i=C.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):ye.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(t){var e,n,r,i,o,s;return y(t)?this.each((function(e){C(this).addClass(t.call(this,e,be(this)))})):(e=xe(t)).length?this.each((function(){if(r=be(this),n=1===this.nodeType&&" "+_e(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=_e(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(t){var e,n,r,i,o,s;return y(t)?this.each((function(e){C(this).removeClass(t.call(this,e,be(this)))})):arguments.length?(e=xe(t)).length?this.each((function(){if(r=be(this),n=1===this.nodeType&&" "+_e(r)+" "){for(o=0;o<e.length;o++)for(i=e[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=_e(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(t,e){var n,r,i,o,s=typeof t,a="string"===s||Array.isArray(t);return y(t)?this.each((function(n){C(this).toggleClass(t.call(this,n,be(this),e),e)})):"boolean"==typeof e&&a?e?this.addClass(t):this.removeClass(t):(n=xe(t),this.each((function(){if(a)for(o=C(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==s||((r=be(this))&&J.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":J.get(this,"__className__")||""))})))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+_e(be(n))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;C.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,C(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=C.map(i,(function(t){return null==t?"":t+""}))),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(we,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:_e(C.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:i.length;for(r=o<0?u:s?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(e=C(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=C.makeArray(e),s=i.length;s--;)((r=i[s]).selected=C.inArray(C.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},v.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),v.focusin="onfocusin"in r;var Se=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(t,e,n,i){var o,s,a,u,l,c,f,d,h=[n||_],g=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(s=d=a=n=n||_,3!==n.nodeType&&8!==n.nodeType&&!Se.test(g+C.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),l=g.indexOf(":")<0&&"on"+g,(t=t[C.expando]?t:new C.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:C.makeArray(e,[t]),f=C.event.special[g]||{},i||!f.trigger||!1!==f.trigger.apply(n,e))){if(!i&&!f.noBubble&&!m(n)){for(u=f.delegateType||g,Se.test(u+g)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(n.ownerDocument||_)&&h.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=h[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?u:f.bindType||g,(c=(J.get(s,"events")||Object.create(null))[t.type]&&J.get(s,"handle"))&&c.apply(s,e),(c=l&&s[l])&&c.apply&&Q(s)&&(t.result=c.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),e)||!Q(n)||l&&y(n[g])&&!m(n)&&((a=n[l])&&(n[l]=null),C.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,Ce),n[g](),t.isPropagationStopped()&&d.removeEventListener(g,Ce),C.event.triggered=void 0,a&&(n[l]=a)),t.result}},simulate:function(t,e,n){var r=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(r,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each((function(){C.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),v.focusin||C.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,i=J.access(r,e);i||r.addEventListener(t,n,!0),J.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=J.access(r,e)-1;i?J.access(r,e,i):(r.removeEventListener(t,n,!0),J.remove(r,e))}}}));var Ee=r.location,Te={guid:Date.now()},De=/\?/;C.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||C.error("Invalid XML: "+(n?C.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var ke=/\[\]$/,Ae=/\r?\n/g,Oe=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;function je(t,e,n,r){var i;if(Array.isArray(e))C.each(e,(function(e,i){n||ke.test(t)?r(t,i):je(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)}));else if(n||"object"!==w(e))r(t,e);else for(i in e)je(t+"["+i+"]",e[i],n,r)}C.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,(function(){i(this.name,this.value)}));else for(n in t)je(n,t[n],e,i);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Pe.test(this.nodeName)&&!Oe.test(t)&&(this.checked||!vt.test(t))})).map((function(t,e){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}})):{name:e.name,value:n.replace(Ae,"\r\n")}})).get()}});var Be=/%20/g,Le=/#.*$/,Ie=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:GET|HEAD)$/,Me=/^\/\//,Fe={},qe={},$e="*/".concat("*"),ze=_.createElement("a");function Ve(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(M)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ue(t,e,n,r){var i={},o=t===qe;function s(a){var u;return i[a]=!0,C.each(t[a]||[],(function(t,a){var l=a(e,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),s(l),!1)})),u}return s(e.dataTypes[0])||!i["*"]&&s("*")}function He(t,e){var n,r,i=C.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&C.extend(!0,t,r),t}ze.href=Ee.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,C.ajaxSettings),e):He(C.ajaxSettings,t)},ajaxPrefilter:Ve(Fe),ajaxTransport:Ve(qe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i,o,s,a,u,l,c,f,d,p=C.ajaxSetup({},e),h=p.context||p,g=p.context&&(h.nodeType||h.jquery)?C(h):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),m=p.statusCode||{},b={},x={},w="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=Re.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)S.always(t[S.status]);else for(e in t)m[e]=[m[e],t[e]];return this},abort:function(t){var e=t||w;return n&&n.abort(e),E(0,e),this}};if(v.promise(S),p.url=((t||p.url||Ee.href)+"").replace(Me,Ee.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(M)||[""],null==p.crossDomain){u=_.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=ze.protocol+"//"+ze.host!=u.protocol+"//"+u.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),Ue(Fe,p,e,S),l)return S;for(f in(c=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ne.test(p.type),i=p.url.replace(Le,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Be,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(De.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Ie,"$1"),d=(De.test(i)?"&":"?")+"_="+Te.guid+++d),p.url=i+d),p.ifModified&&(C.lastModified[i]&&S.setRequestHeader("If-Modified-Since",C.lastModified[i]),C.etag[i]&&S.setRequestHeader("If-None-Match",C.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+$e+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(h,S,p)||l))return S.abort();if(w="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),n=Ue(qe,p,e,S)){if(S.readyState=1,c&&g.trigger("ajaxSend",[S,p]),l)return S;p.async&&p.timeout>0&&(a=r.setTimeout((function(){S.abort("timeout")}),p.timeout));try{l=!1,n.send(b,E)}catch(t){if(l)throw t;E(-1,t)}}else E(-1,"No Transport");function E(t,e,s,u){var f,d,_,b,x,w=e;l||(l=!0,a&&r.clearTimeout(a),n=void 0,o=u||"",S.readyState=t>0?4:0,f=t>=200&&t<300||304===t,s&&(b=function(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,S,s)),!f&&C.inArray("script",p.dataTypes)>-1&&C.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=function(t,e,n,r){var i,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if((a=i.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,b,S,f),f?(p.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(C.lastModified[i]=x),(x=S.getResponseHeader("etag"))&&(C.etag[i]=x)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=b.state,d=b.data,f=!(_=b.error))):(_=w,!t&&w||(w="error",t<0&&(t=0))),S.status=t,S.statusText=(e||w)+"",f?v.resolveWith(h,[d,w,S]):v.rejectWith(h,[S,w,_]),S.statusCode(m),m=void 0,c&&g.trigger(f?"ajaxSuccess":"ajaxError",[S,p,f?d:_]),y.fireWith(h,[S,w]),c&&(g.trigger("ajaxComplete",[S,p]),--C.active||C.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return C.get(t,e,n,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],(function(t,e){C[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),C.ajax(C.extend({url:t,type:e,dataType:i,data:n,success:r},C.isPlainObject(t)&&t))}})),C.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),C._evalUrl=function(t,e,n){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){C.globalEval(t,e,n)}})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return y(t)?this.each((function(e){C(this).wrapInner(t.call(this,e))})):this.each((function(){var e=C(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=y(t);return this.each((function(n){C(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},Ge=C.ajaxSettings.xhr();v.cors=!!Ge&&"withCredentials"in Ge,v.ajax=Ge=!!Ge,C.ajaxTransport((function(t){var e,n;if(v.cors||Ge&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(We[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){e&&n()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),C.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),C.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=C("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),_.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Xe,Ye=[],Qe=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||C.expando+"_"+Te.guid++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",(function(t,e,n){var i,o,s,a=!1!==t.jsonp&&(Qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Qe,"$1"+i):!1!==t.jsonp&&(t.url+=(De.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||C.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always((function(){void 0===o?C(r).removeProp(i):r[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(i)),s&&y(o)&&o(s[0]),s=o=void 0})),"script"})),v.createHTMLDocument=((Xe=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),C.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((r=(e=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,e.head.appendChild(r)):e=_),o=!n&&[],(i=P.exec(t))?[e.createElement(i[1])]:(i=St([t],e,o),o&&o.length&&C(o).remove(),C.merge([],i.childNodes)));var r,i,o},C.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=_e(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&C.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(r?C("<div>").append(C.parseHTML(t)).find(r):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,(function(e){return t===e.elem})).length},C.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,l=C.css(t,"position"),c=C(t),f={};"static"===l&&(t.style.position="relative"),a=c.offset(),o=C.css(t,"top"),u=C.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(r=c.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),y(e)&&(e=e.call(t,n,C.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+i),"using"in e?e.using.call(t,f):c.css(f)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){C.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===C.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),i.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-C.css(r,"marginTop",!0),left:e.left-i.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||st}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;C.fn[t]=function(r){return H(this,(function(t,r,i){var o;if(m(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i}),t,r,arguments.length)}})),C.each(["top","left"],(function(t,e){C.cssHooks[e]=Xt(v.pixelPosition,(function(t,n){if(n)return n=Gt(t,e),qt.test(n)?C(t).position()[e]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(t,e){C.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){C.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return H(this,(function(e,n,i){var o;return m(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?C.css(e,n,a):C.style(e,n,i,a)}),e,s?i:void 0,s)}}))})),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){C.fn[e]=function(t){return this.on(e,t)}})),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){C.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ze=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=a.call(arguments,2),i=function(){return t.apply(e||this,r.concat(a.call(arguments)))},i.guid=t.guid=t.guid||C.guid++,i},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=O,C.isFunction=y,C.isWindow=m,C.camelCase=Y,C.type=w,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},C.trim=function(t){return null==t?"":(t+"").replace(Ze,"$1")},void 0===(n=function(){return C}.apply(e,[]))||(t.exports=n);var Je=r.jQuery,Ke=r.$;return C.noConflict=function(t){return r.$===C&&(r.$=Ke),t&&r.jQuery===C&&(r.jQuery=Je),C},void 0===i&&(r.jQuery=r.$=C),C}))},486:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,l=32,c=64,f=128,d=256,p=1/0,h=9007199254740991,g=NaN,v=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",d]],m="[object Arguments]",_="[object Array]",b="[object Boolean]",x="[object Date]",w="[object Error]",S="[object Function]",C="[object GeneratorFunction]",E="[object Map]",T="[object Number]",D="[object Object]",k="[object Promise]",A="[object RegExp]",O="[object Set]",P="[object String]",j="[object Symbol]",B="[object WeakMap]",L="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",M="[object Int8Array]",F="[object Int16Array]",q="[object Int32Array]",$="[object Uint8Array]",z="[object Uint8ClampedArray]",V="[object Uint16Array]",U="[object Uint32Array]",H=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Q=RegExp(X.source),Z=RegExp(Y.source),J=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(it.source),st=/^\s+/,at=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,vt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,St=/['\n\r\u2028\u2029\\]/g,Ct="\\ud800-\\udfff",Et="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Tt="\\u2700-\\u27bf",Dt="a-z\\xdf-\\xf6\\xf8-\\xff",kt="A-Z\\xc0-\\xd6\\xd8-\\xde",At="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pt="['\u2019]",jt="["+Ct+"]",Bt="["+Ot+"]",Lt="["+Et+"]",It="\\d+",Rt="["+Tt+"]",Nt="["+Dt+"]",Mt="[^"+Ct+Ot+It+Tt+Dt+kt+"]",Ft="\\ud83c[\\udffb-\\udfff]",qt="[^"+Ct+"]",$t="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Vt="["+kt+"]",Ut="\\u200d",Ht="(?:"+Nt+"|"+Mt+")",Wt="(?:"+Vt+"|"+Mt+")",Gt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+Lt+"|"+Ft+")"+"?",Qt="["+At+"]?",Zt=Qt+Yt+("(?:"+Ut+"(?:"+[qt,$t,zt].join("|")+")"+Qt+Yt+")*"),Jt="(?:"+[Rt,$t,zt].join("|")+")"+Zt,Kt="(?:"+[qt+Lt+"?",Lt,$t,zt,jt].join("|")+")",te=RegExp(Pt,"g"),ee=RegExp(Lt,"g"),ne=RegExp(Ft+"(?="+Ft+")|"+Kt+Zt,"g"),re=RegExp([Vt+"?"+Nt+"+"+Gt+"(?="+[Bt,Vt,"$"].join("|")+")",Wt+"+"+Xt+"(?="+[Bt,Vt+Ht,"$"].join("|")+")",Vt+"?"+Ht+"+"+Gt,Vt+"+"+Xt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",It,Jt].join("|"),"g"),ie=RegExp("["+Ut+Ct+Et+At+"]"),oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,ue={};ue[R]=ue[N]=ue[M]=ue[F]=ue[q]=ue[$]=ue[z]=ue[V]=ue[U]=!0,ue[m]=ue[_]=ue[L]=ue[b]=ue[I]=ue[x]=ue[w]=ue[S]=ue[E]=ue[T]=ue[D]=ue[A]=ue[O]=ue[P]=ue[B]=!1;var le={};le[m]=le[_]=le[L]=le[I]=le[b]=le[x]=le[R]=le[N]=le[M]=le[F]=le[q]=le[E]=le[T]=le[D]=le[A]=le[O]=le[P]=le[j]=le[$]=le[z]=le[V]=le[U]=!0,le[w]=le[S]=le[B]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,de=parseInt,pe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,he="object"==typeof self&&self&&self.Object===Object&&self,ge=pe||he||Function("return this")(),ve=e&&!e.nodeType&&e,ye=ve&&t&&!t.nodeType&&t,me=ye&&ye.exports===ve,_e=me&&pe.process,be=function(){try{var t=ye&&ye.require&&ye.require("util").types;return t||_e&&_e.binding&&_e.binding("util")}catch(t){}}(),xe=be&&be.isArrayBuffer,we=be&&be.isDate,Se=be&&be.isMap,Ce=be&&be.isRegExp,Ee=be&&be.isSet,Te=be&&be.isTypedArray;function De(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ke(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function je(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Be(t,e){return!!(null==t?0:t.length)&&Ve(t,e,0)>-1}function Le(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ie(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Re(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ne(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Me(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Fe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var qe=Ge("length");function $e(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function ze(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ve(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):ze(t,He,n)}function Ue(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function He(t){return t!=t}function We(t,e){var n=null==t?0:t.length;return n?Qe(t,e)/n:g}function Ge(t){return function(e){return null==e?i:e[t]}}function Xe(t){return function(e){return null==t?i:t[e]}}function Ye(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Qe(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function Ze(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Je(t){return t?t.slice(0,vn(t)+1).replace(st,""):t}function Ke(t){return function(e){return t(e)}}function tn(t,e){return Ie(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&Ve(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&Ve(e,t[n],0)>-1;);return n}var on=Xe({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),sn=Xe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(t){return"\\"+ce[t]}function un(t){return ie.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function pn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function hn(t){return un(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):qe(t)}function gn(t){return un(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function vn(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var yn=Xe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function t(e){var n,r=(e=null==e?ge:mn.defaults(ge.Object(),e,mn.pick(ge,se))).Array,at=e.Date,Ct=e.Error,Et=e.Function,Tt=e.Math,Dt=e.Object,kt=e.RegExp,At=e.String,Ot=e.TypeError,Pt=r.prototype,jt=Et.prototype,Bt=Dt.prototype,Lt=e["__core-js_shared__"],It=jt.toString,Rt=Bt.hasOwnProperty,Nt=0,Mt=(n=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ft=Bt.toString,qt=It.call(Dt),$t=ge._,zt=kt("^"+It.call(Rt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=me?e.Buffer:i,Ut=e.Symbol,Ht=e.Uint8Array,Wt=Vt?Vt.allocUnsafe:i,Gt=cn(Dt.getPrototypeOf,Dt),Xt=Dt.create,Yt=Bt.propertyIsEnumerable,Qt=Pt.splice,Zt=Ut?Ut.isConcatSpreadable:i,Jt=Ut?Ut.iterator:i,Kt=Ut?Ut.toStringTag:i,ne=function(){try{var t=po(Dt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ie=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,ce=at&&at.now!==ge.Date.now&&at.now,pe=e.setTimeout!==ge.setTimeout&&e.setTimeout,he=Tt.ceil,ve=Tt.floor,ye=Dt.getOwnPropertySymbols,_e=Vt?Vt.isBuffer:i,be=e.isFinite,qe=Pt.join,Xe=cn(Dt.keys,Dt),_n=Tt.max,bn=Tt.min,xn=at.now,wn=e.parseInt,Sn=Tt.random,Cn=Pt.reverse,En=po(e,"DataView"),Tn=po(e,"Map"),Dn=po(e,"Promise"),kn=po(e,"Set"),An=po(e,"WeakMap"),On=po(Dt,"create"),Pn=An&&new An,jn={},Bn=Fo(En),Ln=Fo(Tn),In=Fo(Dn),Rn=Fo(kn),Nn=Fo(An),Mn=Ut?Ut.prototype:i,Fn=Mn?Mn.valueOf:i,qn=Mn?Mn.toString:i;function $n(t){if(na(t)&&!Hs(t)&&!(t instanceof Hn)){if(t instanceof Un)return t;if(Rt.call(t,"__wrapped__"))return qo(t)}return new Un(t)}var zn=function(){function t(){}return function(e){if(!ea(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Vn(){}function Un(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Xn;++e<n;)this.add(t[e])}function Qn(t){var e=this.__data__=new Gn(t);this.size=e.size}function Zn(t,e){var n=Hs(t),r=!n&&Us(t),i=!n&&!r&&Ys(t),o=!n&&!r&&!i&&ca(t),s=n||r||i||o,a=s?Ze(t.length,At):[],u=a.length;for(var l in t)!e&&!Rt.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bo(l,u))||a.push(l);return a}function Jn(t){var e=t.length;return e?t[Yr(0,e-1)]:i}function Kn(t,e){return Ro(Oi(t),ur(e,0,t.length))}function tr(t){return Ro(Oi(t))}function er(t,e,n){(n!==i&&!$s(t[e],n)||n===i&&!(e in t))&&sr(t,e,n)}function nr(t,e,n){var r=t[e];Rt.call(t,e)&&$s(r,n)&&(n!==i||e in t)||sr(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if($s(t[n][0],e))return n;return-1}function ir(t,e,n,r){return pr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function or(t,e){return t&&Pi(e,ja(e),t)}function sr(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ar(t,e){for(var n=-1,o=e.length,s=r(o),a=null==t;++n<o;)s[n]=a?i:Da(t,e[n]);return s}function ur(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function lr(t,e,n,r,o,s){var a,u=1&e,l=2&e,c=4&e;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!ea(t))return t;var f=Hs(t);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Rt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Oi(t,a)}else{var d=vo(t),p=d==S||d==C;if(Ys(t))return Ci(t,u);if(d==D||d==m||p&&!o){if(a=l||p?{}:mo(t),!u)return l?function(t,e){return Pi(t,go(t),e)}(t,function(t,e){return t&&Pi(e,Ba(e),t)}(a,t)):function(t,e){return Pi(t,ho(t),e)}(t,or(a,t))}else{if(!le[d])return o?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case L:return Ei(t);case b:case x:return new r(+t);case I:return function(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case R:case N:case M:case F:case q:case $:case z:case V:case U:return Ti(t,n);case E:return new r;case T:case P:return new r(t);case A:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new r;case j:return i=t,Fn?Dt(Fn.call(i)):{}}var i}(t,d,u)}}s||(s=new Qn);var h=s.get(t);if(h)return h;s.set(t,a),aa(t)?t.forEach((function(r){a.add(lr(r,e,n,r,t,s))})):ra(t)&&t.forEach((function(r,i){a.set(i,lr(r,e,n,i,t,s))}));var g=f?i:(c?l?oo:io:l?Ba:ja)(t);return Ae(g||t,(function(r,i){g&&(r=t[i=r]),nr(a,i,lr(r,e,n,i,t,s))})),a}function cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Dt(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function fr(t,e,n){if("function"!=typeof t)throw new Ot(o);return jo((function(){t.apply(i,n)}),e)}function dr(t,e,n,r){var i=-1,o=Be,s=!0,a=t.length,u=[],l=e.length;if(!a)return u;n&&(e=Ie(e,Ke(n))),r?(o=Le,s=!1):e.length>=200&&(o=en,s=!1,e=new Yn(e));t:for(;++i<a;){var c=t[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,s&&f==f){for(var d=l;d--;)if(e[d]===f)continue t;u.push(c)}else o(e,f,r)||u.push(c)}return u}$n.templateSettings={escape:J,evaluate:K,interpolate:tt,variable:"",imports:{_:$n}},$n.prototype=Vn.prototype,$n.prototype.constructor=$n,Un.prototype=zn(Vn.prototype),Un.prototype.constructor=Un,Hn.prototype=zn(Vn.prototype),Hn.prototype.constructor=Hn,Wn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Wn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wn.prototype.get=function(t){var e=this.__data__;if(On){var n=e[t];return n===s?i:n}return Rt.call(e,t)?e[t]:i},Wn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==i:Rt.call(e,t)},Wn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===i?s:e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,!0)},Gn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?i:e[n][1]},Gn.prototype.has=function(t){return rr(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Tn||Gn),string:new Wn}},Xn.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},Xn.prototype.get=function(t){return co(this,t).get(t)},Xn.prototype.has=function(t){return co(this,t).has(t)},Xn.prototype.set=function(t,e){var n=co(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(t){return this.__data__.set(t,s),this},Yn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Qn.prototype.get=function(t){return this.__data__.get(t)},Qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Tn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(t,e),this.size=n.size,this};var pr=Li(xr),hr=Li(wr,!0);function gr(t,e){var n=!0;return pr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function vr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(u===i?a==a&&!la(a):n(a,u)))var u=a,l=s}return l}function yr(t,e){var n=[];return pr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function mr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=_o),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?mr(a,e-1,n,r,i):Re(i,a):r||(i[i.length]=a)}return i}var _r=Ii(),br=Ii(!0);function xr(t,e){return t&&_r(t,e,ja)}function wr(t,e){return t&&br(t,e,ja)}function Sr(t,e){return je(e,(function(e){return Js(t[e])}))}function Cr(t,e){for(var n=0,r=(e=bi(e,t)).length;null!=t&&n<r;)t=t[Mo(e[n++])];return n&&n==r?t:i}function Er(t,e,n){var r=e(t);return Hs(t)?r:Re(r,n(t))}function Tr(t){return null==t?t===i?"[object Undefined]":"[object Null]":Kt&&Kt in Dt(t)?function(t){var e=Rt.call(t,Kt),n=t[Kt];try{t[Kt]=i;var r=!0}catch(t){}var o=Ft.call(t);r&&(e?t[Kt]=n:delete t[Kt]);return o}(t):function(t){return Ft.call(t)}(t)}function Dr(t,e){return t>e}function kr(t,e){return null!=t&&Rt.call(t,e)}function Ar(t,e){return null!=t&&e in Dt(t)}function Or(t,e,n){for(var o=n?Le:Be,s=t[0].length,a=t.length,u=a,l=r(a),c=1/0,f=[];u--;){var d=t[u];u&&e&&(d=Ie(d,Ke(e))),c=bn(d.length,c),l[u]=!n&&(e||s>=120&&d.length>=120)?new Yn(u&&d):i}d=t[0];var p=-1,h=l[0];t:for(;++p<s&&f.length<c;){var g=d[p],v=e?e(g):g;if(g=n||0!==g?g:0,!(h?en(h,v):o(f,v,n))){for(u=a;--u;){var y=l[u];if(!(y?en(y,v):o(t[u],v,n)))continue t}h&&h.push(v),f.push(g)}}return f}function Pr(t,e,n){var r=null==(t=Ao(t,e=bi(e,t)))?t:t[Mo(Zo(e))];return null==r?i:De(r,t,n)}function jr(t){return na(t)&&Tr(t)==m}function Br(t,e,n,r,o){return t===e||(null==t||null==e||!na(t)&&!na(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var a=Hs(t),u=Hs(e),l=a?_:vo(t),c=u?_:vo(e),f=(l=l==m?D:l)==D,d=(c=c==m?D:c)==D,p=l==c;if(p&&Ys(t)){if(!Ys(e))return!1;a=!0,f=!1}if(p&&!f)return s||(s=new Qn),a||ca(t)?no(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L:return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case b:case x:case T:return $s(+t,+e);case w:return t.name==e.name&&t.message==e.message;case A:case P:return t==e+"";case E:var a=ln;case O:var u=1&r;if(a||(a=dn),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=2,s.set(t,e);var c=no(a(t),a(e),r,i,o,s);return s.delete(t),c;case j:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,l,n,r,o,s);if(!(1&n)){var h=f&&Rt.call(t,"__wrapped__"),g=d&&Rt.call(e,"__wrapped__");if(h||g){var v=h?t.value():t,y=g?e.value():e;return s||(s=new Qn),o(v,y,n,r,s)}}if(!p)return!1;return s||(s=new Qn),function(t,e,n,r,o,s){var a=1&n,u=io(t),l=u.length,c=io(e),f=c.length;if(l!=f&&!a)return!1;var d=l;for(;d--;){var p=u[d];if(!(a?p in e:Rt.call(e,p)))return!1}var h=s.get(t),g=s.get(e);if(h&&g)return h==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);var y=a;for(;++d<l;){var m=t[p=u[d]],_=e[p];if(r)var b=a?r(_,m,p,e,t,s):r(m,_,p,t,e,s);if(!(b===i?m===_||o(m,_,n,r,s):b)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(t),s.delete(e),v}(t,e,n,r,o,s)}(t,e,n,r,Br,o))}function Lr(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=Dt(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var l=(u=n[o])[0],c=t[l],f=u[1];if(a&&u[2]){if(c===i&&!(l in t))return!1}else{var d=new Qn;if(r)var p=r(c,f,l,t,e,d);if(!(p===i?Br(f,c,3,r,d):p))return!1}}return!0}function Ir(t){return!(!ea(t)||(e=t,Mt&&Mt in e))&&(Js(t)?zt:mt).test(Fo(t));var e}function Rr(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Hs(t)?zr(t[0],t[1]):$r(t):pu(t)}function Nr(t){if(!Eo(t))return Xe(t);var e=[];for(var n in Dt(t))Rt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Mr(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var n in Dt(t))e.push(n);return e}(t);var e=Eo(t),n=[];for(var r in t)("constructor"!=r||!e&&Rt.call(t,r))&&n.push(r);return n}function Fr(t,e){return t<e}function qr(t,e){var n=-1,i=Gs(t)?r(t.length):[];return pr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function $r(t){var e=fo(t);return 1==e.length&&e[0][2]?Do(e[0][0],e[0][1]):function(n){return n===t||Lr(n,t,e)}}function zr(t,e){return wo(t)&&To(e)?Do(Mo(t),e):function(n){var r=Da(n,t);return r===i&&r===e?ka(n,t):Br(e,r,3)}}function Vr(t,e,n,r,o){t!==e&&_r(e,(function(s,a){if(o||(o=new Qn),ea(s))!function(t,e,n,r,o,s,a){var u=Oo(t,n),l=Oo(e,n),c=a.get(l);if(c)return void er(t,n,c);var f=s?s(u,l,n+"",t,e,a):i,d=f===i;if(d){var p=Hs(l),h=!p&&Ys(l),g=!p&&!h&&ca(l);f=l,p||h||g?Hs(u)?f=u:Xs(u)?f=Oi(u):h?(d=!1,f=Ci(l,!0)):g?(d=!1,f=Ti(l,!0)):f=[]:oa(l)||Us(l)?(f=u,Us(u)?f=ma(u):ea(u)&&!Js(u)||(f=mo(l))):d=!1}d&&(a.set(l,f),o(f,l,r,s,a),a.delete(l));er(t,n,f)}(t,e,a,n,Vr,r,o);else{var u=r?r(Oo(t,a),s,a+"",t,e,o):i;u===i&&(u=s),er(t,a,u)}}),Ba)}function Ur(t,e){var n=t.length;if(n)return bo(e+=e<0?n:0,n)?t[e]:i}function Hr(t,e,n){e=e.length?Ie(e,(function(t){return Hs(t)?function(e){return Cr(e,1===t.length?t[0]:t)}:t})):[iu];var r=-1;e=Ie(e,Ke(lo()));var i=qr(t,(function(t,n,i){var o=Ie(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;for(;++r<s;){var u=Di(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Wr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Cr(t,s);n(a,s)&&ti(o,bi(s,t),a)}return o}function Gr(t,e,n,r){var i=r?Ue:Ve,o=-1,s=e.length,a=t;for(t===e&&(e=Oi(e)),n&&(a=Ie(t,Ke(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==t&&Qt.call(a,u,1),Qt.call(t,u,1);return t}function Xr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;bo(i)?Qt.call(t,i,1):di(t,i)}}return t}function Yr(t,e){return t+ve(Sn()*(e-t+1))}function Qr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=ve(e/2))&&(t+=t)}while(e);return n}function Zr(t,e){return Bo(ko(t,e,iu),t+"")}function Jr(t){return Jn($a(t))}function Kr(t,e){var n=$a(t);return Ro(n,ur(e,0,n.length))}function ti(t,e,n,r){if(!ea(t))return t;for(var o=-1,s=(e=bi(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var l=Mo(e[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=a){var f=u[l];(c=r?r(f,l,u):i)===i&&(c=ea(f)?f:bo(e[o+1])?[]:{})}nr(u,l,c),u=u[l]}return t}var ei=Pn?function(t,e){return Pn.set(t,e),t}:iu,ni=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ri(t){return Ro($a(t))}function ii(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function oi(t,e){var n;return pr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function si(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!la(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ai(t,e,iu,n)}function ai(t,e,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,u=null===e,l=la(e),c=e===i;o<s;){var f=ve((o+s)/2),d=n(t[f]),p=d!==i,h=null===d,g=d==d,v=la(d);if(a)var y=r||g;else y=c?g&&(r||p):u?g&&p&&(r||!h):l?g&&p&&!h&&(r||!v):!h&&!v&&(r?d<=e:d<e);y?o=f+1:s=f}return bn(s,4294967294)}function ui(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!$s(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function li(t){return"number"==typeof t?t:la(t)?g:+t}function ci(t){if("string"==typeof t)return t;if(Hs(t))return Ie(t,ci)+"";if(la(t))return qn?qn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fi(t,e,n){var r=-1,i=Be,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=Le;else if(o>=200){var l=e?null:Qi(t);if(l)return dn(l);s=!1,i=en,u=new Yn}else u=e?[]:a;t:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,s&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue t;e&&u.push(f),a.push(c)}else i(u,f,n)||(u!==a&&u.push(f),a.push(c))}return a}function di(t,e){return null==(t=Ao(t,e=bi(e,t)))||delete t[Mo(Zo(e))]}function pi(t,e,n,r){return ti(t,e,n(Cr(t,e)),r)}function hi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function gi(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Ne(e,(function(t,e){return e.func.apply(e.thisArg,Re([t],e.args))}),n)}function vi(t,e,n){var i=t.length;if(i<2)return i?fi(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=dr(s[o]||a,t[u],e,n));return fi(mr(s,1),e,n)}function yi(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var u=r<s?e[r]:i;n(a,t[r],u)}return a}function mi(t){return Xs(t)?t:[]}function _i(t){return"function"==typeof t?t:iu}function bi(t,e){return Hs(t)?t:wo(t,e)?[t]:No(_a(t))}var xi=Zr;function wi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ii(t,e,n)}var Si=ie||function(t){return ge.clearTimeout(t)};function Ci(t,e){if(e)return t.slice();var n=t.length,r=Wt?Wt(n):new t.constructor(n);return t.copy(r),r}function Ei(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Ti(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Di(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,s=la(t),a=e!==i,u=null===e,l=e==e,c=la(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!s&&!c&&t<e||c&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!l)return-1}return 0}function ki(t,e,n,i){for(var o=-1,s=t.length,a=n.length,u=-1,l=e.length,c=_n(s-a,0),f=r(l+c),d=!i;++u<l;)f[u]=e[u];for(;++o<a;)(d||o<s)&&(f[n[o]]=t[o]);for(;c--;)f[u++]=t[o++];return f}function Ai(t,e,n,i){for(var o=-1,s=t.length,a=-1,u=n.length,l=-1,c=e.length,f=_n(s-u,0),d=r(f+c),p=!i;++o<f;)d[o]=t[o];for(var h=o;++l<c;)d[h+l]=e[l];for(;++a<u;)(p||o<s)&&(d[h+n[a]]=t[o++]);return d}function Oi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Pi(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=r?r(n[u],t[u],u,n,t):i;l===i&&(l=t[u]),o?sr(n,u,l):nr(n,u,l)}return n}function ji(t,e){return function(n,r){var i=Hs(n)?ke:ir,o=e?e():{};return i(n,t,lo(r,2),o)}}function Bi(t){return Zr((function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&xo(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=Dt(e);++r<o;){var u=n[r];u&&t(e,u,r,s)}return e}))}function Li(t,e){return function(n,r){if(null==n)return n;if(!Gs(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Dt(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ii(t){return function(e,n,r){for(var i=-1,o=Dt(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function Ri(t){return function(e){var n=un(e=_a(e))?gn(e):i,r=n?n[0]:e.charAt(0),o=n?wi(n,1).join(""):e.slice(1);return r[t]()+o}}function Ni(t){return function(e){return Ne(Ja(Ua(e).replace(te,"")),t,"")}}function Mi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=zn(t.prototype),r=t.apply(n,e);return ea(r)?r:n}}function Fi(t){return function(e,n,r){var o=Dt(e);if(!Gs(e)){var s=lo(n,3);e=ja(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function qi(t){return ro((function(e){var n=e.length,r=n,s=Un.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Ot(o);if(s&&!u&&"wrapper"==ao(a))var u=new Un([],!0)}for(r=u?r:n;++r<n;){var l=ao(a=e[r]),c="wrapper"==l?so(a):i;u=c&&So(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ao(c[0])].apply(u,c[3]):1==a.length&&So(a)?u[l]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Hs(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function $i(t,e,n,o,s,a,u,l,c,d){var p=e&f,h=1&e,g=2&e,v=24&e,y=512&e,m=g?i:Mi(t);return function f(){for(var _=arguments.length,b=r(_),x=_;x--;)b[x]=arguments[x];if(v)var w=uo(f),S=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,w);if(o&&(b=ki(b,o,s,v)),a&&(b=Ai(b,a,u,v)),_-=S,v&&_<d){var C=fn(b,w);return Xi(t,e,$i,f.placeholder,n,b,C,l,c,d-_)}var E=h?n:this,T=g?E[t]:t;return _=b.length,l?b=function(t,e){var n=t.length,r=bn(e.length,n),o=Oi(t);for(;r--;){var s=e[r];t[r]=bo(s,n)?o[s]:i}return t}(b,l):y&&_>1&&b.reverse(),p&&c<_&&(b.length=c),this&&this!==ge&&this instanceof f&&(T=m||Mi(T)),T.apply(E,b)}}function zi(t,e){return function(n,r){return function(t,e,n,r){return xr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Vi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),o=t(n,r)}return o}}function Ui(t){return ro((function(e){return e=Ie(e,Ke(lo())),Zr((function(n){var r=this;return t(e,(function(t){return De(t,r,n)}))}))}))}function Hi(t,e){var n=(e=e===i?" ":ci(e)).length;if(n<2)return n?Qr(e,t):e;var r=Qr(e,he(t/hn(e)));return un(e)?wi(gn(r),0,t).join(""):r.slice(0,t)}function Wi(t){return function(e,n,o){return o&&"number"!=typeof o&&xo(e,n,o)&&(n=o=i),e=ha(e),n===i?(n=e,e=0):n=ha(n),function(t,e,n,i){for(var o=-1,s=_n(he((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:ha(o),t)}}function Gi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ya(e),n=ya(n)),t(e,n)}}function Xi(t,e,n,r,o,s,a,u,f,d){var p=8&e;e|=p?l:c,4&(e&=~(p?c:l))||(e&=-4);var h=[t,e,o,p?s:i,p?a:i,p?i:s,p?i:a,u,f,d],g=n.apply(i,h);return So(t)&&Po(g,h),g.placeholder=r,Lo(g,t,e)}function Yi(t){var e=Tt[t];return function(t,n){if(t=ya(t),(n=null==n?0:bn(ga(n),292))&&be(t)){var r=(_a(t)+"e").split("e");return+((r=(_a(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Qi=kn&&1/dn(new kn([,-0]))[1]==p?function(t){return new kn(t)}:lu;function Zi(t){return function(e){var n=vo(e);return n==E?ln(e):n==O?pn(e):function(t,e){return Ie(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ji(t,e,n,s,p,h,g,v){var y=2&e;if(!y&&"function"!=typeof t)throw new Ot(o);var m=s?s.length:0;if(m||(e&=-97,s=p=i),g=g===i?g:_n(ga(g),0),v=v===i?v:ga(v),m-=p?p.length:0,e&c){var _=s,b=p;s=p=i}var x=y?i:so(t),w=[t,e,n,s,p,_,b,h,g,v];if(x&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=r==f&&8==n||r==f&&n==d&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?ki(l,u,e[4]):u,t[4]=l?fn(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?Ai(l,u,e[6]):u,t[6]=l?fn(t[5],a):e[6]);(u=e[7])&&(t[7]=u);r&f&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(w,x),t=w[0],e=w[1],n=w[2],s=w[3],p=w[4],!(v=w[9]=w[9]===i?y?0:t.length:_n(w[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||e==u?function(t,e,n){var o=Mi(t);return function s(){for(var a=arguments.length,u=r(a),l=a,c=uo(s);l--;)u[l]=arguments[l];var f=a<3&&u[0]!==c&&u[a-1]!==c?[]:fn(u,c);return(a-=f.length)<n?Xi(t,e,$i,s.placeholder,i,u,f,i,i,n-a):De(this&&this!==ge&&this instanceof s?o:t,this,u)}}(t,e,v):e!=l&&33!=e||p.length?$i.apply(i,w):function(t,e,n,i){var o=1&e,s=Mi(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=i.length,f=r(c+u),d=this&&this!==ge&&this instanceof e?s:t;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++a];return De(d,o?n:this,f)}}(t,e,n,s);else var S=function(t,e,n){var r=1&e,i=Mi(t);return function e(){return(this&&this!==ge&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Lo((x?ei:Po)(S,w),t,e)}function Ki(t,e,n,r){return t===i||$s(t,Bt[n])&&!Rt.call(r,n)?e:t}function to(t,e,n,r,o,s){return ea(t)&&ea(e)&&(s.set(e,t),Vr(t,e,i,to,s),s.delete(e)),t}function eo(t){return oa(t)?i:t}function no(t,e,n,r,o,s){var a=1&n,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;var d=-1,p=!0,h=2&n?new Yn:i;for(s.set(t,e),s.set(e,t);++d<u;){var g=t[d],v=e[d];if(r)var y=a?r(v,g,d,e,t,s):r(g,v,d,t,e,s);if(y!==i){if(y)continue;p=!1;break}if(h){if(!Fe(e,(function(t,e){if(!en(h,e)&&(g===t||o(g,t,n,r,s)))return h.push(e)}))){p=!1;break}}else if(g!==v&&!o(g,v,n,r,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function ro(t){return Bo(ko(t,i,Wo),t+"")}function io(t){return Er(t,ja,ho)}function oo(t){return Er(t,Ba,go)}var so=Pn?function(t){return Pn.get(t)}:lu;function ao(t){for(var e=t.name+"",n=jn[e],r=Rt.call(jn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function uo(t){return(Rt.call($n,"placeholder")?$n:t).placeholder}function lo(){var t=$n.iteratee||ou;return t=t===ou?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function fo(t){for(var e=ja(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,To(i)]}return e}function po(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Ir(n)?n:i}var ho=ye?function(t){return null==t?[]:(t=Dt(t),je(ye(t),(function(e){return Yt.call(t,e)})))}:vu,go=ye?function(t){for(var e=[];t;)Re(e,ho(t)),t=Gt(t);return e}:vu,vo=Tr;function yo(t,e,n){for(var r=-1,i=(e=bi(e,t)).length,o=!1;++r<i;){var s=Mo(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ta(i)&&bo(s,i)&&(Hs(t)||Us(t))}function mo(t){return"function"!=typeof t.constructor||Eo(t)?{}:zn(Gt(t))}function _o(t){return Hs(t)||Us(t)||!!(Zt&&t&&t[Zt])}function bo(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e}function xo(t,e,n){if(!ea(n))return!1;var r=typeof e;return!!("number"==r?Gs(n)&&bo(e,n.length):"string"==r&&e in n)&&$s(n[e],t)}function wo(t,e){if(Hs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!la(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Dt(e))}function So(t){var e=ao(t),n=$n[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=so(n);return!!r&&t===r[0]}(En&&vo(new En(new ArrayBuffer(1)))!=I||Tn&&vo(new Tn)!=E||Dn&&vo(Dn.resolve())!=k||kn&&vo(new kn)!=O||An&&vo(new An)!=B)&&(vo=function(t){var e=Tr(t),n=e==D?t.constructor:i,r=n?Fo(n):"";if(r)switch(r){case Bn:return I;case Ln:return E;case In:return k;case Rn:return O;case Nn:return B}return e});var Co=Lt?Js:yu;function Eo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bt)}function To(t){return t==t&&!ea(t)}function Do(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in Dt(n)))}}function ko(t,e,n){return e=_n(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=_n(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(a),De(t,this,u)}}function Ao(t,e){return e.length<2?t:Cr(t,ii(e,0,-1))}function Oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Po=Io(ei),jo=pe||function(t,e){return ge.setTimeout(t,e)},Bo=Io(ni);function Lo(t,e,n){var r=e+"";return Bo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ae(y,(function(n){var r="_."+n[0];e&n[1]&&!Be(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ct):[]}(r),n)))}function Io(t){var e=0,n=0;return function(){var r=xn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ro(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=Yr(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var No=function(t){var e=Is(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,i){e.push(r?i.replace(pt,"$1"):n||t)})),e}));function Mo(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fo(t){if(null!=t){try{return It.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function qo(t){if(t instanceof Hn)return t.clone();var e=new Un(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var $o=Zr((function(t,e){return Xs(t)?dr(t,mr(e,1,Xs,!0)):[]})),zo=Zr((function(t,e){var n=Zo(e);return Xs(n)&&(n=i),Xs(t)?dr(t,mr(e,1,Xs,!0),lo(n,2)):[]})),Vo=Zr((function(t,e){var n=Zo(e);return Xs(n)&&(n=i),Xs(t)?dr(t,mr(e,1,Xs,!0),i,n):[]}));function Uo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=_n(r+i,0)),ze(t,lo(e,3),i)}function Ho(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ga(n),o=n<0?_n(r+o,0):bn(o,r-1)),ze(t,lo(e,3),o,!0)}function Wo(t){return(null==t?0:t.length)?mr(t,1):[]}function Go(t){return t&&t.length?t[0]:i}var Xo=Zr((function(t){var e=Ie(t,mi);return e.length&&e[0]===t[0]?Or(e):[]})),Yo=Zr((function(t){var e=Zo(t),n=Ie(t,mi);return e===Zo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Or(n,lo(e,2)):[]})),Qo=Zr((function(t){var e=Zo(t),n=Ie(t,mi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Or(n,i,e):[]}));function Zo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Jo=Zr(Ko);function Ko(t,e){return t&&t.length&&e&&e.length?Gr(t,e):t}var ts=ro((function(t,e){var n=null==t?0:t.length,r=ar(t,e);return Xr(t,Ie(e,(function(t){return bo(t,n)?+t:t})).sort(Di)),r}));function es(t){return null==t?t:Cn.call(t)}var ns=Zr((function(t){return fi(mr(t,1,Xs,!0))})),rs=Zr((function(t){var e=Zo(t);return Xs(e)&&(e=i),fi(mr(t,1,Xs,!0),lo(e,2))})),is=Zr((function(t){var e=Zo(t);return e="function"==typeof e?e:i,fi(mr(t,1,Xs,!0),i,e)}));function os(t){if(!t||!t.length)return[];var e=0;return t=je(t,(function(t){if(Xs(t))return e=_n(t.length,e),!0})),Ze(e,(function(e){return Ie(t,Ge(e))}))}function ss(t,e){if(!t||!t.length)return[];var n=os(t);return null==e?n:Ie(n,(function(t){return De(e,i,t)}))}var as=Zr((function(t,e){return Xs(t)?dr(t,e):[]})),us=Zr((function(t){return vi(je(t,Xs))})),ls=Zr((function(t){var e=Zo(t);return Xs(e)&&(e=i),vi(je(t,Xs),lo(e,2))})),cs=Zr((function(t){var e=Zo(t);return e="function"==typeof e?e:i,vi(je(t,Xs),i,e)})),fs=Zr(os);var ds=Zr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,ss(t,n)}));function ps(t){var e=$n(t);return e.__chain__=!0,e}function hs(t,e){return e(t)}var gs=ro((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return ar(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&bo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:hs,args:[o],thisArg:i}),new Un(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));var vs=ji((function(t,e,n){Rt.call(t,n)?++t[n]:sr(t,n,1)}));var ys=Fi(Uo),ms=Fi(Ho);function _s(t,e){return(Hs(t)?Ae:pr)(t,lo(e,3))}function bs(t,e){return(Hs(t)?Oe:hr)(t,lo(e,3))}var xs=ji((function(t,e,n){Rt.call(t,n)?t[n].push(e):sr(t,n,[e])}));var ws=Zr((function(t,e,n){var i=-1,o="function"==typeof e,s=Gs(t)?r(t.length):[];return pr(t,(function(t){s[++i]=o?De(e,t,n):Pr(t,e,n)})),s})),Ss=ji((function(t,e,n){sr(t,n,e)}));function Cs(t,e){return(Hs(t)?Ie:qr)(t,lo(e,3))}var Es=ji((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Ts=Zr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&xo(t,e[0],e[1])?e=[]:n>2&&xo(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,mr(e,1),[])})),Ds=ce||function(){return ge.Date.now()};function ks(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Ji(t,f,i,i,i,i,e)}function As(t,e){var n;if("function"!=typeof e)throw new Ot(o);return t=ga(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Os=Zr((function(t,e,n){var r=1;if(n.length){var i=fn(n,uo(Os));r|=l}return Ji(t,r,e,n,i)})),Ps=Zr((function(t,e,n){var r=3;if(n.length){var i=fn(n,uo(Ps));r|=l}return Ji(e,r,t,n,i)}));function js(t,e,n){var r,s,a,u,l,c,f=0,d=!1,p=!1,h=!0;if("function"!=typeof t)throw new Ot(o);function g(e){var n=r,o=s;return r=s=i,f=e,u=t.apply(o,n)}function v(t){var n=t-c;return c===i||n>=e||n<0||p&&t-f>=a}function y(){var t=Ds();if(v(t))return m(t);l=jo(y,function(t){var n=e-(t-c);return p?bn(n,a-(t-f)):n}(t))}function m(t){return l=i,h&&r?g(t):(r=s=i,u)}function _(){var t=Ds(),n=v(t);if(r=arguments,s=this,c=t,n){if(l===i)return function(t){return f=t,l=jo(y,e),d?g(t):u}(c);if(p)return Si(l),l=jo(y,e),g(c)}return l===i&&(l=jo(y,e)),u}return e=ya(e)||0,ea(n)&&(d=!!n.leading,a=(p="maxWait"in n)?_n(ya(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){l!==i&&Si(l),f=0,r=c=s=l=i},_.flush=function(){return l===i?u:m(Ds())},_}var Bs=Zr((function(t,e){return fr(t,1,e)})),Ls=Zr((function(t,e,n){return fr(t,ya(e)||0,n)}));function Is(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Is.Cache||Xn),n}function Rs(t){if("function"!=typeof t)throw new Ot(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Is.Cache=Xn;var Ns=xi((function(t,e){var n=(e=1==e.length&&Hs(e[0])?Ie(e[0],Ke(lo())):Ie(mr(e,1),Ke(lo()))).length;return Zr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return De(t,this,r)}))})),Ms=Zr((function(t,e){var n=fn(e,uo(Ms));return Ji(t,l,i,e,n)})),Fs=Zr((function(t,e){var n=fn(e,uo(Fs));return Ji(t,c,i,e,n)})),qs=ro((function(t,e){return Ji(t,d,i,i,i,e)}));function $s(t,e){return t===e||t!=t&&e!=e}var zs=Gi(Dr),Vs=Gi((function(t,e){return t>=e})),Us=jr(function(){return arguments}())?jr:function(t){return na(t)&&Rt.call(t,"callee")&&!Yt.call(t,"callee")},Hs=r.isArray,Ws=xe?Ke(xe):function(t){return na(t)&&Tr(t)==L};function Gs(t){return null!=t&&ta(t.length)&&!Js(t)}function Xs(t){return na(t)&&Gs(t)}var Ys=_e||yu,Qs=we?Ke(we):function(t){return na(t)&&Tr(t)==x};function Zs(t){if(!na(t))return!1;var e=Tr(t);return e==w||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function Js(t){if(!ea(t))return!1;var e=Tr(t);return e==S||e==C||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ks(t){return"number"==typeof t&&t==ga(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var ra=Se?Ke(Se):function(t){return na(t)&&vo(t)==E};function ia(t){return"number"==typeof t||na(t)&&Tr(t)==T}function oa(t){if(!na(t)||Tr(t)!=D)return!1;var e=Gt(t);if(null===e)return!0;var n=Rt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&It.call(n)==qt}var sa=Ce?Ke(Ce):function(t){return na(t)&&Tr(t)==A};var aa=Ee?Ke(Ee):function(t){return na(t)&&vo(t)==O};function ua(t){return"string"==typeof t||!Hs(t)&&na(t)&&Tr(t)==P}function la(t){return"symbol"==typeof t||na(t)&&Tr(t)==j}var ca=Te?Ke(Te):function(t){return na(t)&&ta(t.length)&&!!ue[Tr(t)]};var fa=Gi(Fr),da=Gi((function(t,e){return t<=e}));function pa(t){if(!t)return[];if(Gs(t))return ua(t)?gn(t):Oi(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=vo(t);return(e==E?ln:e==O?dn:$a)(t)}function ha(t){return t?(t=ya(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=ha(t),n=e%1;return e==e?n?e-n:e:0}function va(t){return t?ur(ga(t),0,v):0}function ya(t){if("number"==typeof t)return t;if(la(t))return g;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=yt.test(t);return n||_t.test(t)?de(t.slice(2),n?2:8):vt.test(t)?g:+t}function ma(t){return Pi(t,Ba(t))}function _a(t){return null==t?"":ci(t)}var ba=Bi((function(t,e){if(Eo(e)||Gs(e))Pi(e,ja(e),t);else for(var n in e)Rt.call(e,n)&&nr(t,n,e[n])})),xa=Bi((function(t,e){Pi(e,Ba(e),t)})),wa=Bi((function(t,e,n,r){Pi(e,Ba(e),t,r)})),Sa=Bi((function(t,e,n,r){Pi(e,ja(e),t,r)})),Ca=ro(ar);var Ea=Zr((function(t,e){t=Dt(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&xo(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=Ba(s),u=-1,l=a.length;++u<l;){var c=a[u],f=t[c];(f===i||$s(f,Bt[c])&&!Rt.call(t,c))&&(t[c]=s[c])}return t})),Ta=Zr((function(t){return t.push(i,to),De(Ia,i,t)}));function Da(t,e,n){var r=null==t?i:Cr(t,e);return r===i?n:r}function ka(t,e){return null!=t&&yo(t,e,Ar)}var Aa=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=n}),eu(iu)),Oa=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),Rt.call(t,e)?t[e].push(n):t[e]=[n]}),lo),Pa=Zr(Pr);function ja(t){return Gs(t)?Zn(t):Nr(t)}function Ba(t){return Gs(t)?Zn(t,!0):Mr(t)}var La=Bi((function(t,e,n){Vr(t,e,n)})),Ia=Bi((function(t,e,n,r){Vr(t,e,n,r)})),Ra=ro((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ie(e,(function(e){return e=bi(e,t),r||(r=e.length>1),e})),Pi(t,oo(t),n),r&&(n=lr(n,7,eo));for(var i=e.length;i--;)di(n,e[i]);return n}));var Na=ro((function(t,e){return null==t?{}:function(t,e){return Wr(t,e,(function(e,n){return ka(t,n)}))}(t,e)}));function Ma(t,e){if(null==t)return{};var n=Ie(oo(t),(function(t){return[t]}));return e=lo(e),Wr(t,n,(function(t,n){return e(t,n[0])}))}var Fa=Zi(ja),qa=Zi(Ba);function $a(t){return null==t?[]:tn(t,ja(t))}var za=Ni((function(t,e,n){return e=e.toLowerCase(),t+(n?Va(e):e)}));function Va(t){return Za(_a(t).toLowerCase())}function Ua(t){return(t=_a(t))&&t.replace(xt,on).replace(ee,"")}var Ha=Ni((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Wa=Ni((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ga=Ri("toLowerCase");var Xa=Ni((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ya=Ni((function(t,e,n){return t+(n?" ":"")+Za(e)}));var Qa=Ni((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Za=Ri("toUpperCase");function Ja(t,e,n){return t=_a(t),(e=n?i:e)===i?function(t){return oe.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var Ka=Zr((function(t,e){try{return De(t,i,e)}catch(t){return Zs(t)?t:new Ct(t)}})),tu=ro((function(t,e){return Ae(e,(function(e){e=Mo(e),sr(t,e,Os(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=qi(),ru=qi(!0);function iu(t){return t}function ou(t){return Rr("function"==typeof t?t:lr(t,1))}var su=Zr((function(t,e){return function(n){return Pr(n,t,e)}})),au=Zr((function(t,e){return function(n){return Pr(t,n,e)}}));function uu(t,e,n){var r=ja(e),i=Sr(e,r);null!=n||ea(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Sr(e,ja(e)));var o=!(ea(n)&&"chain"in n&&!n.chain),s=Js(t);return Ae(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Oi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Re([this.value()],arguments))})})),t}function lu(){}var cu=Ui(Ie),fu=Ui(Pe),du=Ui(Fe);function pu(t){return wo(t)?Ge(Mo(t)):function(t){return function(e){return Cr(e,t)}}(t)}var hu=Wi(),gu=Wi(!0);function vu(){return[]}function yu(){return!1}var mu=Vi((function(t,e){return t+e}),0),_u=Yi("ceil"),bu=Vi((function(t,e){return t/e}),1),xu=Yi("floor");var wu,Su=Vi((function(t,e){return t*e}),1),Cu=Yi("round"),Eu=Vi((function(t,e){return t-e}),0);return $n.after=function(t,e){if("function"!=typeof e)throw new Ot(o);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},$n.ary=ks,$n.assign=ba,$n.assignIn=xa,$n.assignInWith=wa,$n.assignWith=Sa,$n.at=Ca,$n.before=As,$n.bind=Os,$n.bindAll=tu,$n.bindKey=Ps,$n.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hs(t)?t:[t]},$n.chain=ps,$n.chunk=function(t,e,n){e=(n?xo(t,e,n):e===i)?1:_n(ga(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=r(he(o/e));s<o;)u[a++]=ii(t,s,s+=e);return u},$n.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},$n.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Re(Hs(n)?Oi(n):[n],mr(e,1))},$n.cond=function(t){var e=null==t?0:t.length,n=lo();return t=e?Ie(t,(function(t){if("function"!=typeof t[1])throw new Ot(o);return[n(t[0]),t[1]]})):[],Zr((function(n){for(var r=-1;++r<e;){var i=t[r];if(De(i[0],this,n))return De(i[1],this,n)}}))},$n.conforms=function(t){return function(t){var e=ja(t);return function(n){return cr(n,t,e)}}(lr(t,1))},$n.constant=eu,$n.countBy=vs,$n.create=function(t,e){var n=zn(t);return null==e?n:or(n,e)},$n.curry=function t(e,n,r){var o=Ji(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},$n.curryRight=function t(e,n,r){var o=Ji(e,u,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},$n.debounce=js,$n.defaults=Ea,$n.defaultsDeep=Ta,$n.defer=Bs,$n.delay=Ls,$n.difference=$o,$n.differenceBy=zo,$n.differenceWith=Vo,$n.drop=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=n||e===i?1:ga(e))<0?0:e,r):[]},$n.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,0,(e=r-(e=n||e===i?1:ga(e)))<0?0:e):[]},$n.dropRightWhile=function(t,e){return t&&t.length?hi(t,lo(e,3),!0,!0):[]},$n.dropWhile=function(t,e){return t&&t.length?hi(t,lo(e,3),!0):[]},$n.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&xo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=ga(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ga(r))<0&&(r+=o),r=n>r?0:va(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},$n.filter=function(t,e){return(Hs(t)?je:yr)(t,lo(e,3))},$n.flatMap=function(t,e){return mr(Cs(t,e),1)},$n.flatMapDeep=function(t,e){return mr(Cs(t,e),p)},$n.flatMapDepth=function(t,e,n){return n=n===i?1:ga(n),mr(Cs(t,e),n)},$n.flatten=Wo,$n.flattenDeep=function(t){return(null==t?0:t.length)?mr(t,p):[]},$n.flattenDepth=function(t,e){return(null==t?0:t.length)?mr(t,e=e===i?1:ga(e)):[]},$n.flip=function(t){return Ji(t,512)},$n.flow=nu,$n.flowRight=ru,$n.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},$n.functions=function(t){return null==t?[]:Sr(t,ja(t))},$n.functionsIn=function(t){return null==t?[]:Sr(t,Ba(t))},$n.groupBy=xs,$n.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},$n.intersection=Xo,$n.intersectionBy=Yo,$n.intersectionWith=Qo,$n.invert=Aa,$n.invertBy=Oa,$n.invokeMap=ws,$n.iteratee=ou,$n.keyBy=Ss,$n.keys=ja,$n.keysIn=Ba,$n.map=Cs,$n.mapKeys=function(t,e){var n={};return e=lo(e,3),xr(t,(function(t,r,i){sr(n,e(t,r,i),t)})),n},$n.mapValues=function(t,e){var n={};return e=lo(e,3),xr(t,(function(t,r,i){sr(n,r,e(t,r,i))})),n},$n.matches=function(t){return $r(lr(t,1))},$n.matchesProperty=function(t,e){return zr(t,lr(e,1))},$n.memoize=Is,$n.merge=La,$n.mergeWith=Ia,$n.method=su,$n.methodOf=au,$n.mixin=uu,$n.negate=Rs,$n.nthArg=function(t){return t=ga(t),Zr((function(e){return Ur(e,t)}))},$n.omit=Ra,$n.omitBy=function(t,e){return Ma(t,Rs(lo(e)))},$n.once=function(t){return As(2,t)},$n.orderBy=function(t,e,n,r){return null==t?[]:(Hs(e)||(e=null==e?[]:[e]),Hs(n=r?i:n)||(n=null==n?[]:[n]),Hr(t,e,n))},$n.over=cu,$n.overArgs=Ns,$n.overEvery=fu,$n.overSome=du,$n.partial=Ms,$n.partialRight=Fs,$n.partition=Es,$n.pick=Na,$n.pickBy=Ma,$n.property=pu,$n.propertyOf=function(t){return function(e){return null==t?i:Cr(t,e)}},$n.pull=Jo,$n.pullAll=Ko,$n.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,lo(n,2)):t},$n.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,i,n):t},$n.pullAt=ts,$n.range=hu,$n.rangeRight=gu,$n.rearg=qs,$n.reject=function(t,e){return(Hs(t)?je:yr)(t,Rs(lo(e,3)))},$n.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=lo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Xr(t,i),n},$n.rest=function(t,e){if("function"!=typeof t)throw new Ot(o);return Zr(t,e=e===i?e:ga(e))},$n.reverse=es,$n.sampleSize=function(t,e,n){return e=(n?xo(t,e,n):e===i)?1:ga(e),(Hs(t)?Kn:Kr)(t,e)},$n.set=function(t,e,n){return null==t?t:ti(t,e,n)},$n.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ti(t,e,n,r)},$n.shuffle=function(t){return(Hs(t)?tr:ri)(t)},$n.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&xo(t,e,n)?(e=0,n=r):(e=null==e?0:ga(e),n=n===i?r:ga(n)),ii(t,e,n)):[]},$n.sortBy=Ts,$n.sortedUniq=function(t){return t&&t.length?ui(t):[]},$n.sortedUniqBy=function(t,e){return t&&t.length?ui(t,lo(e,2)):[]},$n.split=function(t,e,n){return n&&"number"!=typeof n&&xo(t,e,n)&&(e=n=i),(n=n===i?v:n>>>0)?(t=_a(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=ci(e))&&un(t)?wi(gn(t),0,n):t.split(e,n):[]},$n.spread=function(t,e){if("function"!=typeof t)throw new Ot(o);return e=null==e?0:_n(ga(e),0),Zr((function(n){var r=n[e],i=wi(n,0,e);return r&&Re(i,r),De(t,this,i)}))},$n.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},$n.take=function(t,e,n){return t&&t.length?ii(t,0,(e=n||e===i?1:ga(e))<0?0:e):[]},$n.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=r-(e=n||e===i?1:ga(e)))<0?0:e,r):[]},$n.takeRightWhile=function(t,e){return t&&t.length?hi(t,lo(e,3),!1,!0):[]},$n.takeWhile=function(t,e){return t&&t.length?hi(t,lo(e,3)):[]},$n.tap=function(t,e){return e(t),t},$n.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Ot(o);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),js(t,e,{leading:r,maxWait:e,trailing:i})},$n.thru=hs,$n.toArray=pa,$n.toPairs=Fa,$n.toPairsIn=qa,$n.toPath=function(t){return Hs(t)?Ie(t,Mo):la(t)?[t]:Oi(No(_a(t)))},$n.toPlainObject=ma,$n.transform=function(t,e,n){var r=Hs(t),i=r||Ys(t)||ca(t);if(e=lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ea(t)&&Js(o)?zn(Gt(t)):{}}return(i?Ae:xr)(t,(function(t,r,i){return e(n,t,r,i)})),n},$n.unary=function(t){return ks(t,1)},$n.union=ns,$n.unionBy=rs,$n.unionWith=is,$n.uniq=function(t){return t&&t.length?fi(t):[]},$n.uniqBy=function(t,e){return t&&t.length?fi(t,lo(e,2)):[]},$n.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?fi(t,i,e):[]},$n.unset=function(t,e){return null==t||di(t,e)},$n.unzip=os,$n.unzipWith=ss,$n.update=function(t,e,n){return null==t?t:pi(t,e,_i(n))},$n.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:pi(t,e,_i(n),r)},$n.values=$a,$n.valuesIn=function(t){return null==t?[]:tn(t,Ba(t))},$n.without=as,$n.words=Ja,$n.wrap=function(t,e){return Ms(_i(e),t)},$n.xor=us,$n.xorBy=ls,$n.xorWith=cs,$n.zip=fs,$n.zipObject=function(t,e){return yi(t||[],e||[],nr)},$n.zipObjectDeep=function(t,e){return yi(t||[],e||[],ti)},$n.zipWith=ds,$n.entries=Fa,$n.entriesIn=qa,$n.extend=xa,$n.extendWith=wa,uu($n,$n),$n.add=mu,$n.attempt=Ka,$n.camelCase=za,$n.capitalize=Va,$n.ceil=_u,$n.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ya(n))==n?n:0),e!==i&&(e=(e=ya(e))==e?e:0),ur(ya(t),e,n)},$n.clone=function(t){return lr(t,4)},$n.cloneDeep=function(t){return lr(t,5)},$n.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:i)},$n.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:i)},$n.conformsTo=function(t,e){return null==e||cr(t,e,ja(e))},$n.deburr=Ua,$n.defaultTo=function(t,e){return null==t||t!=t?e:t},$n.divide=bu,$n.endsWith=function(t,e,n){t=_a(t),e=ci(e);var r=t.length,o=n=n===i?r:ur(ga(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},$n.eq=$s,$n.escape=function(t){return(t=_a(t))&&Z.test(t)?t.replace(Y,sn):t},$n.escapeRegExp=function(t){return(t=_a(t))&&ot.test(t)?t.replace(it,"\\$&"):t},$n.every=function(t,e,n){var r=Hs(t)?Pe:gr;return n&&xo(t,e,n)&&(e=i),r(t,lo(e,3))},$n.find=ys,$n.findIndex=Uo,$n.findKey=function(t,e){return $e(t,lo(e,3),xr)},$n.findLast=ms,$n.findLastIndex=Ho,$n.findLastKey=function(t,e){return $e(t,lo(e,3),wr)},$n.floor=xu,$n.forEach=_s,$n.forEachRight=bs,$n.forIn=function(t,e){return null==t?t:_r(t,lo(e,3),Ba)},$n.forInRight=function(t,e){return null==t?t:br(t,lo(e,3),Ba)},$n.forOwn=function(t,e){return t&&xr(t,lo(e,3))},$n.forOwnRight=function(t,e){return t&&wr(t,lo(e,3))},$n.get=Da,$n.gt=zs,$n.gte=Vs,$n.has=function(t,e){return null!=t&&yo(t,e,kr)},$n.hasIn=ka,$n.head=Go,$n.identity=iu,$n.includes=function(t,e,n,r){t=Gs(t)?t:$a(t),n=n&&!r?ga(n):0;var i=t.length;return n<0&&(n=_n(i+n,0)),ua(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ve(t,e,n)>-1},$n.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=_n(r+i,0)),Ve(t,e,i)},$n.inRange=function(t,e,n){return e=ha(e),n===i?(n=e,e=0):n=ha(n),function(t,e,n){return t>=bn(e,n)&&t<_n(e,n)}(t=ya(t),e,n)},$n.invoke=Pa,$n.isArguments=Us,$n.isArray=Hs,$n.isArrayBuffer=Ws,$n.isArrayLike=Gs,$n.isArrayLikeObject=Xs,$n.isBoolean=function(t){return!0===t||!1===t||na(t)&&Tr(t)==b},$n.isBuffer=Ys,$n.isDate=Qs,$n.isElement=function(t){return na(t)&&1===t.nodeType&&!oa(t)},$n.isEmpty=function(t){if(null==t)return!0;if(Gs(t)&&(Hs(t)||"string"==typeof t||"function"==typeof t.splice||Ys(t)||ca(t)||Us(t)))return!t.length;var e=vo(t);if(e==E||e==O)return!t.size;if(Eo(t))return!Nr(t).length;for(var n in t)if(Rt.call(t,n))return!1;return!0},$n.isEqual=function(t,e){return Br(t,e)},$n.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Br(t,e,i,n):!!r},$n.isError=Zs,$n.isFinite=function(t){return"number"==typeof t&&be(t)},$n.isFunction=Js,$n.isInteger=Ks,$n.isLength=ta,$n.isMap=ra,$n.isMatch=function(t,e){return t===e||Lr(t,e,fo(e))},$n.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Lr(t,e,fo(e),n)},$n.isNaN=function(t){return ia(t)&&t!=+t},$n.isNative=function(t){if(Co(t))throw new Ct("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(t)},$n.isNil=function(t){return null==t},$n.isNull=function(t){return null===t},$n.isNumber=ia,$n.isObject=ea,$n.isObjectLike=na,$n.isPlainObject=oa,$n.isRegExp=sa,$n.isSafeInteger=function(t){return Ks(t)&&t>=-9007199254740991&&t<=h},$n.isSet=aa,$n.isString=ua,$n.isSymbol=la,$n.isTypedArray=ca,$n.isUndefined=function(t){return t===i},$n.isWeakMap=function(t){return na(t)&&vo(t)==B},$n.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==Tr(t)},$n.join=function(t,e){return null==t?"":qe.call(t,e)},$n.kebabCase=Ha,$n.last=Zo,$n.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ga(n))<0?_n(r+o,0):bn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):ze(t,He,o,!0)},$n.lowerCase=Wa,$n.lowerFirst=Ga,$n.lt=fa,$n.lte=da,$n.max=function(t){return t&&t.length?vr(t,iu,Dr):i},$n.maxBy=function(t,e){return t&&t.length?vr(t,lo(e,2),Dr):i},$n.mean=function(t){return We(t,iu)},$n.meanBy=function(t,e){return We(t,lo(e,2))},$n.min=function(t){return t&&t.length?vr(t,iu,Fr):i},$n.minBy=function(t,e){return t&&t.length?vr(t,lo(e,2),Fr):i},$n.stubArray=vu,$n.stubFalse=yu,$n.stubObject=function(){return{}},$n.stubString=function(){return""},$n.stubTrue=function(){return!0},$n.multiply=Su,$n.nth=function(t,e){return t&&t.length?Ur(t,ga(e)):i},$n.noConflict=function(){return ge._===this&&(ge._=$t),this},$n.noop=lu,$n.now=Ds,$n.pad=function(t,e,n){t=_a(t);var r=(e=ga(e))?hn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Hi(ve(i),n)+t+Hi(he(i),n)},$n.padEnd=function(t,e,n){t=_a(t);var r=(e=ga(e))?hn(t):0;return e&&r<e?t+Hi(e-r,n):t},$n.padStart=function(t,e,n){t=_a(t);var r=(e=ga(e))?hn(t):0;return e&&r<e?Hi(e-r,n)+t:t},$n.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wn(_a(t).replace(st,""),e||0)},$n.random=function(t,e,n){if(n&&"boolean"!=typeof n&&xo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=ha(t),e===i?(e=t,t=0):e=ha(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=Sn();return bn(t+o*(e-t+fe("1e-"+((o+"").length-1))),e)}return Yr(t,e)},$n.reduce=function(t,e,n){var r=Hs(t)?Ne:Ye,i=arguments.length<3;return r(t,lo(e,4),n,i,pr)},$n.reduceRight=function(t,e,n){var r=Hs(t)?Me:Ye,i=arguments.length<3;return r(t,lo(e,4),n,i,hr)},$n.repeat=function(t,e,n){return e=(n?xo(t,e,n):e===i)?1:ga(e),Qr(_a(t),e)},$n.replace=function(){var t=arguments,e=_a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},$n.result=function(t,e,n){var r=-1,o=(e=bi(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[Mo(e[r])];s===i&&(r=o,s=n),t=Js(s)?s.call(t):s}return t},$n.round=Cu,$n.runInContext=t,$n.sample=function(t){return(Hs(t)?Jn:Jr)(t)},$n.size=function(t){if(null==t)return 0;if(Gs(t))return ua(t)?hn(t):t.length;var e=vo(t);return e==E||e==O?t.size:Nr(t).length},$n.snakeCase=Xa,$n.some=function(t,e,n){var r=Hs(t)?Fe:oi;return n&&xo(t,e,n)&&(e=i),r(t,lo(e,3))},$n.sortedIndex=function(t,e){return si(t,e)},$n.sortedIndexBy=function(t,e,n){return ai(t,e,lo(n,2))},$n.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=si(t,e);if(r<n&&$s(t[r],e))return r}return-1},$n.sortedLastIndex=function(t,e){return si(t,e,!0)},$n.sortedLastIndexBy=function(t,e,n){return ai(t,e,lo(n,2),!0)},$n.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=si(t,e,!0)-1;if($s(t[n],e))return n}return-1},$n.startCase=Ya,$n.startsWith=function(t,e,n){return t=_a(t),n=null==n?0:ur(ga(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e},$n.subtract=Eu,$n.sum=function(t){return t&&t.length?Qe(t,iu):0},$n.sumBy=function(t,e){return t&&t.length?Qe(t,lo(e,2)):0},$n.template=function(t,e,n){var r=$n.templateSettings;n&&xo(t,e,n)&&(e=i),t=_a(t),e=wa({},e,r,Ki);var o,s,a=wa({},e.imports,r.imports,Ki),u=ja(a),l=tn(a,u),c=0,f=e.interpolate||wt,d="__p += '",p=kt((e.escape||wt).source+"|"+f.source+"|"+(f===tt?ht:wt).source+"|"+(e.evaluate||wt).source+"|$","g"),h="//# sourceURL="+(Rt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(p,(function(e,n,r,i,a,u){return r||(r=i),d+=t.slice(c,u).replace(St,an),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),d+="';\n";var g=Rt.call(e,"variable")&&e.variable;if(g){if(dt.test(g))throw new Ct("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(H,""):d).replace(W,"$1").replace(G,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Ka((function(){return Et(u,h+"return "+d).apply(i,l)}));if(v.source=d,Zs(v))throw v;return v},$n.times=function(t,e){if((t=ga(t))<1||t>h)return[];var n=v,r=bn(t,v);e=lo(e),t-=v;for(var i=Ze(r,e);++n<t;)e(n);return i},$n.toFinite=ha,$n.toInteger=ga,$n.toLength=va,$n.toLower=function(t){return _a(t).toLowerCase()},$n.toNumber=ya,$n.toSafeInteger=function(t){return t?ur(ga(t),-9007199254740991,h):0===t?t:0},$n.toString=_a,$n.toUpper=function(t){return _a(t).toUpperCase()},$n.trim=function(t,e,n){if((t=_a(t))&&(n||e===i))return Je(t);if(!t||!(e=ci(e)))return t;var r=gn(t),o=gn(e);return wi(r,nn(r,o),rn(r,o)+1).join("")},$n.trimEnd=function(t,e,n){if((t=_a(t))&&(n||e===i))return t.slice(0,vn(t)+1);if(!t||!(e=ci(e)))return t;var r=gn(t);return wi(r,0,rn(r,gn(e))+1).join("")},$n.trimStart=function(t,e,n){if((t=_a(t))&&(n||e===i))return t.replace(st,"");if(!t||!(e=ci(e)))return t;var r=gn(t);return wi(r,nn(r,gn(e))).join("")},$n.truncate=function(t,e){var n=30,r="...";if(ea(e)){var o="separator"in e?e.separator:o;n="length"in e?ga(e.length):n,r="omission"in e?ci(e.omission):r}var s=(t=_a(t)).length;if(un(t)){var a=gn(t);s=a.length}if(n>=s)return t;var u=n-hn(r);if(u<1)return r;var l=a?wi(a,0,u).join(""):t.slice(0,u);if(o===i)return l+r;if(a&&(u+=l.length-u),sa(o)){if(t.slice(u).search(o)){var c,f=l;for(o.global||(o=kt(o.source,_a(gt.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var d=c.index;l=l.slice(0,d===i?u:d)}}else if(t.indexOf(ci(o),u)!=u){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+r},$n.unescape=function(t){return(t=_a(t))&&Q.test(t)?t.replace(X,yn):t},$n.uniqueId=function(t){var e=++Nt;return _a(t)+e},$n.upperCase=Qa,$n.upperFirst=Za,$n.each=_s,$n.eachRight=bs,$n.first=Go,uu($n,(wu={},xr($n,(function(t,e){Rt.call($n.prototype,e)||(wu[e]=t)})),wu),{chain:!1}),$n.VERSION="4.17.21",Ae(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){$n[t].placeholder=$n})),Ae(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===i?1:_n(ga(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,v),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ae(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ae(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),Ae(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(iu)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Zr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return Pr(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Rs(lo(t)))},Hn.prototype.slice=function(t,e){t=ga(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=ga(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(v)},xr(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=$n[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&($n.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof Hn,l=a[0],c=u||Hs(e),f=function(t){var e=o.apply($n,Re([t],a));return r&&d?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,p=!!this.__actions__.length,h=s&&!d,g=u&&!p;if(!s&&c){e=g?e:new Hn(this);var v=t.apply(e,a);return v.__actions__.push({func:hs,args:[f],thisArg:i}),new Un(v,d)}return h&&g?t.apply(this,a):(v=this.thru(f),h?r?v.value()[0]:v.value():v)})})),Ae(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Pt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);$n.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Hs(i)?i:[],t)}return this[n]((function(n){return e.apply(Hs(n)?n:[],t)}))}})),xr(Hn.prototype,(function(t,e){var n=$n[e];if(n){var r=n.name+"";Rt.call(jn,r)||(jn[r]=[]),jn[r].push({name:e,func:n})}})),jn[$i(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Hs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=bn(e,t+s);break;case"takeRight":t=_n(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,f=c.length,d=0,p=bn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return gi(t,this.__actions__);var h=[];t:for(;u--&&d<p;){for(var g=-1,v=t[l+=e];++g<f;){var y=c[g],m=y.iteratee,_=y.type,b=m(v);if(2==_)v=b;else if(!b){if(1==_)continue t;break t}}h[d++]=v}return h},$n.prototype.at=gs,$n.prototype.chain=function(){return ps(this)},$n.prototype.commit=function(){return new Un(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===i&&(this.__values__=pa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},$n.prototype.plant=function(t){for(var e,n=this;n instanceof Vn;){var r=qo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},$n.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:hs,args:[es],thisArg:i}),new Un(e,this.__chain__)}return this.thru(es)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Jt&&($n.prototype[Jt]=function(){return this}),$n}();ge._=mn,(r=function(){return mn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},s=[],a=0;a<t.length;a++){var u=t[a],l=r.base?u[0]+r.base:u[0],c=o[l]||0,f="".concat(l," ").concat(c);o[l]=c+1;var d=n(f),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var h=i(p,r);r.byIndex=a,e.splice(a,0,{identifier:f,updater:h,references:1})}s.push(f)}return s}function i(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=n(o[s]);e[a].references--}for(var u=r(t,i),l=0;l<o.length;l++){var c=n(o[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=u}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},645:function(t,e,n){!function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e,n={isArray:function(t){return Array.isArray(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isEmptyObject:function(t){return 0===Object.keys(t).length&&t.constructor===Object},isPlainObject:function(t){return!(void 0===t||"object"!=typeof t||null===t||t.nodeType||t===t.window||t.constructor&&!Object.prototype.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))}},r={compact:function(t){return t.filter((function(t){return!!t}))},each:function(t,e){Array.isArray(t)?t.some((function(t,n){return!1===e(t,n)})):Object.keys(t).some((function(n){var r=t[n];return!1===e(r,n)}))},intersect:function(t,e){var n=[];return Array.isArray(t)&&Array.isArray(e)?t.filter((function(t){return-1!==e.indexOf(t)})):n},minus:function(t,e){return e&&0!==e.length?t.filter((function(t){return-1===e.indexOf(t)})):t},makeArray:function(t){return n.isArray(t)?Array.prototype.slice.call(t):[t]},minusWithPartialMatching:function(t,e){return e&&0!==e.length?t.filter((function(t){return!e.some((function(e){return 0===e.indexOf(t)}))})):t},slice:function(t,e){return Array.prototype.slice.call(t,e)}},i={delay:function(t,e){return setTimeout(t,e||0)}},o={areSame:function t(e,n){var i=!0;return typeof e==typeof n&&("object"==typeof e&&null!=e&&null!=n?(r.each(e,(function(e,r){return i=t(e,n[r])})),i):e===n)},assign:function(t,e){if("function"==typeof Object.assign)return Object.assign.apply(null,arguments);if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},clone:function(t){return JSON.parse(JSON.stringify(t))},compact:function(t){var e=o.clone(t);return r.each(e,(function(t,n){null!=t&&""!==t||delete e[n]})),e},fieldsAreNotEmpty:function(t,e){if(!n.isPlainObject(t))return!1;var i=!0;return r.each(e,(function(e,n){return i=!!t[e]})),i},getDeepValue:function t(e,n){var r=n.split("."),i=r.shift();return e&&(r.length?t(e[i],r.join(".")):e[i])},indexObjectsById:function(t,e,n){var i={};return r.each(t,(function(t,r){var s=t[e],a={};n&&(a[n]=r),i[s]=o.assign(a,t)})),i}},s={ENTER:13,ESC:27,TAB:9,SPACE:32,UP:38,DOWN:40},a={hint:"suggestions-hint",mobile:"suggestions-mobile",nowrap:"suggestions-nowrap",promo:"suggestions-promo",selected:"suggestions-selected",suggestion:"suggestions-suggestion",subtext:"suggestions-subtext",subtext_inline:"suggestions-subtext suggestions-subtext_inline",subtext_delimiter:"suggestions-subtext-delimiter",subtext_label:"suggestions-subtext suggestions-subtext_label",removeConstraint:"suggestions-remove",value:"suggestions-value"},u=".suggestions",l="suggestions",c="\\s\"'~\\*\\.,:\\|\\[\\]\\(\\)\\{\\}<>\u2116",f="\\-\\+\\\\\\?!@#$%^&",d=new RegExp("["+c+"]+","g"),p=new RegExp("["+f+"]+","g"),h={escapeHtml:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return t&&r.each(e,(function(e,n){t=t.replace(new RegExp(n,"g"),e)})),t},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},formatToken:function(t){return t&&t.toLowerCase().replace(/[\u0451\u0401]/g,"\u0435")},getWordExtractorRegExp:function(){return new RegExp("([^"+c+"]*)(["+c+"]*)","g")},normalize:function(t,e){return h.split(t,e).join(" ")},padEnd:function(t,e,n){return String.prototype.padEnd?t.padEnd(e,n):(e>>=0,n=String(void 0!==n?n:" "),t.length>e?String(t):((e-=t.length)>n.length&&(n+=n.repeat(e/n.length)),String(t)+n.slice(0,e)))},split:function(t,e){var n=t.toLowerCase().replace("\u0451","\u0435").replace(/(\d+)([\u0430-\u044f]{2,})/g,"$1 $2").replace(/([\u0430-\u044f]+)(\d+)/g,"$1 $2"),i=r.compact(n.split(d));if(!i.length)return[];var o=i.pop(),s=r.minus(i,e);return s.push(o),s},splitTokens:function(t){var e=[];return r.each(t,(function(t,n){var i=t.split(p);e=e.concat(r.compact(i))})),e},stringEncloses:function(t,e){return t.length>e.length&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},tokenize:function(t,e){var n=r.compact(h.formatToken(t).split(d)),i=r.minus(n,e),o=r.minus(n,i);return n=h.withSubTokens(i.concat(o))},withSubTokens:function(t){var e=[];return r.each(t,(function(t,n){var i=t.split(p);e.push(t),i.length>1&&(e=e.concat(r.compact(i)))})),e}},g={Deferred:function(){return t.Deferred()},ajax:function(e){return t.ajax(e)},extend:function(){return t.extend.apply(null,arguments)},isJqObject:function(e){return e instanceof t},param:function(e){return t.param(e)},proxy:function(e,n){return t.proxy(e,n)},select:function(e){return t(e)},supportsCors:function(){return t.support.cors}},v={getDefaultType:function(){return g.supportsCors()?"POST":"GET"},getDefaultContentType:function(){return g.supportsCors()?"application/json":"application/x-www-form-urlencoded"},fixURLProtocol:function(t){return g.supportsCors()?t:t.replace(/^https?:/,location.protocol)},addUrlParams:function(t,e){return t+(/\?/.test(t)?"&":"?")+g.param(e)},serialize:function(t){return g.supportsCors()?JSON.stringify(t,(function(t,e){return null===e?void 0:e})):(t=o.compact(t),g.param(t,!0))}},y=(e=0,function(t){return(t||"")+ ++e}),m={escapeRegExChars:h.escapeRegExChars,escapeHtml:h.escapeHtml,formatToken:h.formatToken,normalize:h.normalize,reWordExtractor:h.getWordExtractorRegExp,stringEncloses:h.stringEncloses,addUrlParams:v.addUrlParams,getDefaultContentType:v.getDefaultContentType,getDefaultType:v.getDefaultType,fixURLProtocol:v.fixURLProtocol,serialize:v.serialize,arrayMinus:r.minus,arrayMinusWithPartialMatching:r.minusWithPartialMatching,arraysIntersection:r.intersect,compact:r.compact,each:r.each,makeArray:r.makeArray,slice:r.slice,delay:i.delay,areSame:o.areSame,compactObject:o.compact,getDeepValue:o.getDeepValue,fieldsNotEmpty:o.fieldsAreNotEmpty,indexBy:o.indexObjectsById,isArray:n.isArray,isEmptyObject:n.isEmptyObject,isFunction:n.isFunction,isPlainObject:n.isPlainObject,uniqueId:y},_={$helpers:null,autoSelectFirst:!1,containerClass:"suggestions-suggestions",count:5,deferRequestBy:100,enrichmentEnabled:!0,formatResult:null,formatSelected:null,headers:null,hint:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0438\u043b\u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435 \u0432\u0432\u043e\u0434",initializeInterval:100,language:null,minChars:1,mobileWidth:600,noCache:!1,noSuggestionsHint:null,onInvalidateSelection:null,onSearchComplete:t.noop,onSearchError:t.noop,onSearchStart:t.noop,onSelect:null,onSelectNothing:null,onSuggestionsFetch:null,paramName:"query",params:{},preventBadQueries:!1,requestMode:"suggest",scrollOnFocus:!1,serviceUrl:"https://suggestions.dadata.ru/suggestions/api/4_1/rs",tabDisabled:!1,timeout:3e3,triggerSelectOnBlur:!0,triggerSelectOnEnter:!0,triggerSelectOnSpace:!1,type:null,url:null};function b(t){return function(e){if(0===e.length)return!1;if(1===e.length)return!0;var n=t(e[0].value);return 0===e.filter((function(e){return 0!==t(e.value).indexOf(n)})).length}}var x=b((function(t){return t}));function w(t,e){return function(n,i){var o,s=[];return e(i)&&(o=h.splitTokens(h.split(n,t)),r.each(i,(function(e,i){var a=e.value;if(h.stringEncloses(n,a))return!1;var u=h.splitTokens(h.split(a,t));0===r.minus(o,u).length&&s.push(i)}))),1===s.length?s[0]:-1}}var S,C,E={matchByNormalizedQuery:function(t){return function(e,n){var i=h.normalize(e,t),o=[];return r.each(n,(function(n,r){var s=n.value.toLowerCase();return!h.stringEncloses(e,s)&&!(s.indexOf(i)>0)&&void(i===h.normalize(s,t)&&o.push(r))})),1===o.length?o[0]:-1}},matchByWords:function(t){return w(t,x)},matchByWordsAddress:function(t){return w(t,x)},matchByFields:function(t){return function(e,n){var i=h.splitTokens(h.split(e)),s=[];return 1===n.length&&(t&&r.each(t,(function(t,e){var r=o.getDeepValue(n[0],e),i=r&&h.splitTokens(h.split(r,t));i&&i.length&&(s=s.concat(i))})),0===r.minusWithPartialMatching(i,s).length)?0:-1}}},T=["\u0430\u043e","\u0430\u043e\u0431\u043b","\u0434\u043e\u043c","\u0440\u0435\u0441\u043f","\u0430/\u044f","\u0430\u0430\u043b","\u0430\u0432\u0442\u043e\u0434\u043e\u0440\u043e\u0433\u0430","\u0430\u043b\u043b\u0435\u044f","\u0430\u0440\u0431\u0430\u043d","\u0430\u0443\u043b","\u0431-\u0440","\u0431\u0435\u0440\u0435\u0433","\u0431\u0443\u0433\u043e\u0440","\u0432\u0430\u043b","\u0432\u043b","\u0432\u043e\u043b\u043e\u0441\u0442\u044c","\u0432\u044a\u0435\u0437\u0434","\u0432\u044b\u0441\u0435\u043b","\u0433","\u0433\u043e\u0440\u043e\u0434\u043e\u043a","\u0433\u0441\u043a","\u0434","\u0434\u0432\u043b\u0434","\u0434\u043d\u043f","\u0434\u043e\u0440","\u0434\u043f","\u0436/\u0434_\u0431\u0443\u0434\u043a\u0430","\u0436/\u0434_\u043a\u0430\u0437\u0430\u0440\u043c","\u0436/\u0434_\u043e\u043f","\u0436/\u0434_\u043f\u043b\u0430\u0442\u0444","\u0436/\u0434_\u043f\u043e\u0441\u0442","\u0436/\u0434_\u0440\u0437\u0434","\u0436/\u0434_\u0441\u0442","\u0436\u0438\u043b\u0437\u043e\u043d\u0430","\u0436\u0438\u043b\u0440\u0430\u0439\u043e\u043d","\u0436\u0442","\u0437\u0430\u0435\u0437\u0434","\u0437\u0430\u0438\u043c\u043a\u0430","\u0437\u043e\u043d\u0430","\u043a","\u043a\u0430\u0437\u0430\u0440\u043c\u0430","\u043a\u0430\u043d\u0430\u043b","\u043a\u0432","\u043a\u0432-\u043b","\u043a\u043c","\u043a\u043e\u043b\u044c\u0446\u043e","\u043a\u043e\u043c\u043d","\u043a\u043e\u0440\u0434\u043e\u043d","\u043a\u043e\u0441\u0430","\u043a\u043f","\u043a\u0440\u0430\u0439","\u043b\u0438\u043d\u0438\u044f","\u043b\u043f\u0445","\u043c","\u043c\u0430\u0441\u0441\u0438\u0432","\u043c\u0435\u0441\u0442\u043d\u043e\u0441\u0442\u044c","\u043c\u043a\u0440","\u043c\u043e\u0441\u0442","\u043d/\u043f","\u043d\u0430\u0431","\u043d\u043f","\u043e\u0431\u043b","\u043e\u043a\u0440\u0443\u0433","\u043e\u0441\u0442\u0440\u043e\u0432","\u043e\u0444","\u043f","\u043f/\u043e","\u043f/\u0440","\u043f/\u0441\u0442","\u043f\u0430\u0440\u043a","\u043f\u0433\u0442","\u043f\u0435\u0440","\u043f\u0435\u0440\u0435\u0435\u0437\u0434","\u043f\u043b","\u043f\u043b-\u043a\u0430","\u043f\u043b\u0430\u0442\u0444","\u043f\u043e\u0433\u043e\u0441\u0442","\u043f\u043e\u043b\u0443\u0441\u0442\u0430\u043d\u043e\u043a","\u043f\u043e\u0447\u0438\u043d\u043e\u043a","\u043f\u0440-\u043a\u0442","\u043f\u0440\u043e\u0435\u0437\u0434","\u043f\u0440\u043e\u043c\u0437\u043e\u043d\u0430","\u043f\u0440\u043e\u0441\u0435\u043a","\u043f\u0440\u043e\u0441\u0435\u043a\u0430","\u043f\u0440\u043e\u0441\u0435\u043b\u043e\u043a","\u043f\u0440\u043e\u0442\u043e\u043a","\u043f\u0440\u043e\u0442\u043e\u043a\u0430","\u043f\u0440\u043e\u0443\u043b\u043e\u043a","\u0440-\u043d","\u0440\u0437\u0434","\u0440\u043e\u0441\u0441\u0438\u044f","\u0440\u043f","\u0440\u044f\u0434\u044b","\u0441","\u0441/\u0430","\u0441/\u043c\u043e","\u0441/\u043e","\u0441/\u043f","\u0441/\u0441","\u0441\u0430\u0434","\u0441\u043a\u0432\u0435\u0440","\u0441\u043b","\u0441\u043d\u0442","\u0441\u043f\u0443\u0441\u043a","\u0441\u0442","\u0441\u0442-\u0446\u0430","\u0441\u0442\u0440","\u0442\u0435\u0440","\u0442\u0440\u0430\u043a\u0442","\u0442\u0443\u043f","\u0443","\u0443\u043b","\u0443\u0447-\u043a","\u0444/\u0445","\u0444\u0435\u0440\u043c\u0430","\u0445","\u0448","\u0431\u0443\u043b\u044c\u0432\u0430\u0440","\u0432\u043b\u0430\u0434\u0435\u043d\u0438\u0435","\u0432\u044b\u0441\u0435\u043b\u043a\u0438","\u0433\u0430\u0440\u0430\u0436\u043d\u043e-\u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439","\u0433\u043e\u0440\u043e\u0434","\u0434\u0435\u0440\u0435\u0432\u043d\u044f","\u0434\u043e\u043c\u043e\u0432\u043b\u0430\u0434\u0435\u043d\u0438\u0435","\u0434\u043e\u0440\u043e\u0433\u0430","\u043a\u0432\u0430\u0440\u0442\u0430\u043b","\u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440","\u043a\u043e\u043c\u043d\u0430\u0442\u0430","\u043a\u043e\u0440\u043f\u0443\u0441","\u043b\u0438\u0442\u0435\u0440","\u043b\u0435\u0441\u043f\u0440\u043e\u043c\u0445\u043e\u0437","\u043c\u0435\u0441\u0442\u0435\u0447\u043a\u043e","\u043c\u0438\u043a\u0440\u043e\u0440\u0430\u0439\u043e\u043d","\u043d\u0430\u0431\u0435\u0440\u0435\u0436\u043d\u0430\u044f","\u043e\u0431\u043b\u0430\u0441\u0442\u044c","\u043f\u0435\u0440\u0435\u0443\u043b\u043e\u043a","\u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430","\u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430","\u043f\u043b\u043e\u0449\u0430\u0434\u044c","\u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u0435","\u043f\u043e\u0441\u0435\u043b\u043e\u043a","\u043f\u0440\u043e\u0441\u043f\u0435\u043a\u0442","\u0440\u0430\u0437\u044a\u0435\u0437\u0434","\u0440\u0430\u0439\u043e\u043d","\u0440\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430","\u0441\u0435\u043b\u043e","\u0441\u0435\u043b\u044c\u0441\u043e\u0432\u0435\u0442","\u0441\u043b\u043e\u0431\u043e\u0434\u0430","\u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u0435","\u0441\u0442\u0430\u043d\u0438\u0446\u0430","\u0441\u0442\u0430\u043d\u0446\u0438\u044f","\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435","\u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u044f","\u0442\u0443\u043f\u0438\u043a","\u0443\u043b\u0438\u0446\u0430","\u0443\u043b\u0443\u0441","\u0443\u0447\u0430\u0441\u0442\u043e\u043a","\u0445\u0443\u0442\u043e\u0440","\u0448\u043e\u0441\u0441\u0435"],D=[{id:"kladr_id",fields:["kladr_id"],forBounds:!1,forLocations:!0},{id:"postal_code",fields:["postal_code"],forBounds:!1,forLocations:!0},{id:"country_iso_code",fields:["country_iso_code"],forBounds:!1,forLocations:!0},{id:"country",fields:["country"],forBounds:!0,forLocations:!0,kladrFormat:{digits:0,zeros:13},fiasType:"country_iso_code"},{id:"region_iso_code",fields:["region_iso_code"],forBounds:!1,forLocations:!0},{id:"region_fias_id",fields:["region_fias_id"],forBounds:!1,forLocations:!0},{id:"region_type_full",fields:["region_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:2,zeros:11},fiasType:"region_fias_id"},{id:"region",fields:["region","region_type","region_type_full","region_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:2,zeros:11},fiasType:"region_fias_id"},{id:"area_fias_id",fields:["area_fias_id"],forBounds:!1,forLocations:!0},{id:"area_type_full",fields:["area_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:5,zeros:8},fiasType:"area_fias_id"},{id:"area",fields:["area","area_type","area_type_full","area_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:5,zeros:8},fiasType:"area_fias_id"},{id:"city_fias_id",fields:["city_fias_id"],forBounds:!1,forLocations:!0},{id:"city_type_full",fields:["city_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:8,zeros:5},fiasType:"city_fias_id"},{id:"city",fields:["city","city_type","city_type_full","city_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:8,zeros:5},fiasType:"city_fias_id"},{id:"city_district_fias_id",fields:["city_district_fias_id"],forBounds:!1,forLocations:!0},{id:"city_district_type_full",fields:["city_district_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"city_district_fias_id"},{id:"city_district",fields:["city_district","city_district_type","city_district_type_full","city_district_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"city_district_fias_id"},{id:"settlement_fias_id",fields:["settlement_fias_id"],forBounds:!1,forLocations:!0},{id:"settlement_type_full",fields:["settlement_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"settlement_fias_id"},{id:"settlement",fields:["settlement","settlement_type","settlement_type_full","settlement_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"settlement_fias_id"},{id:"street_fias_id",fields:["street_fias_id"],forBounds:!1,forLocations:!0},{id:"street_type_full",fields:["street_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"street_fias_id"},{id:"street",fields:["street","street_type","street_type_full","street_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"street_fias_id"},{id:"house",fields:["house","house_type","house_type_full","block","block_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:19},fiasType:"house_fias_id"},{id:"flat",fields:["flat","flat_type","flat_type_full"],forBounds:!0,forLocations:!1,kladrFormat:{digits:19},fiasType:"flat_fias_id"}],k={urlSuffix:"address",noSuggestionsHint:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441",matchers:[E.matchByNormalizedQuery(T),E.matchByWordsAddress(T)],dataComponents:D,dataComponentsById:o.indexObjectsById(D,"id","index"),unformattableTokens:T,enrichmentEnabled:!0,enrichmentMethod:"suggest",enrichmentParams:{count:1,locations:null,locations_boost:null,from_bound:null,to_bound:null},getEnrichmentQuery:function(t){return t.unrestricted_value},geoEnabled:!0,isDataComplete:function(t){var e=[this.bounds.to||"flat"],r=t.data;return!n.isPlainObject(r)||o.fieldsAreNotEmpty(r,e)},composeValue:function(t,e){var n=t.country,i=t.region_with_type||r.compact([t.region,t.region_type]).join(" ")||t.region_type_full,o=t.area_with_type||r.compact([t.area_type,t.area]).join(" ")||t.area_type_full,s=t.city_with_type||r.compact([t.city_type,t.city]).join(" ")||t.city_type_full,a=t.settlement_with_type||r.compact([t.settlement_type,t.settlement]).join(" ")||t.settlement_type_full,u=t.city_district_with_type||r.compact([t.city_district_type,t.city_district]).join(" ")||t.city_district_type_full,l=t.street_with_type||r.compact([t.street_type,t.street]).join(" ")||t.street_type_full,c=r.compact([t.stead_type,t.stead,t.house_type,t.house,t.block_type,t.block]).join(" "),f=r.compact([t.flat_type,t.flat]).join(" "),d=t.postal_box&&"\u0430/\u044f "+t.postal_box;return i===s&&(i=""),e&&e.saveCityDistrict||(e&&e.excludeCityDistrict||u&&!t.city_district_fias_id)&&(u=""),r.compact([n,i,o,s,u,a,l,c,f,d]).join(", ")},formatResult:(S=[],C=!1,D.forEach((function(t){C&&S.push(t.id),"city_district"===t.id&&(C=!0)})),function(t,e,r,i){var o,s,a,u=this,l=r.data&&r.data.city_district_with_type,c=i&&i.unformattableTokens,f=r.data&&r.data.history_values;return f&&f.length>0&&(o=h.tokenize(e,c),s=this.type.findUnusedTokens(o,t),(a=this.type.getFormattedHistoryValues(s,f))&&(t+=a)),t=u.highlightMatches(t,e,r,i),t=u.wrapFormattedValue(t,r),l&&(!u.bounds.own.length||u.bounds.own.indexOf("street")>=0)&&!n.isEmptyObject(u.copyDataComponents(r.data,S))&&(t+='<div class="'+u.classes.subtext+'">'+u.highlightMatches(l,e,r)+"</div>"),t}),findUnusedTokens:function(t,e){var n=[];return n=t.filter((function(t){return-1===e.indexOf(t)})),n},getFormattedHistoryValues:function(t,e){var n=[],i="";return e.forEach((function(e){r.each(t,(function(t){if(e.toLowerCase().indexOf(t)>=0)return n.push(e),!1}))})),n.length>0&&(i=" (\u0431\u044b\u0432\u0448. "+n.join(", ")+")"),i},getSuggestionValue:function(t,e){var n=null;return e.hasSameValues?n=t.options.restrict_value?this.getValueWithinConstraints(t,e.suggestion):t.bounds.own.length?this.getValueWithinBounds(t,e.suggestion):e.suggestion.unrestricted_value:e.hasBeenEnriched&&t.options.restrict_value&&(n=this.getValueWithinConstraints(t,e.suggestion,{excludeCityDistrict:!0})),n},getValueWithinConstraints:function(t,e,n){return this.composeValue(t.getUnrestrictedData(e.data),n)},getValueWithinBounds:function(t,e,n){var r=t.copyDataComponents(e.data,t.bounds.own.concat(["city_district_fias_id"]));return this.composeValue(r,n)}},A=[{id:"kladr_id",fields:["kladr_id"],forBounds:!1,forLocations:!0},{id:"region_fias_id",fields:["region_fias_id"],forBounds:!1,forLocations:!0},{id:"region_type_full",fields:["region_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:2,zeros:11},fiasType:"region_fias_id"},{id:"region",fields:["region","region_type","region_type_full","region_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:2,zeros:11},fiasType:"region_fias_id"},{id:"area_fias_id",fields:["area_fias_id"],forBounds:!1,forLocations:!0},{id:"area_type_full",fields:["area_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:5,zeros:8},fiasType:"area_fias_id"},{id:"area",fields:["area","area_type","area_type_full","area_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:5,zeros:8},fiasType:"area_fias_id"},{id:"city_fias_id",fields:["city_fias_id"],forBounds:!1,forLocations:!0},{id:"city_type_full",fields:["city_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:8,zeros:5},fiasType:"city_fias_id"},{id:"city",fields:["city","city_type","city_type_full","city_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:8,zeros:5},fiasType:"city_fias_id"},{id:"city_district_fias_id",fields:["city_district_fias_id"],forBounds:!1,forLocations:!0},{id:"city_district_type_full",fields:["city_district_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"city_district_fias_id"},{id:"city_district",fields:["city_district","city_district_type","city_district_type_full","city_district_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"city_district_fias_id"},{id:"settlement_fias_id",fields:["settlement_fias_id"],forBounds:!1,forLocations:!0},{id:"settlement_type_full",fields:["settlement_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"settlement_fias_id"},{id:"settlement",fields:["settlement","settlement_type","settlement_type_full","settlement_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"settlement_fias_id"},{id:"planning_structure_fias_id",fields:["planning_structure_fias_id"],forBounds:!1,forLocations:!0},{id:"planning_structure_type_full",fields:["planning_structure_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"planning_structure_fias_id"},{id:"planning_structure",fields:["planning_structure","planning_structure_type","planning_structure_type_full","planning_structure_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"planning_structure_fias_id"},{id:"street_fias_id",fields:["street_fias_id"],forBounds:!1,forLocations:!0},{id:"street_type_full",fields:["street_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"street_fias_id"},{id:"street",fields:["street","street_type","street_type_full","street_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"street_fias_id"},{id:"house",fields:["house","house_type","block","building_type","building"],forBounds:!0,forLocations:!1,kladrFormat:{digits:19}}],O={urlSuffix:"fias",noSuggestionsHint:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441",matchers:[E.matchByNormalizedQuery(T),E.matchByWordsAddress(T)],dataComponents:A,dataComponentsById:o.indexObjectsById(A,"id","index"),unformattableTokens:T,isDataComplete:function(t){var e=[this.bounds.to||"house"],r=t.data;return!n.isPlainObject(r)||o.fieldsAreNotEmpty(r,e)},composeValue:function(t,e){var n=t.country,i=t.region_with_type||r.compact([t.region,t.region_type]).join(" ")||t.region_type_full,o=t.area_with_type||r.compact([t.area_type,t.area]).join(" ")||t.area_type_full,s=t.city_with_type||r.compact([t.city_type,t.city]).join(" ")||t.city_type_full,a=t.settlement_with_type||r.compact([t.settlement_type,t.settlement]).join(" ")||t.settlement_type_full,u=t.city_district_with_type||r.compact([t.city_district_type,t.city_district]).join(" ")||t.city_district_type_full,l=t.planning_structure_with_type||r.compact([t.planning_structure_type,t.planning_structure]).join(" ")||t.planning_structure_type_full,c=t.street_with_type||r.compact([t.street_type,t.street]).join(" ")||t.street_type_full,f=r.compact([t.house_type,t.house,t.block_type,t.block]).join(" "),d=r.compact([t.flat_type,t.flat]).join(" "),p=t.postal_box&&"\u0430/\u044f "+t.postal_box;return i===s&&(i=""),e&&e.saveCityDistrict||(e&&e.excludeCityDistrict||u&&!t.city_district_fias_id)&&(u=""),r.compact([n,i,o,s,u,a,l,c,f,d,p]).join(", ")},formatResult:function(t,e,n,r){var i=this;return t=i.highlightMatches(t,e,n,r),t=i.wrapFormattedValue(t,n)},getSuggestionValue:k.getSuggestionValue,getValueWithinConstraints:k.getValueWithinConstraints,getValueWithinBounds:k.getValueWithinBounds};function P(t,e){var n=t.data&&t.data[e];return n&&new RegExp("^"+h.escapeRegExChars(n)+"(["+c+"]|$)","i").test(t.value)}var j={urlSuffix:"fio",noSuggestionsHint:!1,matchers:[E.matchByNormalizedQuery(),E.matchByWords()],fieldNames:{surname:"\u0444\u0430\u043c\u0438\u043b\u0438\u044f",name:"\u0438\u043c\u044f",patronymic:"\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"},isDataComplete:function(t){var e,r=this,i=r.options.params,s=t.data;return n.isFunction(i)&&(i=i.call(r.element,t.value)),i&&i.parts?e=i.parts.map((function(t){return t.toLowerCase()})):(e=["surname","name"],P(t,"surname")&&e.push("patronymic")),o.fieldsAreNotEmpty(s,e)},composeValue:function(t){return r.compact([t.surname,t.name,t.patronymic]).join(" ")}},B={LEGAL:[2,2,5,1],INDIVIDUAL:[2,2,6,2]};function L(t,e){var n=/<strong>/;return n.test(e)&&!n.test(t)?e:t}function I(t,e,n,r,i){var o=this;return L(o.highlightMatches(t,n,r,i),o.highlightMatches(e,n,r,i))}var R={urlSuffix:"party",noSuggestionsHint:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f",matchers:[E.matchByFields({value:null,"data.address.value":T,"data.inn":null,"data.ogrn":null})],dataComponents:D,enrichmentEnabled:!0,enrichmentMethod:"findById",enrichmentParams:{count:1,locations_boost:null},getEnrichmentQuery:function(t){return t.data.hid},geoEnabled:!0,formatResult:function(t,e,n,r){var i=this,s=L(i.type.formatResultInn.call(i,n,e),i.highlightMatches(o.getDeepValue(n.data,"ogrn"),e,n)),a=i.highlightMatches(o.getDeepValue(n.data,"management.name"),e,n),u=o.getDeepValue(n.data,"address.value")||"";return i.isMobile&&((r||(r={})).maxLength=50),t=I.call(i,t,o.getDeepValue(n.data,"name.latin"),e,n,r),t=i.wrapFormattedValue(t,n),u&&(u=u.replace(/^(\d{6}|\u0420\u043e\u0441\u0441\u0438\u044f),\s+/i,""),u=i.isMobile?u.replace(new RegExp("^([^"+c+"]+["+c+"]+[^"+c+"]+).*"),"$1"):i.highlightMatches(u,e,n,{unformattableTokens:T})),(s||u||a)&&(t+='<div class="'+i.classes.subtext+'"><span class="'+i.classes.subtext_inline+'">'+(s||"")+"</span>"+(L(u,a)||"")+"</div>"),t},formatResultInn:function(t,e){var n,r,i=this,o=t.data&&t.data.inn,s=B[t.data&&t.data.type],a=/\d/;if(o)return r=i.highlightMatches(o,e,t),s&&(r=r.split(""),n=s.map((function(t){for(var e,n="";t&&(e=r.shift());)n+=e,a.test(e)&&t--;return n})),r=n.join('<span class="'+i.classes.subtext_delimiter+'"></span>')+r.join("")),r}},N={urlSuffix:"email",noSuggestionsHint:!1,matchers:[E.matchByNormalizedQuery()],isQueryRequestable:function(t){return this.options.suggest_local||t.indexOf("@")>=0}},M={urlSuffix:"bank",noSuggestionsHint:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0431\u0430\u043d\u043a",matchers:[E.matchByFields({value:null,"data.bic":null,"data.swift":null})],dataComponents:D,enrichmentEnabled:!0,enrichmentMethod:"findById",enrichmentParams:{count:1},getEnrichmentQuery:function(t){return t.data.bic},geoEnabled:!0,formatResult:function(t,e,n,r){var i=this,s=i.highlightMatches(o.getDeepValue(n.data,"bic"),e,n),a=o.getDeepValue(n.data,"address.value")||"";return t=i.highlightMatches(t,e,n,r),t=i.wrapFormattedValue(t,n),a&&(a=a.replace(/^\d{6}( \u0420\u041e\u0421\u0421\u0418\u042f)?, /i,""),a=i.isMobile?a.replace(new RegExp("^([^"+c+"]+["+c+"]+[^"+c+"]+).*"),"$1"):i.highlightMatches(a,e,n,{unformattableTokens:T})),(s||a)&&(t+='<div class="'+i.classes.subtext+'"><span class="'+i.classes.subtext_inline+'">'+s+"</span>"+a+"</div>"),t},formatSelected:function(t){return o.getDeepValue(t,"data.name.payment")||null}};function F(t){this.urlSuffix=t.toLowerCase(),this.noSuggestionsHint="\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",this.matchers=[E.matchByNormalizedQuery(),E.matchByWords()]}var q={NAME:j,ADDRESS:k,FIAS:O,PARTY:R,EMAIL:N,BANK:M,get:function(t){return q.hasOwnProperty(t)?q[t]:new F(t)}};g.extend(_,{suggest_local:!0});var $={chains:{},on:function(t,e){return this.get(t).push(e),this},get:function(t){var e=this.chains;return e[t]||(e[t]=[])}},z={suggest:{defaultParams:{type:m.getDefaultType(),dataType:"json",contentType:m.getDefaultContentType()},addTypeInUrl:!0},"iplocate/address":{defaultParams:{type:"GET",dataType:"json"},addTypeInUrl:!1},status:{defaultParams:{type:"GET",dataType:"json"},addTypeInUrl:!0},findById:{defaultParams:{type:m.getDefaultType(),dataType:"json",contentType:m.getDefaultContentType()},addTypeInUrl:!0}},V={suggest:{method:"suggest",userSelect:!0,updateValue:!0,enrichmentEnabled:!0},findById:{method:"findById",userSelect:!1,updateValue:!1,enrichmentEnabled:!1}};function U(e,n){var r=this;r.element=e,r.el=t(e),r.suggestions=[],r.badQueries=[],r.selectedIndex=-1,r.currentValue=r.element.value,r.intervalId=0,r.cachedResponse={},r.enrichmentCache={},r.currentRequest=null,r.inputPhase=t.Deferred(),r.fetchPhase=t.Deferred(),r.enrichPhase=t.Deferred(),r.onChangeTimeout=null,r.triggering={},r.$wrapper=null,r.options=t.extend({},_,n),r.classes=a,r.disabled=!1,r.selection=null,r.$viewport=t(window),r.$body=t(document.body),r.type=null,r.status={},r.setupElement(),r.initializer=t.Deferred(),r.el.is(":visible")?r.initializer.resolve():r.deferInitialization(),r.initializer.done(t.proxy(r.initialize,r))}U.prototype={initialize:function(){var t=this;t.uniqueId=m.uniqueId("i"),t.createWrapper(),t.notify("initialize"),t.bindWindowEvents(),t.setOptions(),t.inferIsMobile(),t.notify("ready")},deferInitialization:function(){var t,e=this,n="mouseover focus keydown",r=function(){e.initializer.resolve(),e.enable()};e.initializer.always((function(){e.el.off(n,r),clearInterval(t)})),e.disabled=!0,e.el.on(n,r),t=setInterval((function(){e.el.is(":visible")&&r()}),e.options.initializeInterval)},isInitialized:function(){return"resolved"===this.initializer.state()},dispose:function(){var t=this;t.initializer.reject(),t.notify("dispose"),t.el.removeData(l).removeClass("suggestions-input"),t.unbindWindowEvents(),t.removeWrapper(),t.el.trigger("suggestions-dispose")},notify:function(e){var n=this,r=m.slice(arguments,1);return t.map($.get(e),(function(t){return t.apply(n,r)}))},createWrapper:function(){var e=this;e.$wrapper=t('<div class="suggestions-wrapper"/>'),e.el.after(e.$wrapper),e.$wrapper.on("mousedown"+u,t.proxy(e.onMousedown,e))},removeWrapper:function(){var e=this;e.$wrapper&&e.$wrapper.remove(),t(e.options.$helpers).off(u)},onMousedown:function(e){var n=this;e.preventDefault(),n.cancelBlur=!0,m.delay((function(){delete n.cancelBlur})),0==t(e.target).closest(".ui-menu-item").length&&m.delay((function(){t(document).one("mousedown",(function(e){var r=n.el.add(n.$wrapper).add(n.options.$helpers);n.options.floating&&(r=r.add(n.$container)),(r=r.filter((function(){return this===e.target||t.contains(this,e.target)}))).length||n.hide()}))}))},bindWindowEvents:function(){var e=t.proxy(this.inferIsMobile,this);this.$viewport.on("resize"+u+this.uniqueId,e)},unbindWindowEvents:function(){this.$viewport.off("resize"+u+this.uniqueId)},scrollToTop:function(){var e=this,n=e.options.scrollOnFocus;!0===n&&(n=e.el),n instanceof t&&n.length>0&&t("body,html").animate({scrollTop:n.offset().top},"fast")},setOptions:function(e){var n=this;t.extend(n.options,e),n.type=q.get(n.options.type),t.each({requestMode:V},(function(e,r){if(n[e]=r[n.options[e]],!n[e])throw n.disable(),"`"+e+"` option is incorrect! Must be one of: "+t.map(r,(function(t,e){return'"'+e+'"'})).join(", ")})),t(n.options.$helpers).off(u).on("mousedown"+u,t.proxy(n.onMousedown,n)),n.isInitialized()&&n.notify("setOptions")},inferIsMobile:function(){this.isMobile=this.$viewport.width()<=this.options.mobileWidth},clearCache:function(){this.cachedResponse={},this.enrichmentCache={},this.badQueries=[]},clear:function(){var t=this,e=t.selection;t.isInitialized()&&(t.clearCache(),t.currentValue="",t.selection=null,t.hide(),t.suggestions=[],t.el.val(""),t.el.trigger("suggestions-clear"),t.notify("clear"),t.trigger("InvalidateSelection",e))},disable:function(){var t=this;t.disabled=!0,t.abortRequest(),t.visible&&t.hide()},enable:function(){this.disabled=!1},isUnavailable:function(){return this.disabled},update:function(){var t=this,e=t.el.val();t.isInitialized()&&(t.currentValue=e,t.isQueryRequestable(e)?t.updateSuggestions(e):t.hide())},setSuggestion:function(e){var n,r,i=this;t.isPlainObject(e)&&t.isPlainObject(e.data)&&(e=t.extend(!0,{},e),i.isUnavailable()&&i.initializer&&"pending"===i.initializer.state()&&(i.initializer.resolve(),i.enable()),i.bounds.own.length&&(i.checkValueBounds(e),n=i.copyDataComponents(e.data,i.bounds.all),e.data.kladr_id&&(n.kladr_id=i.getBoundedKladrId(e.data.kladr_id,i.bounds.all)),e.data=n),i.selection=e,i.suggestions=[e],r=i.getSuggestionValue(e)||"",i.currentValue=r,i.el.val(r),i.abortRequest(),i.el.trigger("suggestions-set"))},fixData:function(){var e=this,n=e.extendedCurrentValue(),r=e.el.val(),i=t.Deferred();i.done((function(t){e.selectSuggestion(t,0,r,{hasBeenEnriched:!0}),e.el.trigger("suggestions-fixdata",t)})).fail((function(){e.selection=null,e.el.trigger("suggestions-fixdata")})),e.isQueryRequestable(n)?(e.currentValue=n,e.getSuggestions(n,{count:1,from_bound:null,to_bound:null}).done((function(t){var e=t[0];e?i.resolve(e):i.reject()})).fail((function(){i.reject()}))):i.reject()},extendedCurrentValue:function(){var e=this,n=e.getParentInstance(),r=n&&n.extendedCurrentValue(),i=t.trim(e.el.val());return m.compact([r,i]).join(" ")},getAjaxParams:function(e,n){var r=this,i=t.trim(r.options.token),o=t.trim(r.options.partner),s=r.options.serviceUrl,a=r.options.url,u=z[e],l=t.extend({timeout:r.options.timeout},u.defaultParams),c={};return a?s=a:(/\/$/.test(s)||(s+="/"),s+=e,u.addTypeInUrl&&(s+="/"+r.type.urlSuffix)),s=m.fixURLProtocol(s),t.support.cors?(i&&(c.Authorization="Token "+i),o&&(c["X-Partner"]=o),c["X-Version"]=U.version,l.headers||(l.headers={}),l.xhrFields||(l.xhrFields={}),t.extend(l.headers,r.options.headers,c),l.xhrFields.withCredentials=!1):(i&&(c.token=i),o&&(c.partner=o),c.version=U.version,s=m.addUrlParams(s,c)),l.url=s,t.extend(l,n)},isQueryRequestable:function(t){var e,n=this;return(e=t.length>=n.options.minChars)&&n.type.isQueryRequestable&&(e=n.type.isQueryRequestable.call(n,t)),e},constructRequestParams:function(e,n){var r=this,i=r.options,o=t.isFunction(i.params)?i.params.call(r.element,e):t.extend({},i.params);return r.type.constructRequestParams&&t.extend(o,r.type.constructRequestParams.call(r)),t.each(r.notify("requestParams"),(function(e,n){t.extend(o,n)})),o[i.paramName]=e,t.isNumeric(i.count)&&i.count>0&&(o.count=i.count),i.language&&(o.language=i.language),t.extend(o,n)},updateSuggestions:function(t){var e=this;e.fetchPhase=e.getSuggestions(t).done((function(n){e.assignSuggestions(n,t)}))},getSuggestions:function(e,n,r){var i,o=this,s=o.options,a=r&&r.noCallbacks,u=r&&r.useEnrichmentCache,l=r&&r.method||o.requestMode.method,c=o.constructRequestParams(e,n),f=t.param(c||{}),d=t.Deferred();return(i=o.cachedResponse[f])&&t.isArray(i.suggestions)?d.resolve(i.suggestions):o.isBadQuery(e)?d.reject():a||!1!==s.onSearchStart.call(o.element,c)?o.doGetSuggestions(c,l).done((function(t){o.processResponse(t)&&e==o.currentValue?(s.noCache||(u?o.enrichmentCache[e]=t.suggestions[0]:(o.enrichResponse(t,e),o.cachedResponse[f]=t,s.preventBadQueries&&0===t.suggestions.length&&o.badQueries.push(e))),d.resolve(t.suggestions)):d.reject(),a||s.onSearchComplete.call(o.element,e,t.suggestions)})).fail((function(t,n,r){d.reject(),a||"abort"===n||s.onSearchError.call(o.element,e,t,n,r)})):d.reject(),d},doGetSuggestions:function(e,n){var r=this,i=t.ajax(r.getAjaxParams(n,{data:m.serialize(e)}));return r.abortRequest(),r.currentRequest=i,r.notify("request"),i.always((function(){r.currentRequest=null,r.notify("request")})),i},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;var n=!1;return t.each(this.badQueries,(function(t,r){return!(n=0===e.indexOf(r))})),n},abortRequest:function(){var t=this;t.currentRequest&&t.currentRequest.abort()},processResponse:function(e){var n,r=this;return!(!e||!t.isArray(e.suggestions)||(r.verifySuggestionsFormat(e.suggestions),r.setUnrestrictedValues(e.suggestions),t.isFunction(r.options.onSuggestionsFetch)&&(n=r.options.onSuggestionsFetch.call(r.element,e.suggestions),t.isArray(n)&&(e.suggestions=n)),0))},verifySuggestionsFormat:function(e){"string"==typeof e[0]&&t.each(e,(function(t,n){e[t]={value:n,data:null}}))},getSuggestionValue:function(e,n){var r,i=this,o=i.options.formatSelected||i.type.formatSelected,s=n&&n.hasSameValues,a=n&&n.hasBeenEnriched,u=null;return t.isFunction(o)&&(r=o.call(i,e)),"string"!=typeof r&&(r=e.value,i.type.getSuggestionValue&&null!==(u=i.type.getSuggestionValue(i,{suggestion:e,hasSameValues:s,hasBeenEnriched:a}))&&(r=u)),r},hasSameValues:function(e){var n=!1;return t.each(this.suggestions,(function(t,r){if(r.value===e.value&&r!==e)return n=!0,!1})),n},assignSuggestions:function(t,e){var n=this;n.suggestions=t,n.notify("assignSuggestions",e)},shouldRestrictValues:function(){var t=this;return t.options.restrict_value&&t.constraints&&1==Object.keys(t.constraints).length},setUnrestrictedValues:function(e){var n=this,r=n.shouldRestrictValues(),i=n.getFirstConstraintLabel();t.each(e,(function(t,e){e.unrestricted_value||(e.unrestricted_value=r?i+", "+e.value:e.value)}))},areSuggestionsSame:function(t,e){return t&&e&&t.value===e.value&&m.areSame(t.data,e.data)},getNoSuggestionsHint:function(){var t=this;return!1!==t.options.noSuggestionsHint&&(t.options.noSuggestionsHint||t.type.noSuggestionsHint)}};var H={setupElement:function(){this.el.attr("autocomplete","new-password").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck","false").addClass("suggestions-input").css("box-sizing","border-box")},bindElementEvents:function(){var e=this;e.el.on("keydown"+u,t.proxy(e.onElementKeyDown,e)),e.el.on(["keyup"+u,"cut"+u,"paste"+u,"input"+u].join(" "),t.proxy(e.onElementKeyUp,e)),e.el.on("blur"+u,t.proxy(e.onElementBlur,e)),e.el.on("focus"+u,t.proxy(e.onElementFocus,e))},unbindElementEvents:function(){this.el.off(u)},onElementBlur:function(){var t=this;t.cancelBlur?t.cancelBlur=!1:(t.options.triggerSelectOnBlur?t.isUnavailable()||t.selectCurrentValue({noSpace:!0}).always((function(){t.hide()})):t.hide(),t.fetchPhase.abort&&t.fetchPhase.abort())},onElementFocus:function(){var e=this;e.cancelFocus||m.delay(t.proxy(e.completeOnFocus,e)),e.cancelFocus=!1},onElementKeyDown:function(t){var e=this;if(!e.isUnavailable())if(e.visible){switch(t.which){case s.ESC:e.el.val(e.currentValue),e.hide(),e.abortRequest();break;case s.TAB:if(!1===e.options.tabDisabled)return;break;case s.ENTER:e.options.triggerSelectOnEnter&&e.selectCurrentValue();break;case s.SPACE:return void(e.options.triggerSelectOnSpace&&e.isCursorAtEnd()&&(t.preventDefault(),e.selectCurrentValue({continueSelecting:!0,dontEnrich:!0}).fail((function(){e.currentValue+=" ",e.el.val(e.currentValue),e.proceedChangedValue()}))));case s.UP:e.moveUp();break;case s.DOWN:e.moveDown();break;default:return}t.stopImmediatePropagation(),t.preventDefault()}else switch(t.which){case s.DOWN:e.suggest();break;case s.ENTER:e.options.triggerSelectOnEnter&&e.triggerOnSelectNothing()}},onElementKeyUp:function(t){var e=this;if(!e.isUnavailable()){switch(t.which){case s.UP:case s.DOWN:case s.ENTER:return}clearTimeout(e.onChangeTimeout),e.inputPhase.reject(),e.currentValue!==e.el.val()&&e.proceedChangedValue()}},proceedChangedValue:function(){var e=this;e.abortRequest(),e.inputPhase=t.Deferred().done(t.proxy(e.onValueChange,e)),e.options.deferRequestBy>0?e.onChangeTimeout=m.delay((function(){e.inputPhase.resolve()}),e.options.deferRequestBy):e.inputPhase.resolve()},onValueChange:function(){var t,e=this;e.selection&&(t=e.selection,e.selection=null,e.trigger("InvalidateSelection",t)),e.selectedIndex=-1,e.update(),e.notify("valueChange")},completeOnFocus:function(){var t=this;t.isUnavailable()||t.isElementFocused()&&(t.update(),t.isMobile&&(t.setCursorAtEnd(),t.scrollToTop()))},isElementFocused:function(){return document.activeElement===this.element},isElementDisabled:function(){return Boolean(this.element.getAttribute("disabled")||this.element.getAttribute("readonly"))},isCursorAtEnd:function(){var t,e,n=this,r=n.el.val().length;try{if("number"==typeof(t=n.element.selectionStart))return t===r}catch(t){}return!document.selection||((e=document.selection.createRange()).moveStart("character",-r),r===e.text.length)},setCursorAtEnd:function(){var t=this.element;try{t.selectionEnd=t.selectionStart=t.value.length,t.scrollLeft=t.scrollWidth}catch(e){t.value=t.value}}};t.extend(U.prototype,H),$.on("initialize",H.bindElementEvents).on("dispose",H.unbindElementEvents);var W={};function G(){m.each(W,(function(t){t.abort()})),W={}}G();var X,Y={checkStatus:function(){var t=this,e=t.options.token&&t.options.token.trim()||"",n=t.options.type+e,r=W[n];function i(e){m.isFunction(t.options.onSearchError)&&t.options.onSearchError.call(t.element,null,r,"error",e)}r||(r=W[n]=g.ajax(t.getAjaxParams("status"))),r.done((function(e,n,r){if(e.search){var o=r.getResponseHeader("X-Plan");e.plan=o,g.extend(t.status,e)}else i("Service Unavailable")})).fail((function(){i(r.statusText)}))}};U.resetTokens=G,g.extend(U.prototype,Y),$.on("setOptions",Y.checkStatus);var Q=!0;function Z(){X=null,_.geoLocation=Q}var J={checkLocation:function(){var e=this,n=e.options.geoLocation;e.type.geoEnabled&&n&&(e.geoLocation=t.Deferred(),t.isPlainObject(n)||t.isArray(n)?e.geoLocation.resolve(n):(X||(X=t.ajax(e.getAjaxParams("iplocate/address"))),X.done((function(t){var n=t&&t.location&&t.location.data;n&&n.kladr_id?e.geoLocation.resolve({kladr_id:n.kladr_id}):e.geoLocation.reject()})).fail((function(){e.geoLocation.reject()}))))},getGeoLocation:function(){return this.geoLocation},constructParams:function(){var e=this,n={};return e.geoLocation&&t.isFunction(e.geoLocation.promise)&&"resolved"==e.geoLocation.state()&&e.geoLocation.done((function(e){n.locations_boost=t.makeArray(e)})),n}};"GET"!=m.getDefaultType()&&(t.extend(_,{geoLocation:Q}),t.extend(U,{resetLocation:Z}),t.extend(U.prototype,{getGeoLocation:J.getGeoLocation}),$.on("setOptions",J.checkLocation).on("requestParams",J.constructParams));var K={enrichSuggestion:function(e,n){var r=this,i=t.Deferred();if(!r.options.enrichmentEnabled||!r.type.enrichmentEnabled||!r.requestMode.enrichmentEnabled||n&&n.dontEnrich)return i.resolve(e);if(e.data&&null!=e.data.qc)return i.resolve(e);r.disableDropdown();var o=r.type.getEnrichmentQuery(e),s=r.type.enrichmentParams,a={noCallbacks:!0,useEnrichmentCache:!0,method:r.type.enrichmentMethod};return r.currentValue=o,r.enrichPhase=r.getSuggestions(o,s,a).always((function(){r.enableDropdown()})).done((function(t){var n=t&&t[0];i.resolve(n||e,!!n)})).fail((function(){i.resolve(e)})),i},enrichResponse:function(e,n){var r=this.enrichmentCache[n];r&&t.each(e.suggestions,(function(t,i){if(i.value===n)return e.suggestions[t]=r,!1}))}};function tt(e){return t.map(e,(function(t){var e=m.escapeHtml(t.text);return e&&t.matched&&(e="<strong>"+e+"</strong>"),e})).join("")}function et(e,n){var r=e.split(", ");return 1===r.length?e:t.map(r,(function(t){return'<span class="'+n+'">'+t+"</span>"})).join(", ")}function nt(e,n){var r=!1;return t.each(e,(function(t,e){if(r=e.value==n.value&&e!=n)return!1})),r}t.extend(U.prototype,K);var rt={width:"auto",floating:!1},it={createContainer:function(){var e=this,n="."+e.classes.suggestion,r=e.options,i=t("<div/>").addClass(r.containerClass).css({display:"none"});e.$container=i,i.on("click"+u,n,t.proxy(e.onSuggestionClick,e))},showContainer:function(){this.$container.appendTo(this.options.floating?this.$body:this.$wrapper)},getContainer:function(){return this.$container.get(0)},removeContainer:function(){var t=this;t.options.floating&&t.$container.remove()},setContainerOptions:function(){var e=this,n="mousedown"+u;e.$container.off(n),e.options.floating&&e.$container.on(n,t.proxy(e.onMousedown,e))},onSuggestionClick:function(e){var n,r=this,i=t(e.target);if(!r.dropdownDisabled){for(r.cancelFocus=!0,r.el.focus();i.length&&!(n=i.attr("data-index"));)i=i.closest("."+r.classes.suggestion);n&&!isNaN(n)&&r.select(+n)}},getSuggestionsItems:function(){return this.$container.children("."+this.classes.suggestion)},toggleDropdownEnabling:function(t){this.dropdownDisabled=!t,this.$container.attr("disabled",!t)},disableDropdown:function(){this.toggleDropdownEnabling(!1)},enableDropdown:function(){this.toggleDropdownEnabling(!0)},hasSuggestionsToChoose:function(){var e=this;return e.suggestions.length>1||1===e.suggestions.length&&(!e.selection||t.trim(e.suggestions[0].value)!==t.trim(e.selection.value))},suggest:function(){var e=this,n=e.options,r=[];if(e.requestMode.userSelect){if(e.hasSuggestionsToChoose())n.hint&&e.suggestions.length&&r.push('<div class="'+e.classes.hint+'">'+n.hint+"</div>"),e.selectedIndex=-1,e.suggestions.forEach((function(t,n){t==e.selection&&(e.selectedIndex=n),e.buildSuggestionHtml(t,n,r)}));else{if(e.suggestions.length)return void e.hide();var i=e.getNoSuggestionsHint();if(!i)return void e.hide();r.push('<div class="'+e.classes.hint+'">'+i+"</div>")}r.push('<div class="'+a.promo+'"></div>'),r.push("</div>"),e.$container.html(r.join("")),n.autoSelectFirst&&-1===e.selectedIndex&&(e.selectedIndex=0),-1!==e.selectedIndex&&e.getSuggestionsItems().eq(e.selectedIndex).addClass(e.classes.selected),t.isFunction(n.beforeRender)&&n.beforeRender.call(e.element,e.$container),e.$container.show(),e.visible=!0}},buildSuggestionHtml:function(t,e,n){n.push('<div class="'+this.classes.suggestion+'" data-index="'+e+'">');var r=this.options.formatResult||this.type.formatResult||this.formatResult;n.push(r.call(this,t.value,this.currentValue,t,{unformattableTokens:this.type.unformattableTokens}));var i=this.makeSuggestionLabel(this.suggestions,t);i&&n.push('<span class="'+this.classes.subtext_label+'">'+m.escapeHtml(i)+"</span>"),n.push("</div>")},wrapFormattedValue:function(t,e){var n=this,r=m.getDeepValue(e.data,"state.status");return'<span class="'+n.classes.value+'"'+(r?' data-suggestion-status="'+r+'"':"")+">"+t+"</span>"},formatResult:function(t,e,n,r){var i=this;return t=i.highlightMatches(t,e,n,r),i.wrapFormattedValue(t,n)},highlightMatches:function(e,n,r,i){var o,s,a,u,l,c,d=this,p=[],g=i&&i.unformattableTokens,v=i&&i.maxLength,y=m.reWordExtractor();if(!e)return"";for(o=h.tokenize(n,g),s=t.map(o,(function(t){return new RegExp("^((.*)(["+f+"]+))?("+m.escapeRegExChars(t)+")([^"+f+"]*["+f+"]*)","i")}));(a=y.exec(e))&&a[0];)u=a[1],p.push({text:u,hasUpperCase:u.toLowerCase()!==u,formatted:m.formatToken(u),matchable:!0}),a[2]&&p.push({text:a[2]});for(l=0;l<p.length;l++)!(c=p[l]).matchable||c.matched||-1!==t.inArray(c.formatted,g)&&!c.hasUpperCase||t.each(s,(function(t,e){var n,r=e.exec(c.formatted),i=l+1;if(r)return(r={before:r[1]||"",beforeText:r[2]||"",beforeDelimiter:r[3]||"",text:r[4]||"",after:r[5]||""}).before&&(p.splice(l,0,{text:c.text.substr(0,r.beforeText.length),formatted:r.beforeText,matchable:!0},{text:r.beforeDelimiter}),i+=2,n=r.before.length,c.text=c.text.substr(n),c.formatted=c.formatted.substr(n),l--),n=r.text.length+r.after.length,c.formatted.length>n&&(p.splice(i,0,{text:c.text.substr(n),formatted:c.formatted.substr(n),matchable:!0}),c.text=c.text.substr(0,n),c.formatted=c.formatted.substr(0,n)),r.after&&(n=r.text.length,p.splice(i,0,{text:c.text.substr(n),formatted:c.formatted.substr(n)}),c.text=c.text.substr(0,n),c.formatted=c.formatted.substr(0,n)),c.matched=!0,!1}));if(v){for(l=0;l<p.length&&v>=0;l++)(v-=(c=p[l]).text.length)<0&&(c.text=c.text.substr(0,c.text.length+v)+"...");p.length=l}return et(tt(p),d.classes.nowrap)},makeSuggestionLabel:function(e,n){var r,i,o=this.type.fieldNames,s={},a=m.reWordExtractor(),u=[];if(o&&nt(e,n)&&n.data&&(t.each(o,(function(t){var e=n.data[t];e&&(s[t]=m.formatToken(e))})),!t.isEmptyObject(s))){for(;(r=a.exec(m.formatToken(n.value)))&&(i=r[1]);)t.each(s,(function(t,e){if(e==i)return u.push(o[t]),delete s[t],!1}));if(u.length)return u.join(", ")}},hide:function(){var t=this;t.visible=!1,t.selectedIndex=-1,t.$container.hide().empty()},activate:function(t){var e,n,r=this,i=r.classes.selected;return!r.dropdownDisabled&&((n=r.getSuggestionsItems()).removeClass(i),r.selectedIndex=t,-1!==r.selectedIndex&&n.length>r.selectedIndex)?((e=n.eq(r.selectedIndex)).addClass(i),e):null},deactivate:function(t){var e=this;e.dropdownDisabled||(e.selectedIndex=-1,e.getSuggestionsItems().removeClass(e.classes.selected),t&&e.el.val(e.currentValue))},moveUp:function(){var t=this;t.dropdownDisabled||(-1!==t.selectedIndex?0!==t.selectedIndex?t.adjustScroll(t.selectedIndex-1):t.deactivate(!0):t.suggestions.length&&t.adjustScroll(t.suggestions.length-1))},moveDown:function(){var t=this;t.dropdownDisabled||(t.selectedIndex!==t.suggestions.length-1?t.adjustScroll(t.selectedIndex+1):t.deactivate(!0))},adjustScroll:function(t){var e,n,r,i=this,o=i.activate(t),s=i.$container.scrollTop();o&&o.length&&((e=o.position().top)<0?i.$container.scrollTop(s+e):(n=e+o.outerHeight())>(r=i.$container.innerHeight())&&i.$container.scrollTop(s-r+n),i.el.val(i.suggestions[t].value))}};t.extend(_,rt),t.extend(U.prototype,it),$.on("initialize",it.createContainer).on("dispose",it.removeContainer).on("setOptions",it.setContainerOptions).on("ready",it.showContainer).on("assignSuggestions",it.suggest);var ot={constraints:null,restrict_value:!1},st=["country_iso_code","region_iso_code","region_fias_id","area_fias_id","city_fias_id","city_district_fias_id","settlement_fias_id","planning_structure_fias_id","street_fias_id"];function at(t,e){var n=e.selection,i=n&&n.data&&e.bounds;return i&&r.each(e.bounds.all,(function(e,r){return i=n.data[e]===t.data[e]})),i}function ut(t){var e=t.replace(/^(\d{2})(\d*?)(0+)$/g,"$1$2"),n=e.length,r=-1;return n<=2?r=2:n>2&&n<=5?r=5:n>5&&n<=8?r=8:n>8&&n<=11?r=11:n>11&&n<=15?r=15:n>15&&(r=19),h.padEnd(e,r,"0")}var lt=function(t,e){var i,o,s=this,a={};s.instance=e,s.fields={},s.specificity=-1,n.isPlainObject(t)&&e.type.dataComponents&&r.each(e.type.dataComponents,(function(e,n){var r=e.id;e.forLocations&&t[r]&&(s.fields[r]=t[r],s.specificity=n)})),i=Object.keys(s.fields),(o=r.intersect(i,st)).length?(r.each(o,(function(t,e){a[t]=s.fields[t]})),s.fields=a,s.specificity=s.getFiasSpecificity(o)):s.fields.kladr_id&&(s.fields={kladr_id:s.fields.kladr_id},s.significantKladr=ut(s.fields.kladr_id),s.specificity=s.getKladrSpecificity(s.significantKladr))};g.extend(lt.prototype,{getLabel:function(){return this.instance.type.composeValue(this.fields,{saveCityDistrict:!0})},getFields:function(){return this.fields},isValid:function(){return!n.isEmptyObject(this.fields)},getKladrSpecificity:function(t){var e=-1,n=t.length;return r.each(this.instance.type.dataComponents,(function(t,r){t.kladrFormat&&n===t.kladrFormat.digits&&(e=r)})),e},getFiasSpecificity:function(t){var e=-1;return r.each(this.instance.type.dataComponents,(function(n,r){n.fiasType&&t.indexOf(n.fiasType)>-1&&e<r&&(e=r)})),e},containsData:function(t){var e=!0;return this.fields.kladr_id?!!t.kladr_id&&0===t.kladr_id.indexOf(this.significantKladr):(r.each(this.fields,(function(n,r){return e=!!t[r]&&t[r].toLowerCase()===n.toLowerCase()})),e)}}),U.ConstraintLocation=lt;var ct=function(t,e){this.id=y("c"),this.deletable=!!t.deletable,this.instance=e;var n=r.makeArray(t&&(t.locations||t.restrictions));this.locations=n.map((function(t){return new lt(t,e)})),this.locations=this.locations.filter((function(t){return t.isValid()})),this.label=t.label,null==this.label&&e.type.composeValue&&(this.label=this.locations.map((function(t){return t.getLabel()})).join(", "))};g.extend(ct.prototype,{isValid:function(){return this.locations.length>0},getFields:function(){return this.locations.map((function(t){return t.getFields()}))}});var ft={createConstraints:function(){this.constraints={}},setupConstraints:function(){var t,e=this,n=e.options.constraints;n?g.isJqObject(n)||"string"==typeof n||"number"==typeof n.nodeType?(t=g.select(n)).is(e.constraints)||(e.unbindFromParent(),t.is(e.el)||(e.constraints=t,e.bindToParent())):(r.each(e.constraints,(function(t,n){e.removeConstraint(n)})),r.each(r.makeArray(n),(function(t,n){e.addConstraint(t)}))):e.unbindFromParent()},filteredLocation:function(t){var e=[],i={};if(r.each(this.type.dataComponents,(function(){this.forLocations&&e.push(this.id)})),n.isPlainObject(t)&&r.each(t,(function(t,n){t&&e.indexOf(n)>=0&&(i[n]=t)})),!n.isEmptyObject(i))return i.kladr_id?{kladr_id:i.kladr_id}:i},addConstraint:function(t){var e=this;(t=new ct(t,e)).isValid()&&(e.constraints[t.id]=t)},removeConstraint:function(t){delete this.constraints[t]},constructConstraintsParams:function(){for(var t,e,n=this,i=[],s=n.constraints,a={};g.isJqObject(s)&&(t=s.suggestions())&&!(e=o.getDeepValue(t,"selection.data"));)s=t.constraints;return g.isJqObject(s)?(e=new lt(e,t).getFields())&&(n.bounds.own.indexOf("city")>-1&&delete e.city_fias_id,a.locations=[e],a.restrict_value=!0):s&&(r.each(s,(function(t,e){i=i.concat(t.getFields())})),i.length&&(a.locations=i,a.restrict_value=n.options.restrict_value)),a},getFirstConstraintLabel:function(){var t=this,e=n.isPlainObject(t.constraints)&&Object.keys(t.constraints)[0];return e?t.constraints[e].label:""},bindToParent:function(){var t=this;t.constraints.on(["suggestions-select."+t.uniqueId,"suggestions-invalidateselection."+t.uniqueId,"suggestions-clear."+t.uniqueId].join(" "),g.proxy(t.onParentSelectionChanged,t)).on("suggestions-dispose."+t.uniqueId,g.proxy(t.onParentDispose,t))},unbindFromParent:function(){var t=this,e=t.constraints;g.isJqObject(e)&&e.off("."+t.uniqueId)},onParentSelectionChanged:function(t,e,n){("suggestions-select"!==t.type||n)&&this.clear()},onParentDispose:function(t){this.unbindFromParent()},getParentInstance:function(){return g.isJqObject(this.constraints)&&this.constraints.suggestions()},shareWithParent:function(t){var e=this.getParentInstance();e&&e.type===this.type&&!at(t,e)&&(e.shareWithParent(t),e.setSuggestion(t))},getUnrestrictedData:function(t){var e=this,n=[],i={},o=-1;return r.each(e.constraints,(function(e,n){r.each(e.locations,(function(e,n){e.containsData(t)&&e.specificity>o&&(o=e.specificity)}))})),o>=0?(t.region_kladr_id&&t.region_kladr_id===t.city_kladr_id&&n.push.apply(n,e.type.dataComponentsById.city.fields),r.each(e.type.dataComponents.slice(0,o+1),(function(t,e){n.push.apply(n,t.fields)})),r.each(t,(function(t,e){-1===n.indexOf(e)&&(i[e]=t)}))):i=t,i}};g.extend(_,ot),g.extend(U.prototype,ft),"GET"!=v.getDefaultType()&&$.on("initialize",ft.createConstraints).on("setOptions",ft.setupConstraints).on("requestParams",ft.constructConstraintsParams).on("dispose",ft.unbindFromParent);var dt={proceedQuery:function(t){var e=this;t.length>=e.options.minChars?e.updateSuggestions(t):e.hide()},selectCurrentValue:function(t){var e=this,n=g.Deferred();return e.inputPhase.resolve(),e.fetchPhase.done((function(){var r;e.selection&&!e.visible?n.reject():(r=e.findSuggestionIndex(),e.select(r,t),-1===r?n.reject():n.resolve(r))})).fail((function(){n.reject()})),n},selectFoundSuggestion:function(){var t=this;t.requestMode.userSelect||t.select(0)},findSuggestionIndex:function(){var t,e=this,n=e.selectedIndex;return-1===n&&(t=e.el.val().trim())&&e.type.matchers.some((function(r){return-1!==(n=r(t,e.suggestions))})),n},select:function(t,e){var n,r=this,i=r.suggestions[t],o=e&&e.continueSelecting,s=r.currentValue;if(!r.triggering.Select){if(!i)return o||r.selection||r.triggerOnSelectNothing(),void r.onSelectComplete(o);n=r.hasSameValues(i),r.enrichSuggestion(i,e).done((function(i,o){var a=g.extend({hasBeenEnriched:o,hasSameValues:n},e);r.selectSuggestion(i,t,s,a)}))}},selectSuggestion:function(t,e,n,r){var i=this,o=r.continueSelecting,s=!i.type.isDataComplete||i.type.isDataComplete.call(i,t),a=i.selection;i.triggering.Select||(i.type.alwaysContinueSelecting&&(o=!0),s&&(o=!1),r.hasBeenEnriched&&i.suggestions[e]&&(i.suggestions[e].data=t.data),i.requestMode.updateValue&&(i.checkValueBounds(t),i.currentValue=i.getSuggestionValue(t,r),!i.currentValue||r.noSpace||s||(i.currentValue+=" "),i.el.val(i.currentValue)),i.currentValue?(i.selection=t,i.areSuggestionsSame(t,a)||i.trigger("Select",t,i.currentValue!=n),i.requestMode.userSelect&&i.onSelectComplete(o)):(i.selection=null,i.triggerOnSelectNothing()),i.shareWithParent(t))},onSelectComplete:function(t){var e=this;t?(e.selectedIndex=-1,e.updateSuggestions(e.currentValue)):e.hide()},triggerOnSelectNothing:function(){var t=this;t.triggering.SelectNothing||t.trigger("SelectNothing",t.currentValue)},trigger:function(t){var e=this,n=m.slice(arguments,1),r=e.options["on"+t];e.triggering[t]=!0,m.isFunction(r)&&r.apply(e.element,n),e.el.trigger.call(e.el,"suggestions-"+t.toLowerCase(),n),e.triggering[t]=!1}};g.extend(U.prototype,dt),$.on("assignSuggestions",dt.selectFoundSuggestion);var pt={bounds:null},ht={setupBounds:function(){this.bounds={from:null,to:null}},setBoundsOptions:function(){var e,n=this,r=[],i=t.trim(n.options.bounds).split("-"),o=i[0],s=i[i.length-1],a=[],u=[];n.type.dataComponents&&t.each(n.type.dataComponents,(function(){this.forBounds&&r.push(this.id)})),-1===r.indexOf(o)&&(o=null),-1===r.indexOf(s)&&(s=null),(o||s)&&(e=!o,t.each(r,(function(t,n){if(n==o&&(e=!0),u.push(n),e&&a.push(n),n==s)return!1}))),n.bounds.from=o,n.bounds.to=s,n.bounds.all=u,n.bounds.own=a},constructBoundsParams:function(){var t=this,e={};return t.bounds.from&&(e.from_bound={value:t.bounds.from}),t.bounds.to&&(e.to_bound={value:t.bounds.to}),e},checkValueBounds:function(t){var e,n=this;if(n.bounds.own.length&&n.type.composeValue){var r=n.bounds.own.slice(0);1===r.length&&"city_district"===r[0]&&r.push("city_district_fias_id"),e=n.copyDataComponents(t.data,r),t.value=n.type.composeValue(e)}},copyDataComponents:function(e,n){var r={},i=this.type.dataComponentsById;return i&&t.each(n,(function(n,o){t.each(i[o].fields,(function(t,n){null!=e[n]&&(r[n]=e[n])}))})),r},getBoundedKladrId:function(e,n){var r,i=n[n.length-1];return t.each(this.type.dataComponents,(function(t,e){if(e.id===i)return r=e.kladrFormat,!1})),e.substr(0,r.digits)+new Array((r.zeros||0)+1).join("0")}};t.extend(_,pt),t.extend(U.prototype,ht),$.on("initialize",ht.setupBounds).on("setOptions",ht.setBoundsOptions).on("requestParams",ht.constructBoundsParams);var gt={selectByClass:function(t,e){var n="."+t;return e?e.querySelector(n):document.querySelector(n)},addClass:function(t,e){var n=t.className.split(" ");-1===n.indexOf(e)&&n.push(e),t.className=n.join(" ")},setStyle:function(t,e,n){t.style[e]=n},listenTo:function(t,e,n,r){t.addEventListener(e,r,!1),n&&(eventsByNamespace[n]||(eventsByNamespace[n]=[]),eventsByNamespace[n].push({eventName:e,element:t,callback:r}))},stopListeningNamespace:function(t){var e=eventsByNamespace[t];e&&e.forEach((function(t){t.element.removeEventListener(t.eventName,t.callback,!1)}))}},vt="FREE",yt="https://dadata.ru/suggestions/?utm_source=dadata&utm_medium=module&utm_campaign=suggestions-jquery",mt="",_t="",bt='<svg version="1.1" viewBox="0 0 128 38" xmlns="http://www.w3.org/2000/svg"><path d="m128 19v16.077c0 1.614-1.302 2.923-2.909 2.923h-122.18c-1.607 0-2.909-1.309-2.909-2.923v-32.154c-0-1.614 1.302-2.923 2.909-2.923h122.18c1.607 0 2.909 1.309 2.909 2.923z" fill="#ef4741"/><path d="m59.52 7.912h-8.902v22.098h9.92c3.724 0 9.872-0.341 9.872-6.703v-8.682c-0.01-6.372-7.166-6.713-10.89-6.713zm5.595 14.81c0 3.186-2.308 3.508-4.936 3.508h-4.276v-14.538h3.287c2.628 0 5.954 0.322 5.954 3.508zm-46.545-14.81h-8.834v22.098h9.871c3.724 0 9.872-0.341 9.872-6.703v-8.682c0-6.372-7.137-6.713-10.88-6.713zm5.595 14.81c0 3.186-2.308 3.508-4.936 3.508h-4.247v-14.538h3.258c2.628 0 5.954 0.322 5.954 3.508zm71.757-13.953h-4.945v16.301c-0.018 0.785 0.113 1.565 0.388 2.3 0.203 0.569 0.535 1.082 0.97 1.5 0.446 0.385 0.962 0.677 1.522 0.858 0.58 0.205 1.182 0.343 1.794 0.409 0.575 0.052 1.248 0.081 2.017 0.088 0.917-1e-3 1.834-0.057 2.744-0.166v-2.796h-1.765c-0.393 0.055-0.795 0.032-1.18-0.071-0.385-0.102-0.745-0.28-1.06-0.524-0.413-0.691-0.59-1.498-0.504-2.299v-8.068h4.509v-3.06h-4.509zm20.364 5.535c-1.176-0.741-3.278-1.108-6.303-1.101h-5.741v0.243l0.708 2.826h5.033c0.837-0.051 1.672 0.117 2.424 0.487 0.259 0.248 0.458 0.553 0.579 0.891 0.121 0.339 0.162 0.701 0.119 1.058v1.12h-5.527c-1.939 0-3.271 0.38-3.995 1.14-0.725 0.76-1.099 2.127-1.125 4.102 0 2.154 0.359 3.06 1.086 3.742 0.728 0.682 2.134 1.188 4.344 1.188h6.847c1.706 0 3.345-0.808 3.345-2.747v-8.584c0-2.176-0.589-3.635-1.765-4.375zm-3.19 12.959h-3.249c-0.735 0.081-1.478-0.036-2.152-0.342-0.285-0.227-0.427-0.876-0.427-1.948s0.136-1.741 0.407-2.007c0.625-0.331 1.336-0.46 2.037-0.371h3.384zm-26.667-12.959c-1.176-0.741-3.277-1.108-6.303-1.101h-5.741v0.243l0.708 2.826h5.033c0.836-0.051 1.672 0.117 2.424 0.487 0.259 0.248 0.457 0.553 0.578 0.891 0.121 0.339 0.162 0.701 0.12 1.058v1.12h-5.556c-1.939 0-3.271 0.38-3.995 1.14s-1.086 2.127-1.086 4.102c0 2.154 0.359 3.06 1.086 3.742s2.133 1.188 4.344 1.188h6.846c1.717 0 3.346-0.808 3.346-2.747v-8.584c-7e-3 -2.176-0.595-3.635-1.765-4.375zm-3.181 12.959h-3.248c-0.735 0.081-1.478-0.037-2.153-0.342-0.284-0.227-0.426-0.876-0.426-1.948s0.135-1.741 0.407-2.007c0.624-0.331 1.336-0.46 2.036-0.371h3.384zm-37.74-12.959c-1.176-0.741-3.278-1.108-6.303-1.101h-5.712v0.243l0.708 2.826h5.033c0.837-0.051 1.672 0.117 2.424 0.487 0.259 0.248 0.457 0.553 0.578 0.891 0.121 0.339 0.162 0.701 0.12 1.058v1.12h-5.556c-1.939 0-3.271 0.38-3.995 1.14s-1.099 2.127-1.125 4.102c0 2.154 0.359 3.06 1.086 3.742s2.133 1.188 4.344 1.188h6.846c1.717 0 3.346-0.808 3.346-2.747v-8.584c0-2.176-0.589-3.635-1.765-4.375zm-3.181 12.959h-3.219c-0.735 0.081-1.478-0.037-2.153-0.342-0.284-0.227-0.427-0.876-0.427-1.948s0.136-1.741 0.408-2.007c0.624-0.331 1.336-0.46 2.036-0.371h3.384z" fill="#fff"/></svg>';function xt(t){this.plan=t.status.plan;var e=t.getContainer();this.element=gt.selectByClass(a.promo,e)}function wt(){new xt(this).show()}xt.prototype.show=function(){this.plan===vt&&this.element&&(this.setStyles(),this.setHtml())},xt.prototype.setStyles=function(){this.element.style.display="block"},xt.prototype.setHtml=function(){this.element.innerHTML='<a target="_blank" tabindex="-1" href="'+yt+'">'+mt+bt+_t+"</a>"},$.on("assignSuggestions",wt),U.defaultOptions=_,U.version="22.6.0",t.Suggestions=U,t.fn.suggestions=function(e,n){return 0===arguments.length?this.first().data(l):this.each((function(){var r=t(this),i=r.data(l);"string"==typeof e?i&&"function"==typeof i[e]&&i[e](n):(i&&i.dispose&&i.dispose(),i=new U(this,e),r.data(l,i))}))}}(n(755))}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.nc=void 0,(()=>{"use strict";var t={};n.r(t),n.d(t,{actionButtons:()=>mt,additionalFields:()=>_t,addressBlock:()=>bt,addressField:()=>xt,alert:()=>wt,alertShow:()=>St,balloonAddress:()=>Ct,balloonArrow:()=>Et,balloonButton:()=>Tt,balloonData:()=>Dt,balloonLayout:()=>kt,buttonApply:()=>At,buttonClose:()=>Ot,buttonGeolocation:()=>Pt,buttons:()=>jt,calculateCostButton:()=>Bt,close:()=>Lt,componentAlert:()=>It,componentAlertShow:()=>Rt,componentBlock:()=>Nt,componentMap:()=>Mt,container:()=>Ft,customerField:()=>qt,floatingAlert:()=>$t,footer:()=>zt,header:()=>Vt,info:()=>Ut,map:()=>Ht,modal:()=>Wt,panel:()=>Gt,routeBlock:()=>Xt,routeText:()=>Yt,routeUnit:()=>Qt,routeValue:()=>Zt,showDeliveryButton:()=>Jt,total:()=>Kt,totalBlock:()=>te,totalCurrency:()=>ee,totalPrice:()=>ne,totalText:()=>re,yandexButtonApply:()=>ie});var e=n(486);const r="result",i="yandex",o="error",s="warn",a="custom",u="modal",l="checkout",c="suggestions";var f,d;!function(t){t.DELIVERY="deliveryOrder",t.PERSON_TYPE="personType",t.PROFILE="profile",t.BX_LOCATION="LOCATION",t.LOCATION_CODE="locationCode"}(f||(f={})),function(t){t.DELIVERY="deliveryOrder",t.PERSON_TYPE="personType",t.PROFILE="profile"}(d||(d={}));var p;function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function v(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===h(e)?e:String(e)}var _=v((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"start",(function(t){if(t){var n=document.querySelector(t)||document.querySelector("body"),r=e.loader||e.create();n.appendChild(r)}})),y(this,"end",(function(){e.loader&&e.loader.remove()})),y(this,"create",(function(){for(var t,n,r=[],i=12;i>0;i-=1)r.push("<div></div>");return e.loader=BX.Tag.render(p||(t=['\n        <div class="','">\n            <div class="','">',"</div>\n        </div>\n    "],n||(n=t.slice(0)),p=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),"overlayLoader","loader",r.join("")),e.loader})),this.loader=null}));const b=_,x="dadata";var w=n(755),S=n.n(w),C=(n(645),n(379)),E=n.n(C),T=n(795),D=n.n(T),k=n(569),A=n.n(k),O=n(565),P=n.n(O),j=n(216),B=n.n(j),L=n(589),I=n.n(L),R=n(181),N={};N.styleTagTransform=I(),N.setAttributes=P(),N.insert=A().bind(null,"head"),N.domAPI=D(),N.insertStyleElement=B();E()(R.Z,N);R.Z&&R.Z.locals&&R.Z.locals;let M={};const F={set:(t,n)=>(0,e.set)(M,t,n),get:(t,n=null)=>(0,e.get)(M,t,n),create:t=>{var e;window[t]=null!==(e=window[t])&&void 0!==e?e:{},M=window[t]},api:(t,e)=>{const n=["api",t];F.hook(n,e)},hook(t,e){const n=this.get(t);return"function"==typeof n&&n(e)}},q=F;class ${static isExist(){return Boolean(BX.Sale&&(0,e.isObject)(BX.Sale.OrderAjaxComponent))}static component(){return!!$.isExist()&&BX.Sale.OrderAjaxComponent}static get(t,n=!1){return(0,e.get)($.component(),t,n)}static run(t="sendRequest",...n){const r=$.component();return(0,e.isFunction)(r[t])?r[t](...n):null}static has(t){return(0,e.has)($.component(),t)}}$.wrapperRefreshSaleOrderAjax=t=>{if(!$.isExist()||!(0,e.isFunction)(t))return;const n=$.component(),r=n.refreshOrder.bind(n);n.refreshOrder=e=>!!r(e)&&(t(),!0)};const z=$,V=(t,e)=>{const n=z.get("deliveryBlockNode");if(z.has(["result","ERROR"])){z.component().result.ERROR[e]=t,z.run("showBlockErrors",n)}},U=t=>{switch(t){case"DELIVERY":{const t=z.get("deliveryBlockNode");z.run("animateScrollTo",t);break}}},{PI:H}=Math;class W{static showError(t,e){if(!t||!e)return;const n=W.getParentBlock(t);if(!n)return;const r=n.classList.contains("has-error");if(r&&!e)W.removeError(t);else if(!r&&e){const r=n.querySelector("label");W.addErrorText(t,e),n.classList.add("has-error"),r&&(r.style.color=W.getErrorColor())}}static addErrorText(t,e){t.nextElementSibling&&W.removeErrorElement(t);const n=document.createElement("p");t.after(n),n.innerHTML=e,n.classList.add("ck-error"),n.style.cssText=`\n        font-size: 12px;\n        line-height: 16px;\n        color: ${W.getErrorColor()};\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin: 0;\n        padding-right: 20px;`}static removeError(t){if(!t)return;const e=W.getParentBlock(t);if(Boolean(e)&&e.classList.contains("has-error")){e.classList.remove("has-error");const t=e.querySelector("label");t&&(t.style.color="unset")}W.removeErrorElement(t)}static removeErrorElement(t){t.parentElement.querySelectorAll(".ck-error").forEach((t=>t.remove()))}static getErrorColor(){return"#fe5252"}}W.getParentBlock=t=>t.closest(".bx-custom-customer-field")||t.closest(".bx-soa-customer-field");const G=W,X=(t,e)=>{e};var Y=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};const Q=t=>`[name=ORDER_PROP_${t}]`,Z=(t,e=!1)=>e?S()(t):S()(Q(t)),J=t=>e=>Y(void 0,void 0,void 0,(function*(){return BX.ajax.promise({url:t,data:e,method:"POST",dataType:"json"})})),K=(t,e=38)=>{const{value:n}=t,{width:r,height:i}=t.getBoundingClientRect(),o=Math.min(e,i),s=((t,e,n={size:"12px"})=>{const r=document.createElement("canvas").getContext("2d"),i=Object.assign({style:"normal",variant:"normal",weight:"normal",size:"medium",family:"sans-serif"},n);return r.font=Object.values(i).join(" "),r.textAlign="start",r.textBaseline="alphabetic",r.measureText(t).width})(n),a=r-30,u=Math.ceil(s/a);t.style.height=1===u||0===u?`${o}px`:18+20*u+"px"},tt=t=>{try{if((0,e.isString)(t)&&!(0,e.isEmpty)(t.trim()))return JSON.parse(t)}catch(t){}return null},et=t=>e=>{const n=document.querySelector(`#corsik_yaDelivery__data__${t}`);if(!n)return;const r=tt(n.value);return"object"==typeof r?r[e]:r},nt=t=>!(0,e.isNaN)(parseFloat(t))&&(0,e.isFinite)(parseFloat(t)),rt=t=>nt((0,e.toString)(t))?Number(t):0,it=t=>Object.prototype.isPrototypeOf.call(NodeList.prototype,t),ot=t=>(0,e.isObjectLike)(t)&&"[object Date]"===(t=>Object.prototype.toString.call(t))(t),st="yaPrice",at=["yaStopAddress","yaRouteLength",st],ut="yadelivery",lt="linear",ct=1e3;class ft{static getList(){try{return document.cookie.split(";").map((t=>t.split("="))).map((t=>t.map((t=>t.trim())))).reduce(((t,e)=>{const[n,r]=e;return t[decodeURIComponent(n)]=decodeURIComponent(r),t}),{})}catch(t){return{}}}static get(t){return ft.getList()[t]||null}static getValue(t){var e;const n=ft.get(t);return null!==(e=tt(n))&&void 0!==e?e:n}static set(t,n,r){const i=Object.assign({expires:""},r);if((0,e.isNumber)(i.expires)){const t=+new Date,e=i.expires,n=864e5;i.expires=new Date(t+e*n)}ot(i.expires)&&(i.expires=i.expires.toUTCString());const o=decodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),s=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),a=Object.keys(i).reduce(((t,e)=>{const n=i[e];return n?!0===n?`${t}; ${e}`:`${t}; ${e}=${n.split(";")[0]}`:t}),"");document.cookie=`${o}=${s}${a}`}static setTenMinutes(t,e){ft.set(t,e,{expires:600,path:"/"})}static remove(t,e){ft.set(t,"",Object.assign(Object.assign({},e),{expires:-1}))}static removeGlobal(t){ft.remove(t,{path:"/"})}}ft.isset=()=>at.some(dt.get);const dt=ft;var pt,ht=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};const gt="userSettings";class vt{constructor(t){this.ready=t=>ht(this,void 0,void 0,(function*(){const{isReady:n=!1}=le.getState();(0,e.isFunction)(t)&&(n?yield this.executeReadyStack():this.readyStack.push(t))})),this.createApi=()=>({ready:this.ready,setSettings:t=>{this.setGlobal(gt,t)},setResult:t=>{q.set(r,t)}}),this.readyStack=[],this.api=vt.getApi(),this.userSettings=vt.getUserSettings(),this.setGlobal=le.globalMerge(this),this.setState=t,this.setGlobal("api",this.createApi())}executeReadyStack(){return ht(this,void 0,void 0,(function*(){yield Promise.allSettled(this.readyStack.map((t=>ht(this,void 0,void 0,(function*(){return yield t()})))));this.readyStack=[],this.setState({isReady:!0})}))}}pt=vt,vt.getApi=()=>q.get("api",{}),vt.getUserSettings=()=>q.get(gt,{}),vt.getUserSuggestions=t=>{const n=vt.getUserSettings(),r={[i]:"suggestions",[x]:"fields"};return(0,e.get)(n,[t,r[t]],[])},vt.getUserFieldByCode=t=>{const{typePrompts:n}=vt.getUserSettings(),r=pt.getUserSuggestions(n);return r.length?r.filter((({code:n})=>((0,e.isObject)(n)?n.type:n).toUpperCase()===t.toUpperCase())):[]};const yt=vt;var mt='".corsik_yaDelivery__actionsButtons"',_t='".corsik_yaDelivery__additionalFields"',bt='".corsik_yaDelivery__address"',xt='".corsik_yaDelivery__addressField"',wt='".corsik_yaDelivery__alert"',St='".corsik_yaDelivery__alert--show"',Ct='".corsik_yaDelivery__balloon__address"',Et='".corsik_yaDelivery__balloon__arrow"',Tt='".corsik_yaDelivery__balloon__button"',Dt='".corsik_yaDelivery__balloon__data"',kt='".corsik_yaDelivery__balloon"',At='".corsik_yaDelivery__buttons__apply"',Ot='".corsik_yaDelivery__buttons__close"',Pt='".corsik_yaDelivery__buttons__geolocation"',jt='".corsik_yaDelivery__buttons"',Bt='".corsik_yaDelivery__calculateCostButton"',Lt='".corsik_yaDelivery__close"',It='".corsik_yaDeliveryMap__alert"',Rt='".corsik_yaDeliveryMap__alert--show"',Nt='".corsik_yaDeliveryMap"',Mt='"#corsik_yaDeliveryMap__map"',Ft='"#corsik_yaDelivery__container"',qt='".bx-custom-customer-field"',$t='".corsik_yaDelivery__floatingAlert"',zt='".corsik_yaDelivery__footer"',Vt='".corsik_yaDelivery__header"',Ut='".corsik_yaDelivery__info"',Ht='"#corsik_yaDelivery__map"',Wt='"#corsik_yaDelivery__modal"',Gt='".corsik_yaDelivery__panel"',Xt='".corsik_yaDelivery__route"',Yt='".corsik_yaDelivery__route__text"',Qt='".corsik_yaDelivery__route__unit"',Zt='".corsik_yaDelivery__route__value"',Jt='".corsik_yaDelivery__showDeliveryButton"',Kt='".corsik_yaDelivery__total"',te='".corsik_yaDelivery__total"',ee='".corsik_yaDelivery__total__currency"',ne='".corsik_yaDelivery__total__price"',re='".corsik_yaDelivery__total__text"',ie='".corsik_yaDelivery__yandexButtonApply"';const oe={[f.DELIVERY]:{name:"DELIVERY_ID",result:[r,"DELIVERY"]},[f.PERSON_TYPE]:{name:"PERSON_TYPE",result:[r,"PERSON_TYPE"]},[f.PROFILE]:{name:"PROFILE_ID",result:[r,"USER_PROFILES"]}},se=n=>{const r=(0,e.get)(yt.getUserSettings(),["selectors",n],"")||t[n]||"";return(0,e.trim)(r,'"').slice(1)},ae=t=>({unit:t>ct?BX.message("kilometer"):BX.message("meter"),distance:Math.ceil(t>ct?t/ct:t)});class ue{constructor(){this.setErrors=t=>this.setGlobal("errors",t),this.setState=(t={})=>this.setGlobal("state",t),this.setSettings=(t={})=>this.setGlobal("settings",t),this.setOptions=(t={})=>{this.setGlobal("options",t)},this.setDelivery=t=>{if((0,e.isEmpty)(t))return;const{deliveries:n={}}=ue.getState(),{id:r}=t,i=(0,e.merge)(n,{[r]:t});this.setState({deliveries:i})},this.getDelivery=t=>{const{deliveries:e,currentDeliveryID:n}=ue.getState(),r=t||n;return r&&(null==e?void 0:e[r])?e[r]:{}},this.runBxOrder=(t="sendRequest",...e)=>{const{isCustomCalculate:n}=ue.getSettings();if(!n)return z.run(t,...e)},this.getSuggestionProperties=t=>{const{[f.PERSON_TYPE]:n}=ue.getState(),{prompts:{type:r}}=ue.getSettings(),i=Array.isArray(t)?t:[t],o=[c,r,"properties",n];return(0,e.get)(ue.getOptions(),[...o,...i],null)},this.getLocationID=()=>{var t;const e=this.getSuggestionProperties("location");return(null==e?void 0:e.id)||(null===(t=ue.getPropsLocation())||void 0===t?void 0:t.id)},this.getCheckedOptionByName=t=>{const{name:n,result:r}=oe[t],i=1===(o=S()(`[name=${n}]`)).length?o.val():o.length>1?o.filter(":checked").val():null;var o;if(t===d.DELIVERY){const t=ue.getBxOrder(r);return Array.isArray(t)?(0,e.find)(t,(t=>t.ID==i)):{ID:i}}if(i)return i;X(0,s);const a=(0,e.find)(ue.getBxOrder(r),["CHECKED","Y"]);return(null==a?void 0:a.ID)||null},q.get("state")||ue.setDefault(),this.options=q.get("options"),this.modalOptions=ue.getModalOptions(),this.settings=q.get("settings"),this.state=q.get("state"),this.errors=q.get("errors"),this.setGlobal=ue.globalMerge(this)}static isShowModal(){const{isShowModal:t}=ue.getState();return Boolean(t)}static isSelectOnMap(){const{isSelectOnMap:t}=ue.getState();return t}}ue.fetch=t=>((t,e)=>J(t)(e))(q.get("path_core"),t),ue.setDefault=()=>{["options","settings","state","map","errors","api","userSettings"].map((t=>q.set(t,{})))},ue.getState=()=>q.get("state",{}),ue.getSettings=()=>q.get("settings",{}),ue.getOptions=()=>q.get("options",{}),ue.getModalOptions=()=>{const t=q.get(["options","delivery","modal"],{}),{display_mode_modal:e}=t;return Object.assign({fullMode:"full_mode"===e},t)},ue.getLoaderBlock=()=>{const{isCustomCalculate:t,displayMap:e}=yt.getUserSettings();return t&&"PAGE"===e?`.${se("componentBlock")}`:ue.getModalOptions().fullMode?`.${se("footer")}`:""},ue.getErrors=()=>q.get("errors",{}),ue.getBoundingClientRectBySelector=(t,e)=>{const n=document.querySelector(t).getBoundingClientRect();return e?n[e]:n},ue.globalMerge=t=>(n,r)=>{(0,e.isObject)(r)||Error("data is not Object"),(0,e.assign)((0,e.get)(t,n),r)},ue.getPropsBy=(t=[],n)=>{if(!t.length)return null;const{[f.PERSON_TYPE]:r}=ue.getState(),i=n||r,o=(0,e.get)(ue.getOptions(),["order","properties",i],[]);return(0,e.find)(o,t)},ue.getPropsAddress=()=>ue.getPropsBy(["is_address",!0]),ue.getPropsLocation=()=>ue.getPropsBy(["is_location",!0]),ue.isYandexPrompts=()=>{var t,e;return Boolean(null===(e=null===(t=ue.getSettings())||void 0===t?void 0:t.prompts)||void 0===e?void 0:e.isYandex)},ue.isDadataPrompts=()=>{var t,e;return Boolean(null===(e=null===(t=ue.getSettings())||void 0===t?void 0:t.prompts)||void 0===e?void 0:e.isDadata)},ue.getSuggestionType=()=>{var t,e;return null===(e=null===(t=ue.getSettings())||void 0===t?void 0:t.prompts)||void 0===e?void 0:e.type},ue.isSuggestions=()=>ue.isDadataPrompts()||ue.isYandexPrompts(),ue.getBxOrder=t=>{const{isCustomCalculate:e}=ue.getSettings();if(e){const e=q.get(t);if(e)return e}return z.has(t)?z.get(t):null};const le=ue;const ce=class{constructor(t){this.init=({getDefaultParams:t})=>{this.getDefaultParams=t},this.getCustomSuggestions=()=>yt.getUserSuggestions(le.getSuggestionType());const{getSuggestionProperties:e}=t;this.getSuggestionProperties=e}get suggestionOptions(){var t;return null===(t=le.getOptions())||void 0===t?void 0:t[c]}allowSuggestionsAfterSelection(){return le.isDadataPrompts()}};const fe=class extends ce{constructor(){super(...arguments),this.createSuggestions=(t,e)=>{const{selector:n}=t;document.querySelectorAll(n).forEach((n=>{S()(n).suggestions(this.generateDadataOptions(n,t,e))}))},this.getRestrictions=()=>{var t;const{suggestions:{restriction:e},delivery:{deliveries_configs:n}}=le.getOptions(),{currentDeliveryID:r}=le.getState(),i=tt(e)||[],o=tt(null===(t=null==n?void 0:n[r])||void 0===t?void 0:t.suggestionsRestriction)||[];return(o.length>0?o:i).map((({id:t})=>({kladr_id:t})))},this.generateDadataOptions=(t,e,n)=>{const{onSelectNothing:r,onSelect:i}=n,{code:o,selector:s,orderPropsID:a}=e,{count_row:u}=this.suggestionOptions,{geoLocation:l,api_key:c,partner:f}=this.dadataOptions,{currentDeliveryID:d}=le.getState(),p={token:c,partner:f,count:Number(u),scrollOnFocus:!1,onSelectNothing:()=>r(a,t),onSelect:({data:e,value:n})=>{document.querySelectorAll(s).forEach((t=>{t.value=n})),i({code:o,value:n,input:t,data:e})}},h=this.prepareParams(l,o),g=Object.assign(Object.assign({},p),h),v=q.api("setSuggestionsOptions",Object.assign(Object.assign({},e),{deliveryID:d}));return Object.assign(Object.assign({},g),"object"==typeof v?v:{})},this.prepareParams=(t,n)=>{const r={type:"object"==typeof n?n.type:n};if("object"==typeof n)return"NAME"===n.type?r.params={parts:[n.params]}:"EMAIL"===n.type&&(r[n.params]=!1),r;if("ADDRESS"===n){const{division:n}=this.dadataOptions,i=this.getRestrictions();return r.geoLocation=t||[],n&&(0,e.set)(r,["params","division"],n),i.length>0&&(r.constraints={locations:i},r.restrict_value=!0,r.geoLocation=!1),r}return r}}get dadataOptions(){var t;return null===(t=this.suggestionOptions)||void 0===t?void 0:t[x]}getSuggestion(t){const{api_key:e}=this.dadataOptions;return new Promise(((n,r)=>{S().ajax("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",{type:"POST",contentType:"application/json",headers:{Authorization:`Token ${e}`},data:JSON.stringify({query:t})}).done(n).fail(r)}))}isEnabled(){return le.isDadataPrompts()}};const de=class extends ce{getSuggestion(t){return Promise.resolve(null)}isEnabled(){return le.isYandexPrompts()}createSuggestions(t,n){const{code:r,selector:i,options:o={}}=t,s=document.querySelector(i);if(!s)return;const{onSelect:a}=n,{count_row:u}=this.suggestionOptions;new ymaps.SuggestView(document.querySelector(i),(0,e.merge)({results:Number(u)},o)).events.add("select",(t=>{const{displayName:e}=t.get("item");a({code:r,value:e,input:s})}))}},pe={[x]:fe,[i]:de};class he{constructor({suggestionData:t,calculateDelivery:n}){this.getSuggestionValueAfterSelection=t=>(0,e.get)(this.suggestionData,t.split(".")),this.setSuggestionValueByType=([t,e])=>{var n;const r=this.getSuggestionValueAfterSelection(e),i=e.includes("date")?(o=r,new Intl.DateTimeFormat("ru-RU").format(new Date(o))):r;var o;if((null===(n=le.getPropsLocation())||void 0===n?void 0:n.id)===t)return;const s=Q(t);he.setOrderFieldValue({code:e,orderPropsID:t,selector:s},i)},this.calculateDelivery=n,this.suggestionData=t||null}}he.setOrderFieldValue=(t,e,n)=>{const{orderPropsID:r,selector:i}=t,o=i||Q(r);document.querySelectorAll(o).forEach((t=>{n&&n===t||(t.value=e)}))};const ge=he;var ve=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};class ye extends ge{constructor(t){super(t),this.getSelectors=()=>this.fields.map((({selector:t})=>t)),this.actionToAllSelectors=t=>{this.getSelectors().forEach((e=>{document.querySelectorAll(e).forEach((e=>{t(e)}))}))},this.setCurrentSelectedInput=t=>{this.currentSelectedInput=t},this.setAddress=t=>{const{isNewAddress:e}=this.calculateDelivery.state;e&&this.calculateDelivery.setState({address:t})},this.setAddressToDOM=t=>{this.fields.forEach((e=>{ge.setOrderFieldValue(e,t,this.currentSelectedInput)}))},this.changeBitrixLocation=(t,e)=>ve(this,void 0,void 0,(function*(){const{isCustomCalculate:n}=this.calculateDelivery.settings;if(!t||n)return null;const r=this.calculateDelivery.getLocationID(),i=Z(r);if(!i.length)return null;try{const{CODE:n,SUCCESS:r,ERROR:s}=yield le.fetch(this.getRequestForLocationChange(t));return r||n?(r&&(i.val(n),e&&this.calculateDelivery.runBxOrder()),!0):(X(0,o),!1)}catch(t){return X(0,o),!1}})),this.isLocationAuto=()=>this.calculateDelivery.getSuggestionProperties(["location","bx_location_auto"]),this.getRequestForLocationChange=t=>{const{isDeliveryEnabled:n}=this.calculateDelivery.settings,{[f.PERSON_TYPE]:r,currentDeliveryID:i}=this.calculateDelivery.state,o=t;(0,e.isEmpty)(t);const{city:s,area_type_full:a,area:u,region:l}=o,c={action:f.BX_LOCATION.toLowerCase(),CITY:s,SUBREGION:"\u0440\u0430\u0439\u043e\u043d"===a?u:"",REGION:l,PERSON_TYPE:r};return n&&(c.DELIVERY=[i]),c};const{addressFields:n}=t;this.fields=n,this.currentSelectedInput=null}}ye.prepareHeightsAddressModal=()=>{const t=Array.from(ye.getModalAddressField());t.length&&t.filter((t=>"TEXTAREA"===t.nodeName)).forEach((t=>{K(t,38)}))},ye.getModalAddressField=()=>document.querySelectorAll(`.${se("addressField")}`),ye.setAddressToModalField=t=>{const e=ye.getModalAddressField();e.length&&e.forEach((e=>{"TEXTAREA"===e.nodeName&&"value"in e&&(e.value=t),"P"===e.nodeName&&(e.innerText=t)}))};const me=ye;const _e=class{constructor(t){this.init=t=>{if(this.suggestionsTypes=this.getSuggestionsTypes(),!this.suggestionsTypes.length)return;const e={onSelect:this.onSelectSuggestion(t),onSelectNothing:this.onSelectNothing};this.suggestionsTypes.forEach((t=>{this.suggestion.createSuggestions(t,e)}))},this.setSuggestionsAfterSelect=(t,n)=>{const r=this.suggestion.getSuggestionProperties(["order_props_after"]);if(!this.suggestion.allowSuggestionsAfterSelection()||!r)return;this.baseField=new ge({suggestionData:n});const i=r[((0,e.isObject)(t)?t.type:t).toLowerCase()];r&&i&&Object.entries(i).forEach(this.baseField.setSuggestionValueByType)},this.getSuggestionByAddress=t=>this.suggestion.getSuggestion(t),this.getAddressID=()=>{var t;const e=this.suggestion.getSuggestionProperties("location");return Number(null===(t=null==e?void 0:e.props)||void 0===t?void 0:t.id)},this.onSelectNothing=(t,e)=>{const n=this.suggestion.getSuggestionProperties(["suggestions_only"]);Array.isArray(n)&&n.includes(t)&&(e.value="",this.handleOnSelectNothing({show:!0,code:"noAddress"}))},this.getSuggestionsTypes=()=>{const t=this.suggestion.getSuggestionProperties(["order_props"]),e=Object.entries(t).map((([t,e])=>({code:e,orderPropsID:t,selector:Q(t)})));return[...this.suggestion.getCustomSuggestions(),...e]},this.onSelectSuggestion=t=>n=>{const{code:r,data:i}=n;"ADDRESS"===r&&t(n),(0,e.isEmpty)(i)||this.setSuggestionsAfterSelect(r,i)},this.baseField=null,this.suggestion=t,this.handleOnSelectNothing=null;const{currentDeliveryID:n}=le.getState();this.getDefaultParams=et(n),this.suggestion.init({getDefaultParams:this.getDefaultParams})}setOnSelectNothing(t){this.handleOnSelectNothing=t}},be=(t,e)=>{const n=it(t)?t:[t];e.forEach((t=>{Array.from(n).forEach((e=>{if(e){const[n,r,i]=t;e.style.setProperty(n,r,i?"important":"")}}))}))},xe={routeBlock:se("routeBlock"),unit:se("routeUnit"),value:se("routeValue"),totalBlock:se("totalBlock"),totalPrice:se("totalPrice"),balloonData:se("balloonData"),totalCurrency:se("totalCurrency")};const we=class{constructor(){this.setTotalPrice=(t=0,e=0)=>{const{unit:n,value:r,routeBlock:i,totalPrice:o,totalBlock:s,balloonData:a,totalCurrency:u}=this.getTotalElements(),l=e>0,c=t>=0;if(l&&n&&r){const{unit:t,distance:i}=ae(e);this.setInnerText(n,t),this.setInnerText(r,String(i))}if(be(i,[["display",l?"flex":"none"]]),c){const e=0===t,n=0===t?BX.message("freePrice"):t;be(u,[["display",e?"none":"inline"]]),this.setInnerText(o,String(n))}be(a,[["display",c||l?"grid":"none"]]),be(s,[["display",c?"flex":"none"]])},this.resetTotal=()=>{const{unit:t,value:e,totalPrice:n,routeBlock:r}=this.getTotalElements();be(r,[["display","none"]]),this.setInnerText(t,""),this.setInnerText(e,""),this.setInnerText(n,"0")},this.setInnerText=(t,e)=>{it(t)&&Array.from(t).forEach((t=>{t&&(t.innerText=e)}))},this.getTotalElements=()=>{const t={};return Object.keys(xe).forEach((e=>{const n=document.querySelectorAll(`.${xe[e]}`);n.length&&(t[e]=n)})),t}}};var Se=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};class Ce{constructor(t,n){this.addNewMap=()=>Se(this,void 0,void 0,(function*(){const{isModalMap:t}=le.getSettings();t&&this.mapEntity.constructor.addMapContainer(),yield this.mapEntity.create()})),this.addPolygons=t=>Se(this,void 0,void 0,(function*(){const{addGeoToMap:e,resetState:n}=this.mapEntity,{z:r,w:i}=t;r&&i&&(n(),yield e(r.coordinates,"polygons"),yield e(i.coordinates,"placemarks"))})),this.calculateRoute=t=>Se(this,void 0,void 0,(function*(){var n;if(!t)return X(BX.message("notSearchAddress"),o),null;this.loader.start(le.getLoaderBlock());const r=yield this.mapEntity.getAddressInfo(t),i=yield this.mapEntity.getRouteParams(r);this.setState(Object.assign(Object.assign({},r),{greatCircleDistance:0}));const{addressCoords:s,typeDelivery:a,address:u}=i;if(!i)return this.loader.end(),Ce.createNotificationObject({code:"routeParamsErrors"});const l=this.canCreateOutRoute(a);l&&(yield this.mapEntity.createOutZoneRoute(i));const c=this.preparationParams(i),{price:f,rules:d,params:p}=yield le.fetch(c);return yield this.mapEntity.createStopPoint(s,l,{address:u,deliveryPrice:f,distance:null===(n=null==c?void 0:c.delivery)||void 0===n?void 0:n.distance}),-1===f?(this.loader.end(),Ce.createNotificationObject({code:"deliveryAddressError",addressInfo:r,messages:p.errors})):Object.assign(Object.assign({},(0,e.merge)(c,{delivery:{price:f}})),{additional:{rules:d}})})),this.preparationParams=t=>{const{typeDelivery:e,address:n,addressCoords:r}=t,{currentDeliveryID:i,greatCircleDistance:o}=le.getState(),s=this.mapEntity.getDeliveryParams(t,this.canCreateOutRoute(e));return{action:"calculate",delivery:Object.assign(Object.assign({type:e,deliveryID:i,coords:r,address:n},s),{greatCircleDistance:o}),order:this.getOrderTotal(),customParams:this.mapSettings}},this.setSearchControl=t=>{le.isYandexPrompts()&&this.mapEntity.setSearchControl(t)},this.geoLocationUser=()=>{this.mapEntity.geoLocationUser()},this.showToViewport=()=>{this.mapEntity.showToViewport(),this.mapEntity.balloonOpen()},this.getOrderTotal=()=>{const t=le.getBxOrder([r,"TOTAL"]);if(!(0,e.isObject)(t))return{price:0,weight:0};const{delivery:{delivery_calculation_total:n}}=le.getOptions(),i=(0,e.toNumber)((null==t?void 0:t.PRICE_WITHOUT_DISCOUNT_VALUE)||0),o=(0,e.toNumber)((null==t?void 0:t.ORDER_TOTAL_PRICE)||0),s=(0,e.toNumber)((null==t?void 0:t.DISCOUNT_PRICE)||0),a=(0,e.toNumber)((null==t?void 0:t.DELIVERY_PRICE)||0),u=i-(0,e.toNumber)((null==t?void 0:t.ORDER_TOTAL_LEFT_TO_PAY)||o)-s+a;return{price:i-{total_base:0,total_discount:s,total_internal:u,total_discount_internal:u+s}[n],weight:t.ORDER_WEIGHT||0}};const{loader:i,onSelectedMap:s,setSuggestions:a,onApplyModal:u,onCloseModal:l,setState:c}=n,f={onSelectedMap:s,setSuggestions:a,onApplyModal:u,onCloseModal:l,setState:c};this.mapEntity=new t(f);const{currentDeliveryID:d}=le.getState(),{mapSettings:p}=yt.getUserSettings();this.getDefaultParams=et(d),this.loader=i,this.map=this.mapEntity.map,this.mapSettings=p||{},this.setState=c}create(t){return Se(this,void 0,void 0,(function*(){this.loader.start(le.getLoaderBlock()),yield this.addNewMap(),yield this.addPolygons(t),this.mapEntity.addSelectEventOnMap(),this.loader.end()}))}reloadPolygons(t){return Se(this,void 0,void 0,(function*(){yield this.addPolygons(t),this.mapEntity.addSelectEventOnMap()}))}canCreateOutRoute(t){var e,n;const{currentDeliveryID:r}=le.getState(),{delivery:i}=le.getOptions(),o=null==i?void 0:i.disabled_out,s=null===(n=null===(e=null==i?void 0:i.deliveries_configs)||void 0===e?void 0:e[r])||void 0===n?void 0:n.disabledDeliveryOut;return!o&&!s&&"out"===t}}Ce.createNotificationObject=({code:t,addressInfo:e,messages:n=null})=>({delivery:Object.assign(Object.assign({},e),{price:-1}),additional:{notification:{code:t,messages:n}}});const Ee=Ce,Te=({show:t,full:e,price:n=0})=>{var r,i;if(!t)return"";const o=0===n,s=(null===(i=null===(r=le.getOptions())||void 0===r?void 0:r.delivery)||void 0===i?void 0:i.currency_format_string)||`${BX.message("currency")}`;return`<div class="${se("totalBlock")}">\n                <span class="${se("totalText")}">\n                    ${BX.message("deliveryCostAddress"+(e?"Full":""))}\n                </span>\n                <span class="${se("totalPrice")}">\n                    ${o?BX.message("freePrice"):n}\n                </span>\n                <span \n                    class="${se("totalCurrency")}" \n                    ${o&&'style="display: none"'}\n                >\n                    ${s}\n                </span>\n            </div>`},De=({show:t,full:e,distance:n,unit:r})=>t&&(e||n)?`<div class="${se("routeBlock")}">\n        <span class="${se("routeText")}">\n            ${BX.message("routeLength"+(e?"Full":""))}\n        </span>\n        <span class="${se("routeValue")}">${n}</span>\n        <span class="${se("routeUnit")}">\n            ${r||BX.message("kilometer")}\n        </span>\n    </div>`:"";class ke{constructor(t){this.create=t=>{const{address:e,locationProps:n,onApplyAddress:r,onCloseModal:i,showToViewport:o,geoLocationUser:s}=t,a={autoHide:!0,offsetLeft:0,offsetTop:0,overlay:!0,draggable:{restrict:!0},closeByEsc:!0,content:this.renderModal({address:e,locationProps:n,geoLocationUser:s}),events:null};a.events={onPopupFirstShow:()=>{S()(`.${se("buttonClose")}`).on("click",ke.close),S()(`.${se("buttonApply")}`).on("click",(()=>{r()}))},onAfterPopupShow:()=>{o();const t=document.querySelector(`.${se("addressField")}`);t&&!t.value&&t.focus()},onPopupAfterClose:i},this.popup=BX.PopupWindowManager.create(`${se("modal")}`,null,a)},this.renderFullMode=t=>{const{show_full_modal_header:e,show_full_modal_footer:n,show_calculate_price:r,show_route_calculate:i}=this.options,{isDadata:o}=this.prompts,s=o&&e?(({address:t="",locationProps:e,geoLocationUser:n})=>{var r;const i=null===(r=null==e?void 0:e.props)||void 0===r?void 0:r.id,o=i?`custom-property-${i}`:"",s=i?`ORDER_PROP_${i}`:"";return BX.Tag.render`<div class="${se("header")}">
              <div class="${se("panel")}">
                  <div class="${se("addressBlock")}">
                      <button 
                          type="button" 
                          class="${se("buttonGeolocation")}" 
                          onclick="${n}"></button>
                      <div class="bx-custom-customer-field">
                          <textarea 
                            id="${o}__modal"
                            name="${s}"
                            class="${se("addressField")}"
                            placeholder="${BX.message("inputAddressPlaceholder")}"
                            >${t}</textarea>
                      </div>
                  </div>
                  <div class="${se("buttons")}">
                      <button 
                          type="button" 
                          class="${se("buttonApply")}">
                          ${BX.message("confirm")}
                      </button>
                      <button 
                          type="button" 
                          class="${se("buttonClose")}">
                          ${BX.message("inputAddressCancel")}
                      </button>
                  </div>
              </div>
              <div class="${se("alert")}"></div>
            </div>`})(t):"",a=n?(u=r,l=i,BX.Tag.render`
            <div class="${se("footer")}">
                <div class="${se("info")}">
                    ${Te({show:u,full:!0})}
                    ${De({show:l,full:!0})}
                </div>
            </div>`):"";var u,l;return BX.Tag.render`${s}${a}`},this.isFullMode=()=>{const{fullMode:t,show_content_always:e}=this.options;return t||e},this.renderModal=t=>{const e=this.isFullMode()?this.renderFullMode(t):"";return BX.Tag.render`<div id="${se("container")}">
        <div id="${se("map")}"></div>
        ${e}
    </div>`};const{prompts:e}=t;this.prompts=e,this.popup=null,this.options=le.getModalOptions();const{display_mode_modal:n}=this.options;n&&ke.onAddressInput()}}ke.close=()=>{const t=BX.PopupWindowManager.getCurrentPopup();t&&t.close()},ke.onAddressInput=()=>{S()(document).on("input",`.${se("addressField")}`,(t=>{K(t.target,38)}))};const Ae=ke;const Oe=class{constructor(){this.setAddressField=t=>{this.addressField=t},this.getDisplayNotification=()=>this.displayedNotification[this.entityType],this.getMessages=()=>{const{code:t,messages:e}=le.getErrors();if(!t||t===a||e)return e;const n=BX.message(t);return{modal:n,checkout:n}},this.entityType=null,this.addressField=null,this.displayedNotification={}}setDisplayNotification(t){this.displayedNotification[this.entityType]=t}};class Pe extends G{static showError(t){}static removeError(t){}}class je{constructor(t){this.isModalField=()=>this.input.classList.contains(se("addressField"));const{input:e}=t;this.input=e,this.isModal=this.isModalField()}static getValidationClass(t){return new je({input:t}).isModal?Pe:G}static showError(t,e){je.getValidationClass(t).showError(t,e)}static removeError(t){je.getValidationClass(t).removeError(t)}}const Be=class extends Oe{constructor(){super(),this.getErrorMessage=()=>(0,e.get)(this.getMessages(),this.entityType,""),this.showNotification=()=>{this.addressFieldsAction({action:je.showError,display:!0,params:this.getErrorMessage()})},this.hideNotification=()=>{this.addressFieldsAction({action:je.removeError,display:!1})},this.addressFieldsAction=({action:t,params:e,display:n})=>{this.addressField.actionToAllSelectors((n=>{t(n,e)})),this.setDisplayNotification(n)},this.entityType=l}};class Le extends Oe{constructor(){super(),this.showNotification=()=>{this.alert&&(this.alert.innerHTML=this.getErrorMessage(),this.alert.classList.add(this.getShowAlertClassName()),be(this.total,[["display","none"]]),this.disabledButtonApply(!0),this.setDisplayNotification(!0))},this.hideNotification=()=>{var t,e;(null===(e=null===(t=this.alert)||void 0===t?void 0:t.classList)||void 0===e?void 0:e.contains(this.getShowAlertClassName()))&&(be(this.total,[["display","block"]]),this.alert.classList.remove(this.getShowAlertClassName()),this.alert.innerHTML="",this.disabledButtonApply(!1),this.setDisplayNotification(!1),this.addressField.actionToAllSelectors((t=>{je.removeError(t)})))},this.disabledButtonApply=t=>{this.buttonApply&&(this.buttonApply.disabled=t)},this.getErrorMessage=()=>(0,e.get)(this.getMessages(),this.entityType,""),this.getApplyButton=()=>{const t=le.isYandexPrompts()?se("yandexButtonApply"):se("buttonApply");return document.querySelector(`.${t}`)},this.entityType=u,this.alert=this.getAlertContainer(),this.total=Le.getTotalBlock(),this.buttonApply=this.getApplyButton()}getAlertContainer(){const t=le.isYandexPrompts()?se("floatingAlert"):this.getAlertClassName();return document.querySelector(`.${t}`)}getAlertClassName(){return se("alert")}getShowAlertClassName(){return se("alertShow")}}Le.getTotalBlock=()=>document.querySelector(`.${se("total")}`);const Ie=Le;const Re={[u]:Ie,[l]:Be,[a]:class extends Ie{getAlertClassName(){return this.isPageMap()?se("componentAlert"):super.getAlertClassName()}getShowAlertClassName(){return this.isPageMap()?se("componentAlertShow"):super.getShowAlertClassName()}isPageMap(){const{fullMode:t}=le.getModalOptions(),{displayMap:e,isCustomCalculate:n}=yt.getUserSettings();return n&&"PAGE"===e&&t}}};const Ne=class{constructor(){this.setAddressField=t=>{this.addressField=t},this.getEntityInstance=()=>{const t=this.getEntityNotification();if(!(0,e.has)(this.entityInstances,t)){const e=Re[t];this.entityInstances[t]=new e}return this.entityInstances[t]},this.make=()=>{this.entityInstance=this.getEntityInstance(),this.entityInstance.setAddressField(this.addressField),this.isShowNotification()?this.show():this.isHideNotification()&&this.hide()},this.show=()=>this.entityInstance.showNotification(),this.hide=()=>this.entityInstance.hideNotification(),this.isShowNotification=()=>le.getErrors().show,this.isHideNotification=()=>this.entityInstance.getDisplayNotification(),this.getEntityNotification=()=>{const{isCustomCalculate:t}=yt.getUserSettings();return t?a:le.isShowModal()?u:l},this.entityInstances={},this.addressField=null}};var Me,Fe=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};!function(t){t.warehousesPoint="islands#blueStretchyIcon",t.startPoint="islands#blueHomeIcon",t.stopPoint="islands#blueDeliveryIcon",t.geoLocation="islands#geolocationIcon"}(Me||(Me={}));class qe{constructor(){this.getAddressInfo=t=>Fe(this,void 0,void 0,(function*(){const n=(0,e.isArray)(t),r=yield this.geocoder(t);return{address:n?r:t,coords:n?t:r}}))}static getIcons(t){const{warehouses_preset:e,point_start_preset:n,point_stop_preset:r}=le.getModalOptions();switch(t){case"startPoint":return n||Me.startPoint;case"stopPoint":return r||Me.stopPoint;case"warehousesPoint":return e||Me.warehousesPoint;case"geoLocation":return Me.geoLocation}return null}}qe.addMapContainer=()=>{const t=se("map");document.getElementById(t)||document.body.appendChild(BX.Tag.render`<div id="${t}"></div>`)},qe.getGreatCircleDistance=(t,e)=>((t,e)=>{const[n,r]=t,[i,o]=e,s=t=>t*H/180,a=s(n),u=s(i),l=s(i-n),c=s(o-r),f=Math.sin(l/2)*Math.sin(l/2)+Math.cos(a)*Math.cos(u)*Math.sin(c/2)*Math.sin(c/2);return 2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))*6371e3})(t,e),qe.getRouteMethod=()=>{const{delivery:{delivery_route_building_method:t}}=le.getOptions();return t};const $e=qe;var ze=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))};const Ve={top:200};class Ue extends $e{constructor(t){super(),this.create=()=>ze(this,void 0,void 0,(function*(){const{fullMode:t}=le.getModalOptions(),{isModalMap:e}=le.getSettings(),{top:n}=Ve,r=new ymaps.Map(se("map"),{center:[55.73,37.75],zoom:10,autoFitToViewport:"always",controls:[]},{yandexMapDisablePoiInteractivity:!0});this.isShowYandexControls()?this.createYandexPromptsControls(r):!t&&e&&this.addCloseButton(r);const i=this.createFloatingAlert();return r.controls.add(i,{maxWidth:200}),r.controls.add("zoomControl",{position:{left:"10px",top:`${n}px`}}),r.cursors.push("pointer"),r.margin.addArea({top:0,left:0,width:"100%",height:"80px"}),this.floatingAlert=i,this.handlers=r.events.group(),this.map=r,r})),this.addSelectEventOnMap=()=>{const{delivery:{point_properties:{event_selection:t,point_selection:e}}}=le.getOptions();e&&this.handlers.add(t,(t=>ze(this,void 0,void 0,(function*(){yield this.onSelectedMap(t.get("coords")),t.preventDefault()}))))},this.geoLocationUser=()=>{ymaps.geolocation.get({provider:"yandex"}).then((t=>{t.geoObjects.options.set({preset:$e.getIcons("geoLocation")}),this.map.geoObjects.add(t.geoObjects),this.map.setBounds(this.map.geoObjects.getBounds())}))},this.getRouteParams=({address:t,coords:e})=>ze(this,void 0,void 0,(function*(){const{delivery:{delivery_calculation_type:n}}=le.getOptions();if(!this.placemarks)return X(BX.message("errorsSetupModules")),null;const r=this.placemarks.getClosestTo(e),i={address:t,warehouse:r,addressCoords:e,warehouseCoords:Ue.getGeoObjectCoordinates(r),endZone:this.searchContaining(e)};if(i.endZone)return Object.assign(Object.assign({},i),{typeDelivery:"in",startZone:null});const o="closest_to_address"===n?this.polygons.getClosestTo(e):this.searchContaining(r);return Object.assign(Object.assign({},i),{typeDelivery:"out",startZone:o})})),this.createOutZoneRoute=t=>ze(this,void 0,void 0,(function*(){const e=$e.getRouteMethod(),n=yield this.getStartCoordinates(t),{addressCoords:r}=t,i=[n,r];this.setState({greatCircleDistance:$e.getGreatCircleDistance(n,r)}),this.removeRoute(),this.removePoints("start"),this.removePoints("stop");return(e===lt?this.createPolyline:this.createRoute)(i)})),this.createRoute=t=>ze(this,void 0,void 0,(function*(){try{const e=yield ymaps.route(t,{useMapMargin:!0});this.map.geoObjects.add(e),this.mapGeoPoints.route=e;const n=e.getWayPoints(),r=n.get(0),i=n.get(n.getLength()-1);if(!r)throw new SyntaxError(`${BX.message("createRouteErrorPoints")}`);r.options.set(Ue.getStartPointProperties()),i.options.set(this.getStopPointProperties({visible:!1}))}catch(t){X(BX.message("createRouteError"),o),X(0,o)}})),this.createStopPoint=(t,e,n)=>ze(this,void 0,void 0,(function*(){const{route:r}=this.mapGeoPoints;!e&&r&&this.removeRoute(),this.removePoints("stop");const i=yield this.addStopPoint(t,n);return le.isShowModal()?this.map.panTo(t,{useMapMargin:!0}):this.map.setCenter(t,10,{checkZoomRange:!0}),i})),this.getDeliveryParams=(t,e)=>{const{startZone:n,endZone:r,warehouse:i}=t,o=e?this.getDistance():0,s=null==n?void 0:n.properties.get("code");return{distance:o,start:s,stop:(null==r?void 0:r.properties.get("code"))||s,warehouse:null==i?void 0:i.properties.get("code")}},this.getDistance=()=>{var t;const e=$e.getRouteMethod(),{route:n}=this.mapGeoPoints;return n?e===lt?null===(t=n.geometry)||void 0===t?void 0:t.getDistance():n.getLength():0},this.searchContaining=t=>{const e=this.polygons.searchContaining(t),n=e.getLength();if(!n)return null;if(1===n)return e.get(0);let r={i:0,zIndex:0};return e.each(((t,e)=>{const n=Number(t.options.get("zIndex"));n>r.zIndex&&(r={i:e,zIndex:n})})),e.get(r.i)},this.resetState=()=>{var t;null===(t=this.map)||void 0===t||t.geoObjects.removeAll(),(0,e.isEmpty)(this.handlers)||this.handlers.removeAll()},this.addGeoToMap=(t,e)=>{const{show_warehouses_title:n,show_warehouses:r}=le.getModalOptions(),i=ymaps.geoQuery(t).addToMap(this.map);i.each(((t,e)=>{const{properties:i}=t,o=i.get("hint-content")||i.get("iconCaption"),s=t.geometry.getType();if("Point"===s){const e=n?o:"",s={visible:r};$e.getIcons("warehousesPoint").startsWith("islands#")?s.preset=$e.getIcons("warehousesPoint"):(s.iconLayout="default#image",s.iconImageSize=[45,45],s.iconImageHref=$e.getIcons("warehousesPoint")),t.options.set(s),i.set("iconCaption",e),i.set("iconContent",e)}"Polygon"===s&&(t.options.set({fillColor:i.get("fill"),fillOpacity:i.get("fill-opacity"),strokeColor:i.get("stroke"),strokeWidth:i.get("stroke-width"),strokeOpacity:i.get("stroke-opacity"),zIndex:i.get("zIndex"),interactivityModel:"default#transparent"}),i.set("hintContent",o))})),this.map.setBounds(this.map.geoObjects.getBounds(),{checkZoomRange:!0,zoomMargin:120}),this.setGeoPoints(e,i)},this.setSearchControl=t=>{this.controlSearch.state.set("inputValue",t)},this.balloonOpen=()=>{const{fullMode:t}=le.getModalOptions(),e=this.balloonStopPoint;e&&!t&&(null==e||e.balloon.open())},this.removePoints=t=>{this.removeGeoObjects([this.mapGeoPoints[t]]),this.balloonStopPoint=null,this.mapGeoPoints[t]=null},this.geocoder=t=>ze(this,void 0,void 0,(function*(){try{const n=(yield ymaps.geocode(t,{results:1})).geoObjects.get(0),{Components:r,formatted:i}=(0,e.get)(n.properties.get("metaDataProperty"),["GeocoderMetaData","Address"],null),o=Ue.getAddressLine(r,i);return(0,e.isArray)(t)?o:n.geometry.getCoordinates()}catch(t){return X(BX.message("geoCodeError"),o),X(0,o),null}})),this.addStartPoint=t=>this.addGeoPoint("start",t,Ue.getStartPointProperties()),this.addStopPoint=(t,e)=>ze(this,void 0,void 0,(function*(){const{fullMode:n}=le.getModalOptions();if(n){const e=yield this.addGeoPoint("stop",t,this.getStopPointProperties());return this.addDraggableEvent(e),e}return this.addBalloonModal(t,e)})),this.addBalloonModal=(t,e)=>ze(this,void 0,void 0,(function*(){const{show_calculate_price:n,show_route_calculate:r}=le.getModalOptions(),i=ymaps.templateLayoutFactory.createClass((({show:t,params:e})=>{const{address:n,deliveryPrice:r,distance:i}=e,o=0>r,s=o?"":`<div class="${se("balloonData")}">${Te({show:t.total,price:r})}\n         ${De(Object.assign({show:t.route},ae(i)))}</div>`;return`<div class="${se("balloonLayout")}">\n                    <div class="${se("balloonAddress")}">\n                        <p class="${se("addressField")}">${n}</p>\n                    </div>\n                    ${s}\n                    <button class="${`btn ${se("balloonButton")} ${!o&&"btn-primary"}`.trim()}"\n                    type="button"\n                    ${o&&"disabled"}\n                    onclick="window.onApplyAddress()">${BX.message(o?"deliveryAddressError":"confirm")}</button>\n                  <div class="${se("balloonArrow")}"></div>\n              </div>`})({show:{total:n,route:r},params:e}),{applyElementOffset:function(){const t=this.getParentElement().querySelector(`.${se("balloonLayout")}`);be(t,[["left",-(t.offsetWidth/2+3)+"px"],["top",-(t.offsetHeight+14)+"px"]])},build:function(){this.constructor.superclass.build.call(this),this.applyElementOffset()},onSublayoutSizeChange:function(){i.superclass.onSublayoutSizeChange.apply(this,arguments),this.applyElementOffset()}}),o=new ymaps.Placemark(t,{},{visible:!1,balloonShadow:!1,balloonLayout:i,hideIconOnBalloonOpen:!0});return yield this.addGeoObjectToMap("stop",o),this.balloonStopPoint=o,this.balloonOpen(),o})),this.addGeoPoint=(t,n,r)=>ze(this,void 0,void 0,(function*(){if(!(0,e.isArray)(n))return null;const i=new ymaps.GeoObject({geometry:{type:"Point",coordinates:n}},r);return yield this.addGeoObjectToMap(t,i),i})),this.addDraggableEvent=t=>{Ue.hasDraggableStopPoint()&&t.events.add("dragend",this.handlerOnDragEndPoint)},this.setFloatingAlertPosition=()=>{const[t]=this.map.container.getSize(),e=t/2-100;this.floatingAlert.options.set({position:{left:`${e}px`,top:le.isYandexPrompts()?"55px":"20px"}})},this.removeRoute=()=>{const{route:t}=this.mapGeoPoints;this.removeGeoObjects([t]),this.mapGeoPoints.route=null},this.removeGeoObjects=t=>{t.forEach((t=>{t&&this.map.geoObjects.remove(t)}))},this.addGeoObjectToMap=(t,e)=>ze(this,void 0,void 0,(function*(){this.mapGeoPoints[t]=e,yield this.map.geoObjects.add(e)})),this.createFloatingAlert=()=>new ymaps.control.Button({data:{content:""},options:{layout:ymaps.templateLayoutFactory.createClass(`<div class="${se("floatingAlert")}">{{ data.content }}</div>`)}}),this.createApplyButton=()=>{const t=new ymaps.control.Button({data:{content:BX.message("confirm")},options:{layout:ymaps.templateLayoutFactory.createClass(`<button class="${se("yandexButtonApply")}">{{ data.content }}</button>`)}});return t.events.add("click",this.onApplyModal),t},this.createCloseButton=()=>{const t=new ymaps.control.Button({data:{content:`<div class="${se("close")}"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.415L17.585 5 12 10.585 6.415 5 5 6.415 10.585 12 5 17.585 6.415 19 12 13.415 17.585 19 19 17.585 13.415 12 19 6.415z"></path></svg></div>`,title:BX.message("yandexSuggestionTitleClose")}});return this.handleOnCloseModal(t),t},this.handleOnCloseModal=t=>{t.events.add("click",(()=>{t.state.set("selected",!0),this.onCloseModal()}))},this.createPolyline=t=>ze(this,void 0,void 0,(function*(){const[e]=t;yield this.addStartPoint(e);const n=new ymaps.Polyline(t,{},{strokeColor:"#b644df",strokeWidth:4});yield this.addGeoObjectToMap("route",n)})),this.createSearchControl=()=>{var t;const{yandex:n}=yt.getUserSettings(),r=new ymaps.control.SearchControl({options:(0,e.merge)({size:"auto",noPlacemark:!0,placeholderContent:BX.message("yandexSuggestionPlaceholder")},(null===(t=null==n?void 0:n.options)||void 0===t?void 0:t.search)||{})});return r.events.add("resultshow",this.showSearchResult),r},this.showSearchResult=t=>{const e=t.get("index"),n=this.controlSearch.getResultsArray()[e].geometry.getCoordinates();this.onSelectedMap(n)},this.searchIntersect=(t,n)=>{const r=Ue.createRouteGeoObjects(n.getPaths()),i=ymaps.geoQuery(r).addToMap(this.map),o=i.searchIntersect(t),s=o.getLength();return i.each((t=>this.map.geoObjects.remove(t))),s>0?(0,e.first)(Ue.getGeoObjectCoordinates(o.get(s-1))):null},this.getStopPointProperties=t=>Object.assign({visible:!0,preset:$e.getIcons("stopPoint"),draggable:Ue.hasDraggableStopPoint()},t),this.handlerOnDragEndPoint=t=>ze(this,void 0,void 0,(function*(){const e=Ue.getGeoObjectCoordinates(t.get("target"));yield this.onSelectedMap(e)})),this.getStartCoordinates=t=>ze(this,void 0,void 0,(function*(){const{addressCoords:e,warehouseCoords:n,startZone:r}=t;if($e.getRouteMethod()===lt)return Ue.getClosestCoordinates(r,e);const i=[n,e];let a=null,u=null;try{a=yield ymaps.route(i),u=this.searchIntersect(r,a)||Ue.getClosestCoordinates(r,e)}catch(t){u=n,X(0,s),X(BX.message("yandexErrorRoute"),o)}return u})),this.setGeoPoints=(t,e)=>{this[t]=e},this.isShowYandexControls=()=>{const{isCustomCalculate:t,yandex:e}=yt.getUserSettings();return t?Boolean(null==e?void 0:e.controls)&&le.isYandexPrompts():le.isYandexPrompts()},this.addCloseButton=t=>{const e=this.createCloseButton();t.controls.add(e,{float:"right",floatIndex:100})},this.createYandexPromptsControls=t=>{const{isModalMap:e}=le.getSettings(),{fullMode:n}=le.getModalOptions(),{isCustomCalculate:r}=yt.getUserSettings();if(e&&this.addCloseButton(t),t.controls.add("geolocationControl",{float:"left",floatIndex:550}),this.controlSearch=this.createSearchControl(),t.controls.add(this.controlSearch,{float:"left",floatIndex:500}),!r&&n||r&&e){const e=this.createApplyButton();t.controls.add(e,{float:"left",floatIndex:450})}},this.map=null,this.handlers=null,this.polygons=null,this.placemarks=null,this.controlSearch=null,this.balloonStopPoint=null,this.mapGeoPoints={start:null,stop:null,route:null};const{onSelectedMap:n,setSuggestions:r,onApplyModal:i,onCloseModal:a,setState:u}=t;this.onSelectedMap=n,this.setSuggestions=r,this.onApplyModal=i,this.onCloseModal=a,this.setState=u}showToViewport(){this.map.container.fitToViewport();const t=$e.getRouteMethod();if(this.mapGeoPoints.route&&"route"===t){const{width:t,height:e}=BX(se("map")).getBoundingClientRect(),n=this.mapGeoPoints.route.properties.get("boundedBy"),r=ymaps.util.bounds.getCenterAndZoom(n,[t,e]);this.map.setCenter(r.center,r.zoom,{checkZoomRange:!0})}else this.map.setBounds(this.map.geoObjects.getBounds(),{checkZoomRange:!0});this.setFloatingAlertPosition()}}Ue.getGeoObjectCoordinates=t=>t.geometry.getCoordinates(),Ue.getStartPointProperties=()=>({preset:$e.getIcons("startPoint")}),Ue.createRouteGeoObjects=t=>{const e=[];return ymaps.geoQuery(t).each((t=>{const n=Ue.getGeoObjectCoordinates(t);for(let t=1,r=n.length;t<r;t+=1)t%5==0&&e.push({type:"LineString",coordinates:[n[t],n[t-1]]})})),e},Ue.getClosestCoordinates=(t,e)=>t.geometry.getClosest(e).position,Ue.getAddressLine=(t,n)=>{const r=(0,e.find)(t,{kind:"country"});return(0,e.split)(n,", ").filter((t=>t!==r.name)).join(", ")},Ue.hasDraggableStopPoint=()=>(0,e.get)(le.getOptions(),["delivery","point_properties","point_draggable"],!1);const He=Ue;var We=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},Ge=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};class Xe extends le{constructor(){super(),this.initMapProvider=()=>We(this,void 0,void 0,(function*(){return new Ee(He,{loader:this.loader,setState:this.setState,setSuggestions:this.setSuggestions,onSelectedMap:this.onSelectedMap,onCloseModal:this.handleCloseModal,onApplyModal:this.onApplyAddress})})),this.createSuggestions=()=>{const{prompts:{type:t}}=this.settings,e=(n=t,r={getSuggestionProperties:this.getSuggestionProperties},new(0,pe[n])(r));var n,r;e.isEnabled()&&(this.suggestions=new _e(e),this.suggestions.setOnSelectNothing(this.onSelectNothing))},this.openModal=()=>{this.modal.popup.show(),me.prepareHeightsAddressModal(),this.setState({isShowModal:!0}),this.setTotalPrice(),this.notification.make()},this.handleCloseModal=()=>{Ae.close(),this.setState({isShowModal:!1})},this.onApplyAddress=()=>We(this,void 0,void 0,(function*(){le.isShowModal()&&this.handleCloseModal();const{price:t,address:e}=le.getState().realTimeDelivery;yield this.onSetAddress(e),this.notification.make(),this.changePrice(t)})),this.setSuggestions=t=>{this.suggestionData=t},this.resetDeliveryPrices=(t,e)=>{const{currentDeliveryID:n}=le.getState();this.setDelivery({id:n,price:0,address:null}),this.setState({deliveryPrice:null}),this.total&&this.total.resetTotal(),this.resetCookie(t)},this.bxOrderSaveHandlers=()=>{const t=le.getBxOrder("mobileTotalBlockNode"),e=le.getBxOrder("totalInfoBlockNode");t&&e&&["[data-save-button]","a.btn-order-save","a.btn-order-save"].forEach((t=>{const e=document.querySelector(t);e&&e.addEventListener("click",this.validationProperty)}))},this.createCookie=t=>{this.setDelivery(t),this.setState({isShowBlockAlert:!1});const n=dt.getValue(st)||{},r=(0,e.merge)(n,{[t.id]:t});dt.setTenMinutes(st,JSON.stringify(r))},this.resetCookie=t=>{at.map(dt.get).filter(Boolean).length&&(at.map(dt.removeGlobal),t&&(0,e.defer)(this.runBxOrder))},this.createAddressField=()=>{const t=this.getAddressFields();t.length&&(this.addressField=new me({addressFields:t,calculateDelivery:this}),this.notification.setAddressField(this.addressField))},this.onSelectedMap=t=>We(this,void 0,void 0,(function*(){this.setState({isSelectOnMap:!0}),this.suggestionData=null,yield this.onCalculateRoute(t)})),this.onSelectedAddress=({value:t,input:e})=>We(this,void 0,void 0,(function*(){this.addressField&&this.addressField.setCurrentSelectedInput(e),this.setState({isSelectOnMap:!1}),yield this.onCalculateRoute(t)})),this.onSelectNothing=t=>{this.setErrors(t),this.notification.make()},this.onCalculateRoute=(t,n=!1)=>We(this,void 0,void 0,(function*(){var r,i,o;let s=t,a=null;if((0,e.isString)(t)&&!this.isNewAddress(t)&&!n)return;const u=yield null===(r=this.mapProvider)||void 0===r?void 0:r.calculateRoute(s);u&&this.canCalculate()&&(yield this.calculateProcessing(u),s=null===(i=null==u?void 0:u.delivery)||void 0===i?void 0:i.address,a=null===(o=null==u?void 0:u.delivery)||void 0===o?void 0:o.price),(0,e.isString)(s)&&(yield this.onSetAddress(s)),yield this.checkErrorsCalculate(u),this.notification.make(),this.changePrice(a)})),this.onSetAddress=t=>We(this,void 0,void 0,(function*(){if(t&&this.addressField){if(this.addressField.setAddress(t),le.isSuggestions()&&!le.isSelectOnMap()){const t=yield this.addressField.changeBitrixLocation(this.suggestionData);this.setState({isChangeLocation:t}),this.setErrors({show:"boolean"==typeof t&&!t,code:"deliveryAddressError"}),!this.canCalculate()&&t&&this.runBxOrder()}this.mapProvider.setSearchControl(t),le.isShowModal()?le.isDadataPrompts()&&(me.setAddressToModalField(t),me.prepareHeightsAddressModal()):this.addressField.setAddressToDOM(t)}})),this.isNewPrice=t=>this.getDeliveryPrice()!==t,this.getInitialDeliveryPrice=()=>{const t=this.getSelectedDelivery();if(!t)return this.getStartPrice();if(null==t?void 0:t.CALCULATE_ERRORS)return-1;const e=le.getBxOrder([r,"TOTAL","DELIVERY_PRICE"]);return nt(String(e))?e:this.getStartPrice()},this.canCalculate=()=>{var t,e;const{isCustomCalculate:n}=this.settings,r=Object.keys((null===(e=null===(t=this.options)||void 0===t?void 0:t.delivery)||void 0===e?void 0:e.deliveries_configs)||{}),i=this.getSelectedDelivery();return Array.isArray(r)&&r.some((t=>t==(null==i?void 0:i.ID)))||n},this.isNewAddress=(t,n)=>{if(!t)return!1;const{currentDeliveryID:r}=le.getState(),{address:i}=this.getDelivery(n||Number(r));return(0,e.trim)(t)!==i},this.getGeoJson=t=>{const{isCustomCalculate:e}=this.settings,{mapSettings:n}=yt.getUserSettings(),r=e?{points:n.points}:{deliveryID:t};return le.fetch(Object.assign({action:"getCoords"},r))},this.getDeliveryConfig=t=>{var e,n;const{delivery:r}=this.options,{currentDeliveryID:i}=le.getState();return null===(n=null===(e=null==r?void 0:r.deliveries_configs)||void 0===e?void 0:e[i])||void 0===n?void 0:n[t]},this.getAddressFields=()=>{const t=this.suggestions.getSuggestionsTypes();return Array.isArray(t)&&t.length>0?t.filter((({code:t})=>(0,e.isString)(t)?"ADDRESS"===t.toUpperCase():"ADDRESS"===t.type.toUpperCase())):[]},this.initState=()=>{this.setState({isChangeLocation:!1})},this.onSelectSuggestion=t=>We(this,void 0,void 0,(function*(){const{data:n}=t,r=Ge(t,["data"]);me.prepareHeightsAddressModal(),(0,e.isEmpty)(n)||this.setSuggestions(n),yield this.onSelectedAddress(r)})),this.onAjaxSuccess=()=>We(this,void 0,void 0,(function*(){z.isExist()&&(yield this.initParameters(),this.canCalculate()?(this.createAddressField(),le.getState().isInitStartFunctions||(yield this.initStartFunctions()),this.bxOrderSaveHandlers(),this.initSuggestions(),yield this.autoCalculate(),this.initState(),this.notification.make()):this.initSuggestions())})),this.validationProperty=()=>{const{additional_fields:t}=this.options,{personType:n}=le.getState(),r=this.suggestions.getAddressID(),i=t[n];(0,e.isArray)(i)&&i.length>0&&(0,e.uniq)([...i,(0,e.toString)(r)]).forEach((t=>{const n=le.getBxOrder(["validation","properties",t]);if((0,e.isObject)(n)&&"Y"===n.REQUIRED){const e=Z(t),r=`${BX.message("field")} "${n.NAME}" ${BX.message("required")}`;G.showError(e[0],r)}}))},this.autoCalculate=()=>We(this,void 0,void 0,(function*(){if(!z.isExist()||!this.canCalculate())return;const{isNewAddress:t,currentDeliveryID:n}=le.getState(),{delivery:{auto_calculate_delivery:r}}=this.options,i=this.getDefaultParams("address"),o=this.getCookieDelivery(n);r&&!(0,e.isEmpty)(i)&&(t||(0,e.isEmpty)(o))&&(yield this.onCalculateRoute(i,!0))})),this.isChangeProfileOrPersonType=t=>{const{[f.PERSON_TYPE]:e,[f.PROFILE]:n}=le.getState(),{[f.PERSON_TYPE]:r,[f.PROFILE]:i}=t;return dt.isset()&&(n&&n!==i||e&&e!==r||this.isResetByChangeLocation())},this.isChangeDelivery=t=>{const{currentDeliveryID:e}=le.getState();return Boolean(e)&&e!==t},this.getFieldByNameForProps=t=>{const{[f.PERSON_TYPE]:n}=le.getState(),r=(0,e.get)(this.options,[x,"properties",n,"order_props"]);if(!r)return!1;const i=((t,n)=>{var r;return null!==(r=(0,e.keys)(t).find((e=>t[e]===n)))&&void 0!==r&&r})(r,t);return!!i&&Z(i)},this.setApiWindowFunction=()=>{window.showYaDeliveryModal=this.openModal,window.onCalculateRoute=this.onCalculateRoute,window.animatedTo=U,window.onApplyAddress=this.onApplyAddress},this.changePrice=t=>{const{isChangeLocation:e}=le.getState(),n=this.isNewPrice(t),r=this.getInitialDeliveryPrice(),i=0===t&&r===t;if(!le.isShowModal()&&(n||i||e)){const{realTimeDelivery:t}=le.getState(),e=null!=t?t:this.getDelivery();this.createCookie(e),setTimeout(this.runBxOrder,200)}},this.getDeliveryPrice=()=>{const{price:t}=this.getDelivery();return this.notification?rt(t):0},this.setInitOptions=t=>{this.setOptions(t);const{isCustomCalculate:e,displayMap:n,typePrompts:r}=yt.getUserSettings(),{delivery:{enable:o},suggestions:{type_prompts:s,dadata:{enable:a}}}=t,u=r||s,l={isModalMap:!e||"MODAL"===n,isDeliveryEnabled:o,isCustomCalculate:e,prompts:{type:u,isDadata:u===x&&a,isYandex:u===i}};this.setState({isInitServices:!1,isInitStartFunctions:!1,currentDeliveryID:null}),this.setSettings(l)},this.initStartFunctions=()=>We(this,void 0,void 0,(function*(){const{isCustomCalculate:t}=this.settings;S()(document).on("input",".bx-custom-customer-input",(t=>{const e=t.target,n=e.dataset.id,r=document.querySelector(`#soa-property-${n}`);r&&(r.value=e.value)})),this.setApiWindowFunction(),yield this.initServices(),t||this.bxOrderSaveHandlers(),this.setState({isInitStartFunctions:!0})})),this.showBlockAlert=()=>{const{isShowBlockAlert:t,isCustomCalculate:e}=this.settings,n=dt.get(st);e||!t||n||V(BX.message("deliveryBlockError"),"DELIVERY")},this.initParameters=()=>We(this,void 0,void 0,(function*(){const t=this.getSelectedParameters(),n=t[f.DELIVERY],r=t[f.PERSON_TYPE],i=n.ID;this.getDefaultParams=et(i);const o=this.canCalculate(),s=Object.assign(Object.assign({},t),{currentDeliveryID:i});if(!o||!r)return void this.setState(s);const a=this.getDefaultParams("address"),u=(0,e.isString)(a)?a:"";let l=this.isNewAddress(u,Number(i));const c=this.isChangeDelivery(i);if(this.setDelivery({id:i,address:u,price:this.getInitialDeliveryPrice()}),c&&this.mapProvider){const t=yield this.getGeoJson(Number(i));t&&this.mapProvider.reloadPolygons(t),this.clearErrors()}this.isChangeProfileOrPersonType(t)&&(!(0,e.isEmpty)(u)&&l?(yield this.onCalculateRoute(u,!0),l=!1):this.resetDeliveryPrices(!0,!0)),this.setState(Object.assign(Object.assign({},s),{isNewAddress:l})),this.showBlockAlert()})),this.getSelectedParameters=()=>({[f.PROFILE]:this.getCheckedOptionByName(d.PROFILE),[f.PERSON_TYPE]:this.getCheckedOptionByName(d.PERSON_TYPE),[f.DELIVERY]:this.getCheckedOptionByName(d.DELIVERY)}),this.isResetByChangeLocation=()=>{var t,e;const{isCustomCalculate:n}=this.settings,r=this.getLocationCode(),i=null===(e=null===(t=this.options)||void 0===t?void 0:t.delivery)||void 0===e?void 0:e.reset_delivery_by_location,{locationCode:o,isChangeLocation:s}=le.getState();return r&&this.setState({locationCode:r}),!(!o||!r)&&(!s&&!n&&i&&o!==r)},this.getLocationCode=()=>{const t=this.getLocationID(),n=Z(t);return(0,e.toString)(n.val())},this.getCookieDelivery=t=>{const e=dt.getValue(st);return null==e?void 0:e[t]},this.initServices=()=>We(this,void 0,void 0,(function*(){const{isDeliveryEnabled:t,isModalMap:e}=this.settings;if(!t)return;this.mapProvider=yield this.initMapProvider();const{currentDeliveryID:n}=le.getState();e&&(this.modal=this.createModal());try{const t=yield this.getGeoJson(Number(n));yield this.mapProvider.create(t),this.total=new we,this.setState({isInitServices:!0})}catch(t){throw X(0,o),new SyntaxError(`${BX.message("noCoordinates")}${n} (calculate)`)}})),this.createModal=()=>{const{prompts:t}=this.settings,{address:e}=this.getDelivery(),n=new Ae({prompts:t});return n.create({address:e,locationProps:this.getSuggestionProperties("location"),onCloseModal:this.handleCloseModal,onApplyAddress:this.onApplyAddress,geoLocationUser:this.mapProvider.geoLocationUser,showToViewport:this.mapProvider.showToViewport}),n},this.calculateProcessing=t=>{const{currentDeliveryID:e}=le.getState(),n=null==t?void 0:t.delivery,{price:r,address:i}=n;q.api("afterCalculate",t);const o=(null==n?void 0:n.distance)||0;this.setState({realTimeDelivery:{id:e,price:rt(r),address:i,distance:o&&rt(o)}}),this.setTotalPrice(),this.loader.end()},this.setTotalPrice=()=>{var t;const{realTimeDelivery:e}=le.getState(),n=null!==(t=null==e?void 0:e.price)&&void 0!==t?t:this.getDeliveryPrice();this.total.setTotalPrice(n,null==e?void 0:e.distance)},this.clearErrors=()=>{this.setErrors({show:!1,code:null})},this.notification=new Ne,this.suggestionData=null,this.addressField=null,this.suggestions=null,this.loader=new b,this.modal=null,this.total=null,this.mapProvider=null,this.api=new yt(this.setState),this.getDefaultParams=e.noop}init(t){return We(this,void 0,void 0,(function*(){t();le.fetch({action:"init"}).then((t=>We(this,void 0,void 0,(function*(){yield this.api.executeReadyStack(),this.setInitOptions(t),yield this.initParameters(),this.createSuggestions(),this.canCalculate()&&(yield this.initStartFunctions()),this.createAddressField(),this.initSuggestions(),this.initState(),z.wrapperRefreshSaleOrderAjax(this.onAjaxSuccess),yield this.autoCalculate()}))))}))}checkErrorsCalculate(t){var e;const n=null==t?void 0:t.delivery;this.setErrors(Object.assign({show:-1===(null==n?void 0:n.price),code:"deliveryAddressError"},null===(e=null==t?void 0:t.additional)||void 0===e?void 0:e.notification))}initSuggestions(){this.suggestions&&this.suggestions.init(this.onSelectSuggestion)}getSelectedDelivery(){return this.getCheckedOptionByName(d.DELIVERY)}getStartPrice(){const{mapSettings:t,isCustomCalculate:e}=yt.getUserSettings();return rt(e?null==t?void 0:t.startPrice:this.getDeliveryConfig("startPrice"))}}Xe.activateCalculateButtons=()=>{const t=document.querySelector(se("showDeliveryButton")),e=document.querySelector(se("calculateCostButton"));t&&(t.disabled=!1),e&&(e.disabled=!1)},q.create(ut),q.set("run",((t=!1)=>new Promise((n=>{if(!t)return;const r=(0,e.get)(window,"json_options");if(!r)return void X(0,o);const{enable_delivery:i,enable_dadata:s,api_key_yandex_maps:a,path_core:u,console_logs:l}=r;if(!s&&!i)return;const c=()=>{q.set("path_core",u),q.set("log",l);(new Xe).init(n)};if((0,e.isEmpty)(r))X(BX.message("notLoadJsonOption"),o);else if(!s||i)if(i||X(BX.message("notEnableDeliveryCalc"),o),a)try{let t=0,n=!1;const r=3,o=()=>{t+=1,(0,e.isUndefined)(window.ymaps)?t<=r/.1?setTimeout(o,200):!n&&(0,e.isUndefined)(window.ymaps)&&(t=0,n=!0,BX.loadScript(`//api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=${a}`,o)):ymaps.ready(c)};i&&o()}catch(t){X(0,o)}else X(BX.message("notApiKey"),o);else c()})))),BX.ready((()=>{q.get("run")(z.isExist())}))})()})();